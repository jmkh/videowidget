!function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return n(i||e)},d,d.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){"use strict";function r(e){var t=e.getBoundingClientRect(),i=document.body,r=document.documentElement,n=window.pageYOffset||r.scrollTop||i.scrollTop,o=window.pageXOffset||r.scrollLeft||i.scrollLeft,a=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,c=t.top+n-a,d=t.left+o-s;return{top:Math.round(c),left:Math.round(d)}}function n(e){for(var t=0,i=0;e;)t+=parseFloat(e.offsetTop),i+=parseFloat(e.offsetLeft),e=e.offsetParent;return{top:Math.round(t),left:Math.round(i)}}function o(e){return e.getBoundingClientRect?r(e):n(e)}function a(e){function t(){return i.frame=document.createElement("iframe"),i.frame.height=i.size.height,i.frame.width=i.size.width,i.frame.scrolling="no",i.frame.style.border="0",i.frame.style.margin="0",i.frame.src="//apptoday.ru/autogit/autostop/multioverlay.html?index="+i.index,i.frame.onload=function(){var e=i.config;e.width=i.size.width,e.height=i.size.height,l("execute",{index:i.index,config:e},i.frame.contentWindow)},i.WrapperDiv.appendChild(i.frame),i.frame}var i=this;this.WrapperDiv=null,this.config=null,this.container=e,this.pos=o(e),this.bridge=this.Bridge=new u,this.index=this.bridge.index,this.bridge.addAction("die",function(e){i.WrapperDiv&&(document.body.removeChild(i.WrapperDiv),i.WrapperDiv=null),i.callback()}),this.size={width:e.scrollWidth,height:e.scrollHeight},this.render=function(e,t){e=e||i.size,t=t||i.pos;var r=document.createElement("div");return r.className="mp-wrapper",r.id="mp-wrapper"+i.bridge.index,r.style.width=e.width+"px"||"200px",r.style.height=e.height+"px"||"200px",r.style.position="absolute",r.style.zIndex=1e4,r.style.cursor="pointer",r.style.top=t.top+"px",r.style.left=t.left+"px",r.onclick=function(e){i.execute(i)},i.WrapperDiv=r,document.body.appendChild(r),r},this.execute=function(e){t()},this.render()}function s(e){var t=this;this.containers=[],this.wrappers=[],this.selector=e.selector||"video",this.callback=e.callback||function(){},new c({auth:{affiliate_id:e.affiliate_id,pid:e.pid},successFn:function(e){t.config=e,"video"==t.selector?t.getStandartContainers():t.getContainers(),t.makeWrappers()}}),this.wrapperClick=function(e){},this.getContainers=function(e){e=e||t.selector;var i=Array.from(document.querySelectorAll(e));t.containers=t.containers.concat(i)},this.getStandartContainers=function(){for(var e=Array.from(document.querySelectorAll("video")),i=Array.from(document.querySelectorAll("embed")),r=document.querySelectorAll("iframe"),n=[],o=0;o<r.length;o++)r[o].src.indexOf("youtube")>=0&&n.push(r[o]);t.containers=t.containers.concat(e,i,n)},this.makeWrappers=function(){for(var e=0;e<t.containers.length;e++){var i=t.containers[e],r=new a(i);r.config=t.config,r.callback=t.callback,t.wrappers.push(r)}}}var c=e("./configurator"),d=e("./iFrameBridge"),u=d.Bridge,l=d.callAction;t.exports=s},{"./configurator":2,"./iFrameBridge":4}],2:[function(e,t,i){"use strict";function r(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}function n(e){var t={size:{width:"350",height:"400"},container:"#mp-video-widget-container-56015401b3da9-20",auth:{affiliate_id:"56015401b3da9",pid:"20"},errorFn:function(){},successFn:function(e){console.log(e)}},i=t;for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);var a=this;this.loaded=!1,this.configUrl="https://widget.market-place.su/videooptions/"+i.auth.affiliate_id+"_"+i.auth.pid+".json?p="+Math.random();var s=e.errorFn||function(){};e.successFn;o.ajax(this.configUrl,{errorFn:s,successFn:function(e){try{var t=JSON.parse(e);if(void 0!==t.error)throw new Error("Виджет удалён.");for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);var s=/Android|Silk|Mobile|PlayBook/.test(window.navigator.userAgent),c=r();switch(a.isDesktop=!s,!0){case c:a.ads=t["ads-mobile"].iOS;break;case s:a.ads=t["ads-mobile"].Android}o.ajax("https://widget.market-place.su/proxy_referer/",{errorFn:function(){},successFn:function(e){try{var r=JSON.parse(e);a.loaded=!0,a.referer=r,i.successFn(a),window.parent.postMessage(t,"*")}catch(e){console.log("битая конфигурация",e)}}})}catch(e){console.log("битая конфигурация",e)}}})}var o=e("./httpclient");t.exports=n},{"./httpclient":3}],3:[function(e,t,i){"use strict";var r={ajax:function(e,t){var i=e;t=t||{};var r=t.errorFn||function(){},n=t.successFn||function(){},o=t.type||"GET",a=t.data||{},s=JSON.stringify(a);if(o=o.toUpperCase(),window.XMLHttpRequest)var c=new XMLHttpRequest;else var c=new ActiveXObject("Microsoft.XMLHTTP");if("GET"==o){s=null,i.indexOf("?")<0&&(i+="?1=1");for(var d in a)a.hasOwnProperty(d)&&(i+="&"+d+"="+a[d])}c.open(o,i,!0),c.onreadystatechange=function(){4==c.readyState?200==c.status?n({response:c.responseText}):r({status:c.status}):r({status:c.readyState})},c.onreadystatechange=function(){4==c.readyState&&(200==c.status?n(c.responseText):r({status:c.status}))};try{c.withCredentials=t.withCredentials||!1,c.send(s)}catch(e){}}};t.exports=r},{}],4:[function(e,t,i){"use strict";function r(e){var e=e||o();return void 0===window.MpFrameBridges&&(window.MpFrameBridges={}),void 0!==window.MpFrameBridges[e]?window.MpFrameBridges[e]:(window.MpFrameBridges[e]=new a(e),window.MpFrameBridges[e])}function n(e,t,i){i.postMessage({name:e,data:t,bridgeAction:!0},"*")}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function a(e){this.index=e||o();var t={default:function(){}};this.execAction=function(e,i){(t[e]||t.default||function(){}).call(this,i)},this.addAction=function(e,i){t[e]=i},this.showActions=function(){console.log(t)}}window.makeBridge=r,window.mp_bridge_listener=function(e){if("object"==typeof e.data&&void 0!==e.data.bridgeAction&&1==e.data.bridgeAction){if("broadcast"==e.data.data.index&&void 0!==window.MpFrameBridges)for(var t in window.MpFrameBridges)window.MpFrameBridges.hasOwnProperty(t)&&window.MpFrameBridges[t].execAction(e.data.name,e.data.data);r(e.data.data.index).execAction(e.data.name,e.data.data)}},void 0===window.MpBridgeListenerAttached&&(window.addEventListener?window.addEventListener("message",mp_bridge_listener):window.attachEvent("onmessage",mp_bridge_listener),window.MpBridgeListenerAttached=!0),t.exports={Bridge:r,callAction:n}},{}],5:[function(e,t,i){var r=e("./../models/OverlayLib");window.MpOverPlayLib=r},{"./../models/OverlayLib":1}]},{},[5]);