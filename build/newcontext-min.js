!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function r(t){this.config={cols:1,rows:1,width:200,height:200,block_size:{width:200,height:200},auth:{affiliate_id:"",pid:""},container:"#container2",limit:1};var e=this;this.blocks=[],this.container=document.querySelector(this.config.container),function(t){for(var n in t)t.hasOwnProperty(n)&&(e.config[n]=t[n]);e.config.limit=e.config.cols*e.config.rows,e.config.block_size.width=e.config.width/e.config.cols,e.config.block_size.height=(e.config.height-20)/e.config.rows,e.container.style.width=e.config.width+"px",e.container.style.height=e.config.height+"px"}(t),this.searchYouTube=function(t,n){var r="video.market-place.su";r="video2.market-place.su";var t=t||"nokia",n=n||function(){},i=e.config,s={q:t,count:i.limit,affiliate_id:i.affiliate_id,pid:i.pid};o("https://"+r+"/videoapi/search",{method:"GET",data:s,successFn:function(t){n(t)}})},this.onFirstPlay=function(){},this.playAds=function(t){e.execCallback(function(){t.play(),e.container.style.display="block",console.log("")})},this.onPlay=function(t){for(var n in e.blocks)t.mp_player_id!=e.blocks[n].mp_player_id&&e.blocks[n].hide();t.dimensions(e.config.width,e.config.height-20),void 0===window.myppp&&(e.playAds(t),t.pause(),window.myppp=t)},this.onPause=function(t){return},this.onEnded=function(t){t.dimensions(e.config.block_size.width,e.config.block_size.height);for(var n in e.blocks)t.mp_player_id!=e.blocks[n].mp_player_id&&e.blocks[n].show()},this.renderJsVideoPlayer=function(t,n,r){n=n||e.container,r=r||e.config.block_size;var o="mp_video_player"+Math.random().toString(36).substr(6),s=document.createElement("video");s.id=o,s.className="video-js vjs-default-skin mp-video-block",s.style.display="inline-block",n.appendChild(s);var a=i(s,{techOrder:["html5","flash","youtube"]},function(){var t=this;this.on("firstplay",function(n){e.onFirstPlay(t)}),this.on("play",function(){e.onPlay(t)}),this.on("ended",function(){e.onEnded(t)}),this.on("pause",function(){e.onPause(t)})});return a.src([{src:t,type:"video/youtube"}]),a.controls(!0),a.preload(!0),a.dimensions(r.width,r.height),a.mp_player_id=o,e.blocks[o]=a,a},function(){var t=document.createElement("div");t.className="mp-widget-copyright",t.style.borderBottom="1px solid #333",t.style.backgroundColor="rgba(255,255,188,0.1)",t.style.textAlign="right",t.style.paddingRight="10px",e.container.className="mp-video-widget-container",e.container.appendChild(t),t.innerHTML="<a target='_blank' rel='nofollow' class='mp-widget-copyright mp-copy-src'  href='//youtube.com'  >видео предоставлено YouTube </a><a target='_blank' class='mp-widget-copyright mp-own-src' rel='nofollow' href='//partner.market-place.su' >Market-Place рекомендует</a>",e.container.style.border="3px solid #333",e.container.style.borderRadius="5px"}()}for(var o=t("./httpclient").ajax,i=t("video.js"),s=(t("videojs-youtube"),["//apptoday.ru/overlay/node_modules/video.js/dist/video-js.min.css","//video2.market-place.su/video/css/mp-player.css"]),a=0;a<s.length;a++)!function(t){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=t,n.rel="stylesheet",e.appendChild(n)}(s[a]);e.exports=r},{"./httpclient":7,"video.js":161,"videojs-youtube":168}],2:[function(t,e,n){var r={getCookie:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},setCookie:function(t,e,n){n=n||{};var r=n.expires;if("number"==typeof r&&r){var o=new Date;o.setTime(o.getTime()+1e3*r),r=n.expires=o}r&&r.toUTCString&&(n.expires=r.toUTCString()),e=encodeURIComponent(e);var i=t+"="+e;for(var s in n){i+="; "+s;var a=n[s];a!==!0&&(i+="="+a)}document.cookie=i},deleteCookie:function(t){this.setCookie(t,"",{expires:-1})},hashCode:function(t){return t.split("").reduce(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t},0)},getUserID:function(){var t=this.getCookie("MpVideoVisitorID"),e=this;return t||(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),e.setCookie("MpVideoVisitorID",t,{expires:864e3})),t},saveObject:function(t,e){var n=btoa(encodeURIComponent(JSON.stringify(t))),r=e||this.hashCode(n).toString(16);return this.setCookie(r,n,{expires:864e3}),r},getObject:function(t,e){var n=this.getCookie(t),r=null;if(void 0!==n&&n){var o=decodeURIComponent(atob(n));r=JSON.parse(o)}return void 0!==e&&e&&this.deleteCookie(t),r}};e.exports=r},{}],3:[function(t,e,n){"use strict";var r={excludes:/(https?\:\/\/[^\s]+|лучш.{1,2}|выбира(ем|аю|ай)|[Кк]ак(ой|ая|ие)?|выбрать|выбор|что|[Чч]ем)(\.|\,|\:|\s|\Z)/gi,text:encodeURIComponent("Палатка"),tags:{},tagSrc:{h1:{searched:0,result:""},title:{searched:0,result:""},h2:{searched:0,result:""}},models:{},startSearch:function(t){if(t){var e={},n=0;t=unescape(t);for(var r=t.split(","),o=0,i=r.length;o<i;o++){var s=r[o].replace(/^\s+|\s+$/,"");s&&(n++,void 0!==this.tags[s]?e[s]=this.tags[s]:e[s]={searched:0,result:""})}this.tags=n?e:this.tagSrc}else this.tags=this.tagSrc;return this.parseMyTags()},parseMyTags:function(){var t={models:{},texts:{}},e="";for(var n in this.tags)this.tags[n].searched||(this.parseTags(n),this.tags[n].searched=1),this.tags[n].searched||(this.parseTags(n),this.tags[n].searched=1),this.tags[n].result&&(t.texts[n]=this.tags[n].result,e||(e=this.tags[n].result),void 0!==this.models[n]&&(t.models[n]=this.tags[n].result));return t},parseTags:function(t){var e=new Array;switch(t=t.toLowerCase()){case"keywords":e=this.documentMeta(t);break;default:e=document.querySelectorAll(t)}if(e&&e.length){var n=this.parseStrings(e,t);n&&(this.tags[t].result=n)}},documentMeta:function(t){var e="",n=document.getElementsByTagName("meta");if(n)for(var r=0,o=n.length;r<o;r++)n[r].name.toLowerCase()==t&&(e+=n[r].content);return""!=(e=e.replace(/^\s+|\s+$/g,""))&&[e]},parseStrings:function(t,e){for(var n="",r="",o=0,i=0,s=0,a=t.length;s<a;s++){var l="";switch(e){case"keywords":l=t[s];break;default:l=t[s].innerHTML}if(l=l.replace(this.excludes," "),l=l.replace(/^\s+|\s+$/,"")){var u=this.Simplice(l);o<2&&u.str&&(n=this.compairToStrings(n,u.str),o++),i<2&&u.model&&(r=this.compairToStrings(r,u.model),i++)}}return""!=r&&(this.models[e]=1),""!=r?r:n},compairToStrings:function(t,e){if(!t)return e;var n=t.split(/\s+/),r=e.split(/\s+/);return 1==n.length?e:n.length<5?r.length<5?n.length>r.length?t:e:t:r.length<5?t:n.length>r.length?e:t},Simplice:function(t){var e={str:"",model:""};(t=this.sanitize(t))&&(t.length>100&&(t=t.substr(0,100)),e.str=t);var n=this.formalize(t);return n.length&&(e.model=n[0]),e},sanitize:function(t,e){var n=[["apos","'"],["amp","&"],["lt","<"],["nbsp"," "],["gt",">"]];e=e||" ";for(var r=0,o=n.length;r<o;++r)t=t.replace(new RegExp("&"+n[r][0]+";","g"),n[r][1]);return t=t.replace(/<\/?[^>]+(>|$)/g,e),t=t.replace(/^[\s\t\r]+|[\s\t\r]+$/g,"")},formalize:function(t){var e=new Array;if(!t)return!1;for(var n=t.split(/\-\—\.\,\!\?\:]+[\s\t\r]+/),r=0,o=n.length;r<o;r++){var i=n[r].replace(/^\s+|\s+$/g,"");if(i){var s=this.guessModelsOr(i);s&&e.push(s)}}return e},guessModelsOr:function(t){t=t.replace(/^([Лл][Уу][Чч][Шш][Ее]|[Ии][Лл][Ии]|[Ее][Сс][Лл][Ии]|[Оо][Нн]|[Нн][Аа]|[Вв][Сс][Ее])$/gi,""),t=t.replace(/^\s+|\s+$/gm,""),t=t.replace(/[\(\)\.\?]/gi," ");for(var e=t.split(/[\s\,\:]+/),n=new Array,r=new Array,o=new Array,i="",s=0,a=e.length;s<a;s++){var l=e[s].replace(/^\s+|\s+$/gm,"");if(l){switch(this.checkAlphabet(l,r.length)){case 2:!r.length&&i&&r.push(i),r.push(l),o.push(l);break;case 3:!r&&i&&r.push(i),r.push(l),o.push(l);break;case 4:!r.length&&i&&r.push(i),r.push(l),o.push(l);break;case 5:i=l;break;default:r.length&&(n.push(r.join(" ")),n.push(o.join(" ")),o=new Array,r=new Array)}}}o.length&&n.push(o.join(" ")),r.length&&n.push(r.join(" "));for(var u="",c=0,s=0,a=n.length;s<a;s++)c<n[s].length&&(u=n[s],c=n[s].length);return u},checkAlphabet:function(t,e){var n=/^[АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя]{4,20}$/gi,r=/([\d]+)/gi,o=/([A-Z]+)/i;if(n.exec(t))return 5;if(/^([a-z][\da-z\-]+)(\-.*)?$/gi.exec(t)){var i=r.exec(t);return i?3:2}var i=r.exec(t);if(e&&i)return 4;var s=o.exec(t);return e&&s?4:1}};e.exports=r},{}],4:[function(t,e,n){function r(t){this.slot=t||document.querySelector("#videoslot"),this.slot.style.position="absolute",this.slot.style.top="0",this.slot.style.left="0",this.slot.style.width="100%",this.slot.style.height="100%",this.slot.style.zIndex=999,this.tick=function(){},this.player=null;var e=o.getUserID(),n=o.getObject(e);n||(n={mute:!1,tvo:.2,vo:.7}),this.plSettings=n}var o=t("./CookieDriver");r.prototype.clear=function(){this.slot.innerHTML="",this.slot.style.display="none"},r.prototype.renderControl=function(t,e){switch(t){case"timeoutEl":var n=parseInt(e.dur)-parseInt(e.sec);n=n>0?n:0;var r="<span class='innerSpan'>Реклама: "+n;return e.showControls&&e.skipTime>0&&(r+="  Пропустить через: "+(e.skipTime>0?e.skipTime:0)),r+=" </span>";case"advLink":return"<span class='innerSpan' >"+e+"</span>";case"skipAd":return"<span class='innerSpan'>Пропустить </span>";case"closeAd":return"<span class='innerSpan'> </span>";case"muteButton":return"<span class='innerSpan "+(e?"un":"")+"mute'> </span>";default:return""}},r.prototype.init=function(t){var e=this;e.clear(),e.player=t,e.player.adVolume=e.plSettings.mute?0:e.plSettings.vo,e.Extentions={linkTxt:"Перейти на сайт рекламодателя",isClickable:0,controls:0,skipTime:"00:10",skipTime2:"00:05",skipAd:[],addClick:[]},e.player.vast.map("ads[0].extensions",function(t){"linkTxt"==t.type&&t.value&&(e.Extentions.linkTxt=t.value.replace(/^\s+|\s+$/,"")),"isClickable"==t.type&&t.value&&(e.Extentions.isClickable=t.value.replace(/^\s+|\s+$/,"")),"controls"==t.type&&t.value&&(e.Extentions.controls=t.value.replace(/^\s+|\s+$/,"")),"skipTime"==t.type&&t.value&&(e.Extentions.skipTime=t.value.replace(/^\s+|\s+$/,"")),"skipTime2"==t.type&&t.value&&(e.Extentions.skipTime2=t.value.replace(/^\s+|\s+$/,"")),"skipAd"==t.type&&t.value&&e.Extentions.skipAd.push(t.value.replace(/^\s+|\s+$/,"")),"addClick"==t.type&&t.value&&e.Extentions.addClick.push(t.value.replace(/^\s+|\s+$/,""))}),e.drawControls(),e.clickable.onclick=function(){e.ConrolePaused(e.Extentions.isClickable)},e.player.on("AdRemainingTimeChange",function(t){e.ControllerAction(t)}),this.slot.style.display="block"},r.prototype.drawControls=function(){var t=this;t.clickable=document.createElement("DIV"),t.clickable.setAttribute("id","clickable"),t.clickable.style.width="100%",t.clickable.style.height="100%",t.clickable.style.border="1px solid #000000",t.clickable.style.position="absolute",t.clickable.style.top="0",t.clickable.style.left="0",t.clickable.style.cursor="pointer",t.clickable.style.zIndex=1e3,t.slot.appendChild(t.clickable),t.resumeButton=document.createElement("DIV"),t.resumeButton.style.zIndex=1003,t.resumeButton.style.color="#FFFFFF",t.resumeButton.style.width="100%",t.resumeButton.style.height="100%",t.resumeButton.style.cursor="pointer",t.resumeButton.style.display="none",t.resumeButton.className="resume-play",t.clickable.appendChild(t.resumeButton);var e=document.createElement("div");e.id="timeoutDiv",t.player.timeoutDiv=e,t.slot.appendChild(e);var n=document.createElement("div");n.id="closeDiv",t.player.closeDiv=n,t.slot.appendChild(n),n.innerHTML=t.renderControl("closeAd"),n.style.display="none",n.onclick=function(e){e.preventDefault(),t.player.emit("close"),t.player.stopAd()};var r=document.createElement("div");t.player.skipDiv=r,r.id="skipDiv",t.slot.appendChild(r),r.innerHTML=t.renderControl("skipAd"),r.style.display="none",r.onclick=function(e){e.preventDefault(),t.player.emit("skip");for(var n=0;n<t.Extentions.skipAd.length;n++)(new Image).src=t.Extentions.skipAd[n];t.player.stopAd()};var i=document.createElement("div");i.id="advLink",t.player.advLink=i,t.slot.appendChild(i),i.innerHTML=t.renderControl("advLink",decodeURIComponent(t.Extentions.linkTxt)),t.player.vast.get("ads[0].creatives[0].videoClicks.clickThrough")||(i.style.display="none"),i.onclick=function(e){e.preventDefault();for(var n=0;n<t.Extentions.addClick.length;n++)(new Image).src=t.Extentions.addClick[n];t.ConrolePaused(1)};var s=document.createElement("div");s.id="muteButton",s.style.border="1px solid red",s.style.zIndex=9999,s.style.position="absolute",t.player.muteButton=s,t.slot.appendChild(s),s.innerHTML=t.renderControl("muteButton",t.player.adVolume),s.onclick=function(e){e.preventDefault(),t.player.adVolume=t.player.adVolume?0:.6;var n=o.getUserID();return t.player.adVolume?t.plSettings.mute=!1:t.plSettings.mute=!0,o.saveObject(t.plSettings,n),t.player.muteButton.innerHTML=t.renderControl("muteButton",t.player.adVolume),!1}},r.prototype.ControllerAction=function(t){var e=this;if(void 0!==e.player.timeoutDiv){var n=(60*parseInt(e.Extentions.skipTime.split(":")[0])+parseInt(e.Extentions.skipTime.split(":")[1]))%parseInt(t.dur),r=(60*parseInt(e.Extentions.skipTime2.split(":")[0])+parseInt(e.Extentions.skipTime2.split(":")[1]))%parseInt(t.dur);n>r&&(n=r);var o=r<=parseInt(t.sec)&&r>0,i=n<=parseInt(t.sec)&&n>0;t.skipTime=n-parseInt(t.sec),t.showControls="1"==e.Extentions.controls;var s=e.renderControl("timeoutEl",t);e.player.timeoutDiv.innerHTML=s,"1"==e.Extentions.controls&&o&&(e.player.closeDiv.style.display="block"),"1"==e.Extentions.controls&&i&&(e.player.skipDiv.style.display="block")}},r.prototype.ConrolePaused=function(t){if(this.player.isPaused)void 0!==this.resumeButton&&(this.resumeButton.style.display="none"),this.player.isPaused=0,this.player.resumeAd();else{this.player.isPaused=1,this.player.pauseAd(),this.resumeButton,this.resumeButton.style.display="block",this.player.emit("clickThrough");var e=this.player.vast.get("ads[0].creatives[0].videoClicks.clickThrough");t&&e&&window.open(e)}},e.exports=r},{"./CookieDriver":2}],5:[function(t,e,n){"use strict";function r(){var t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!1}function o(t){var e={size:{width:"350",height:"400"},container:"#mp-video-widget-container-56015401b3da9-20",auth:{affiliate_id:"56015401b3da9",pid:"20"},errorFn:function(){},successFn:function(t){console.log(t)}},n=e;for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);var s=this;this.loaded=!1,this.configUrl="https://widget.market-place.su/videooptions/"+n.auth.affiliate_id+"_"+n.auth.pid+".json?p="+Math.random();var a=t.errorFn||function(){};t.successFn;i.ajax(this.configUrl,{errorFn:a,successFn:function(t){try{var e=JSON.parse(t);if(void 0!==e.error)throw new Error("Виджет удалён.");for(var o in e)e.hasOwnProperty(o)&&(s[o]=e[o]);var a=/Android|Silk|Mobile|PlayBook/.test(window.navigator.userAgent),l=r();switch(s.isDesktop=!a,!0){case l:s.ads=e["ads-mobile"].iOS;break;case a:s.ads=e["ads-mobile"].Android}i.ajax("https://widget.market-place.su/proxy_referer/",{errorFn:function(){},successFn:function(t){try{var r=JSON.parse(t);s.loaded=!0,s.referer=r,n.successFn(s),window.parent.postMessage(e,"*")}catch(t){console.log("битая конфигурация",t)}}})}catch(t){console.log("битая конфигурация",t)}}})}var i=t("./httpclient");e.exports=o},{"./httpclient":7}],6:[function(t,e,n){"use strict";function r(t,e,n){this.controller=document.getElementById(t),this.container=document.getElementById(t),this.placeholder=document.getElementById(n),this.extraslot=document.createElement("DIV"),this.extraslot.id="videoslot",this.container.appendChild(this.extraslot),this.VideoSlot=new s(this.extraslot),this.queueToPLay=[],this.queueToPlaySemaphore=0,this.queueSemaphores={},this.queueToPlayExit=0,this.loadedStatuses={},this.cachedConf={},this.loadedCnt=0,this.playedCnt=0,this.playedRoliks={},this.config={},this.links=[],this.AllowedStart=0,this.timerToClose=80,this.collbackFunction=function(){},this.indexMassive={},this.indexDefault={},this.cacheStatisticIndexes={},this.cookieUserid=i.getUserID(),this.lastDriverId=0,this.mytype="Autoplay",this.playedAllCnt={},this.playedJumpedTop={},this.popularTrailer=0,this.OverplayAuto=0,this.referer="http://apptoday.ru";var r=this;void 0===this.GlobalMyGUITemp&&(this.GlobalMyGUITemp="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),window.GlobalMyGUITemp=this.GlobalMyGUITemp),this.fromUrl=window.location!=window.parent.location?document.referrer:document.location.href,window.addEventListener("resize",function(){r.calculateParameters()},!1),r.calculateParameters(),this.clearAll()}var o=t("vast-player"),i=t("./CookieDriver"),s=t("./VideoSlot");r.prototype.timerToCloseFn=function(){if(this.timerToClose<0){this.LastControllerPan=document.createElement("DIV"),this.LastControllerPan.style.position="absolute",this.LastControllerPan.style.top="calc(50% - 50px)",this.LastControllerPan.style.left="calc(50% - 50px)",this.LastControllerPan.style.opacity="0.5",this.LastControllerPan.style.filter="alpha(Opacity=50)",this.LastControllerPan.style.color="#FFFFFF",this.LastControllerPan.style.zIndex="4500",this.LastControllerPan.className="lastController",this.LastcloseRemain=document.createElement("DIV"),this.LastcloseRemain.style.display="block",this.LastcloseRemain.style.marginLeft="5px",this.LastcloseRemain.fontSize="12px",this.LastcloseDiv=document.createElement("DIV"),this.LastcloseDiv.style.marginLeft="5px",this.LastcloseDiv.style.backgroundImage="url(https://apptoday.ru/ug/img/exit.png) ",this.LastcloseDiv.style.backgroundRepeat="no-repeat",this.LastcloseDiv.style.backgroundSize="contain",this.LastcloseDiv.style.content="",this.LastcloseDiv.className="hover_button",this.LastcloseDiv.style.width="100px",this.LastcloseDiv.style.height="100px",this.LastcloseDiv.title="закрыть рекламу",this.LastcloseDiv.style.cursor="pointer",this.LastcloseDiv.style.display="block";var t=this;return this.LastcloseDiv.onmouseout=function(){t.LastControllerPan.style.opacity="0.5",t.LastControllerPan.style.filter="alpha(Opacity=50)"},this.LastcloseDiv.onmouseover=function(){t.LastControllerPan.style.opacity="0.8",t.LastControllerPan.style.filter="alpha(Opacity=80)"},this.LastcloseDiv.onclick=function(){return document.body.innerHTML="",t.config.hasOwnProperty("page_index")?(console.log(["test",t.config.page_index]),window.parent.postMessage({name:"die",data:{index:t.config.page_index},bridgeAction:!0},"*")):window.parent.postMessage({die:1},"*"),!0},this.LastControllerPan.appendChild(this.LastcloseRemain),this.LastControllerPan.appendChild(this.LastcloseDiv),void(this.controller&&this.controller.appendChild(this.LastControllerPan))}this.timerToClose--;var t=this;setTimeout(function(){t.timerToCloseFn()},1e3)},r.prototype.CheckOverplaySrc=function(t){return(31==t||32==t)&&(this.OverplayAuto=1,!0)},r.prototype.calculateParameters=function(){var t=screen.width,e=screen.height;console.log("Разрешение окна клиента: "+t+"| x |"+e)},r.prototype.clearAll=function(){this.clearController(),this.clearContainer(),this.clearExtraSlot()},r.prototype.clearController=function(){this.controller.style.display="none"},r.prototype.showController=function(){this.controller.style.display="block"},r.prototype.clearPlayerContainer=function(t){t.parentNode.removeChild(t)},r.prototype.clearContainer=function(){this.container.style.display="none"},r.prototype.showContainer=function(){this.container.style.display="block"},r.prototype.clearPlaceholder=function(){this.placeholder.style.display="none"},r.prototype.showPlaceholder=function(){this.placeholder.style.display="block"},r.prototype.clearExtraSlot=function(){this.extraslot.style.display="none"},r.prototype.showExtraSlot=function(){this.extraslot.style.display="block"},r.prototype.prepareFrame=function(t){var e=document.createElement("DIV");return e.id=t,e.style.display="none",e.style.width="100%",e.style.height="100%",this.container.appendChild(e),e},r.prototype.setConfig=function(t,e){if(console.log(["sds",t.ads]),t.hasOwnProperty("adslimit")||(t.adslimit=2),this.config=t,t.hasOwnProperty("referer")&&t.referer&&(this.referer=t.referer),this.collbackFunction=e,t.hasOwnProperty("type"))switch(t.type){case"1":this.mytype="Autoplay";break;case"2":this.mytype="Context";break;case"3":this.mytype="Overlay";break;case"4":this.mytype="VAST-Link";break;default:this.mytype="Video"}this.timerToCloseFn(),this.config.hasOwnProperty("default")&&this.config.default,this.restartQueue(),this.loadedCnt=t.ads.length,this.initQueue(t.ads)},r.prototype.restartQueue=function(t){this.indexMassive={},this.predLoadQueue=[],this.queueToPlayExit=0,this.cachedFlagMy=0,this.loadedCnt=0,this.predLoadQueueCachedObjects={},this.loadedStatuses={},this.queueToPLay=[],this.queueSemaphores={}},r.prototype.initQueue=function(t){if(!this.queueToPlayExit){this.cachedFlagMy=1;for(var e=0,n=t.length;e<n;e++)e&&this.loadedCnt/e<=2&&(this.indexMassive[t[e].id]=2),20!=t[e].pivot.id_block&&28!=t[e].pivot.id_block||(this.popularTrailer=6),this.CheckOverplaySrc(t[e].id),this.predLoadQueue.push(t[e]);this.formLoadQueue(0)}},r.prototype.startQueue=function(t){if(!this.queueToPlayExit){this.cachedFlagMy=0;for(var e=this,n=0,r=t.length;n<r;n++){n&&this.loadedCnt/n<=2&&(this.indexMassive[t[n].id]=2);var i="bycredit_"+t[n].id,s=this.prepareFrame(i),a=new o(s,{withCredentials:!0,bidgeFn:function(t,n,r){switch(n){case"firstQuartile":e.sendStatistic({id:t,eventName:"filterPlayMedia"})}e.sendStatistic({id:t,eventName:n})}});a.id_local_source=t[n].id,a.local_title=t[n].title,a.local_src=t[n].src,this.loadQueue(a)}}},r.prototype.calculatePlayed=function(){var t,e=0;for(t in this.playedRoliks)e++;return e},r.prototype.formLoadQueue=function(t){if(this.cachedFlagMy&&!this.predLoadQueueCachedObjects.hasOwnProperty(t)&&!this.queueToPlayExit){var e=this.calculatePlayed();if(this.config.adslimit<=e)return this.predLoadQueue=[],void(this.loadedCnt=e);this.predLoadQueueCachedObjects[t]=1;var n=this,r=this.predLoadQueue.shift();if(r){var i="bycredit_"+r.id,s=this.prepareFrame(i),a=new o(s,{withCredentials:!0,bidgeFn:function(t,e,r){switch(e){case"firstQuartile":n.sendStatistic({id:t,eventName:"filterPlayMedia"}),n.formLoadQueue(t)}n.sendStatistic({id:t,eventName:e})}});a.id_local_source=r.id,a.local_title=r.title,a.local_src=r.src,this.loadQueue(a)}}},r.prototype.dispatchQueue=function(t,e){if(!this.queueToPlayExit){this.deleteSemaphore(t),e.player.container.style.display="none",console.log([955581,e.message,"режим "+this.cachedFlagMy]);var n,r=0,o=0;for(n in this.loadedStatuses)0==this.loadedStatuses[n]&&(r|=1),o++;o<this.loadedCnt&&(r|=2),this.queueToPLay.length&&(r|=4),this.checkSemaphores()&&(r|=8),console.log([955581,"рез",r]),r||this.playExit()}},r.prototype.loadQueue=function(t){if(!this.queueToPlayExit){var e=this,n=t.local_src.replace(/\{([a-z]+)\}/g,function(t){switch(t.replace(/[\{\}]+/g,"")){case"rnd":return Math.random();case"ref":return encodeURIComponent(e.referer)}return t});this.loadedStatuses[t.id_local_source]=0,this.sendStatistic({id:t.id_local_source,eventName:"srcRequest"}),t.load(n).then(function(){e.sendStatistic({id:t.id_local_source,eventName:"startPlayMedia",mess:""}),t.once("AdError",function(n){e.sendStatistic({id:t.id_local_source,eventName:"errorPlayMedia",mess:""}),1==e.cachedFlagMy&&e.formLoadQueue(t.id_local_source),e.dispatchQueue(t.id_local_source,{player:t,message:"вернул "+t.local_title+JSON.stringify(n)})}),t.once("AdStopped",function(){e.dispatchQueue(t.id_local_source,{player:t,message:" остановлен "+t.local_title})}),e.loadedStatuses[t.id_local_source]=1,t.startAd().then(function(n){t.pauseAd(),e.filterQueue(t)}).catch(function(n){e.sendStatistic({id:t.id_local_source,eventName:"errorPlayMedia",mess:""}),1==e.cachedFlagMy&&e.formLoadQueue(t.id_local_source),e.loadedStatuses[t.id_local_source]=2,e.dispatchQueue(t.id_local_source,{player:t,message:"не играет "+t.local_title+JSON.stringify(n)})})}).catch(function(n){e.sendStatistic({id:t.id_local_source,eventName:"errorPlayMedia",mess:""}),1==e.cachedFlagMy&&e.formLoadQueue(t.id_local_source),e.loadedStatuses[t.id_local_source]=2,e.dispatchQueue(t.id_local_source,{player:t,message:"ошибка "+t.local_title+JSON.stringify(n)})})}},r.prototype.filterQueue=function(t){this.queueToPlayExit||(this.queueToPLay.push(t),this.playQueue())},r.prototype.playQueue=function(){if(!this.queueToPlayExit){var t=this;if(this.checkSemaphores())return void setTimeout(function(){t.playQueue()},500);var e=this.queueToPLay.shift();if(e){console.log([9555812,"ролик",e.id_local_source,e.local_title]),this.setSemaphore(e.id_local_source);var n=e.container;if(this.showController(),this.showContainer(),this.clearPlaceholder(),n.style.display="block",3==e.pType&&this.VideoSlot.init(e),4==e.pType||this.CheckOverplaySrc(e.id_local_source)){var r=1;e.on("AdRemainingTimeChange",function(e){r&&(r=0,t.clearPlaceholder())}),this.VideoSlot.clear(),2==this.playType&&e.once("AdPlaying",function(){t.container.style.opacity="0",t.container.style.filter="alpha(Opacity=0)"}),this.CheckOverplaySrc(e.id_local_source)&&e.once("AdPlaying",function(){t.OverplayAut=2,e.container.style.opacity="1",e.container.style.filter="alpha(Opacity=100)",t.container.style.opacity="1",t.container.style.filter="alpha(Opacity=100)",t.formLoadQueue(e.id_local_source),t.sendStatistic({id:e.id_local_source,eventName:"filterPlayMedia"})}),e.once("AdClickThru",function(n,r,o){t.showPlaceholder(),e.__private__.player.video.play(),e.container.style.opacity="1",e.container.style.filter="alpha(Opacity=100)",t.container.style.opacity="1",t.container.style.filter="alpha(Opacity=100)",t.VideoSlot.init(e)})}else e.container.style.opacity="1",e.container.style.filter="alpha(Opacity=100)",t.container.style.opacity="1",t.container.style.filter="alpha(Opacity=100)",1!=this.OverplayAut&&e.resumeAd()}}},r.prototype.checkSemaphores=function(){var t,e=0,n=0;for(t in this.queueSemaphores)n++,this.queueSemaphores[t]&&(e=1);return!!e},r.prototype.deleteSemaphore=function(t){this.queueSemaphores[t]=0},r.prototype.setSemaphore=function(t){this.queueSemaphores[t]=1},r.prototype.checkStatus=function(t){if(!this.queueToPlayExit){this.checkSemaphores()}},r.prototype.playExit=function(){this.queueToPlayExit||(this.queueToPlayExit=1,this.VideoSlot.clear(),console.log([955581,"ексит"]),this.controller.style.display="none",this.collbackFunction(this.config))},r.prototype.playAds=function(t,e){var n=this,r="bycredit_"+t.id,i=this.prepareFrame(r),s=new o(i,{withCredentials:!0,bidgeFn:function(t,e,n){e}});s.id_local_source=t.id,s.local_title=t.title,s.local_src=t.src,s.id_local_source;var a=s.local_src.replace(/\{([a-z]+)\}/g,function(t){switch(t.replace(/[\{\}]+/g,"")){case"rnd":return Math.random();case"ref":return encodeURIComponent(n.referer)}return t});s.load(a).then(function(){s.once("AdError",function(t){s.container.style.display="none",n.VideoSlot.clear(),e()}),s.once("AdStopped",function(){s.container.style.display="none",n.VideoSlot.clear(),e()}),s.id_local_source==-5&&(s.__private__.player.video.controls=!0),s.startAd().then(function(t){if(s.pauseAd(),n.showController(),n.showContainer(),n.clearPlaceholder(),i.style.display="block",3==s.pType&&(s.id_local_source==-5?s.__private__.player.video.controls=!0:n.VideoSlot.init(s)),4!=s.pType)s.container.style.opacity="1",s.container.style.filter="alpha(Opacity=100)",n.container.style.opacity="1",n.container.style.filter="alpha(Opacity=100)",s.resumeAd();else{if(s.id_local_source==-4)return s.container.style.display="none",n.VideoSlot.clear(),void e();var r=1;s.on("AdRemainingTimeChange",function(t){r&&(r=0,n.clearPlaceholder())}),n.VideoSlot.clear(),2==n.playType&&(n.container.style.opacity="0",n.container.style.filter="alpha(Opacity=0)"),s.once("AdClickThru",function(t,e,r){n.showPlaceholder(),s.__private__.player.video.play(),s.container.style.opacity="1",s.container.style.filter="alpha(Opacity=100)",n.container.style.opacity="1",n.container.style.filter="alpha(Opacity=100)",s.id_local_source==-5||n.VideoSlot.init(s)})}}).catch(function(t){s.container.style.display="none",n.VideoSlot.clear(),e()})}).catch(function(t){s.container.style.display="none",n.VideoSlot.clear(),e()})},r.prototype.playDefault=function(t){if(1&this.popularTrailer)return void t();this.popularTrailer|=1;if(this.config.hasOwnProperty("default")&&this.config.default){var e={id:-3,src:this.config.default,priority:"10",title:"Заглушка",created_at:"2017-03-22 16:29:45",updated_at:"2017-03-22 16:29:45",pivot:{id_block:"-3",id_source:"-3",prioritet:"0"}};this.playAds(e,t)}else t()},r.prototype.playTvigle=function(t){if(2&this.popularTrailer)return void t();if(this.popularTrailer|=2,/(android)/i.test(navigator.userAgent))return void t();var e={id:-4,src:"https://video.market-place.su/vast/tvigle.xml?r={rnd}",priority:"10",title:"Твигл",created_at:"2017-03-22 16:29:45",updated_at:"2017-03-22 16:29:45",pivot:{id_block:"-4",id_source:"-4",prioritet:"0"}};this.playAds(e,t)},r.prototype.playTrailer=function(t){if(4&this.popularTrailer)return void t();this.popularTrailer|=4;var e={id:-5,src:"https://video.market-place.su/proxy_trailer/",priority:"10",title:"Трейлеры",created_at:"2017-03-22 16:29:45",updated_at:"2017-03-22 16:29:45",pivot:{id_block:"-5",id_source:"-5",prioritet:"0"}};this.playAds(e,t)},r.prototype.sendStatistic=function(t){if(!this.indexDefault.hasOwnProperty(t.id)){var e="";if(void 0!==t.eventName&&(void 0===this.cacheStatisticIndexes[t.id]&&(this.cacheStatisticIndexes[t.id]={}),void 0!==t.mess&&(e=t.mess),void 0===this.cacheStatisticIndexes[t.id][t.eventName])){switch(t.eventName){case"filterPlayMedia":this.playedRoliks[t.id]="fd"}this.cacheStatisticIndexes[t.id][t.eventName]=1;var n={key:this.GlobalMyGUITemp,fromUrl:encodeURIComponent(this.fromUrl),pid:this.config.pid,affiliate_id:this.config.affiliate_id,cookie_id:this.cookieUserid,id_src:t.id,event:t.eventName,mess:e},r="https://api.market-place.su/Product/video/l1stat.php?p="+Math.random()+"&data="+encodeURIComponent(JSON.stringify(n));console.log([95558,"statistic",t.eventName]);new Image(1,1).src=r}}},e.exports=r},{"./CookieDriver":2,"./VideoSlot":4,"vast-player":35}],7:[function(t,e,n){"use strict";var r={ajax:function(t,e){var n=t;e=e||{};var r=e.errorFn||function(){},o=e.successFn||function(){},i=e.type||"GET",s=e.data||{},a=JSON.stringify(s);if(i=i.toUpperCase(),window.XMLHttpRequest)var l=new XMLHttpRequest;else var l=new ActiveXObject("Microsoft.XMLHTTP");if("GET"==i){a=null,n.indexOf("?")<0&&(n+="?1=1");for(var u in s)s.hasOwnProperty(u)&&(n+="&"+u+"="+s[u])}l.open(i,n,!0),l.onreadystatechange=function(){4==l.readyState?200==l.status?o({response:l.responseText}):r({status:l.status}):r({status:l.readyState})},l.onreadystatechange=function(){4==l.readyState&&(200==l.status?o(l.responseText):r({status:l.status}))};try{l.withCredentials=e.withCredentials||!1,l.send(a)}catch(t){}}};e.exports=r},{}],8:[function(t,e,n){},{}],9:[function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this
;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],10:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),l=1;l<r;l++)i[l-1]=arguments[l];n.apply(this,i)}else if(s(n)){for(r=arguments.length,i=new Array(r-1),l=1;l<r;l++)i[l-1]=arguments[l];for(u=n.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,i)}return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=i;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){return t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],11:[function(t,e,n){function r(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===l.call(t)?o(t,e,n):"string"==typeof t?i(t,e,n):s(t,e,n)}function o(t,e,n){for(var r=0,o=t.length;r<o;r++)u.call(t,r)&&e.call(n,t[r],r,t)}function i(t,e,n){for(var r=0,o=t.length;r<o;r++)e.call(n,t.charAt(r),r,t)}function s(t,e,n){for(var r in t)u.call(t,r)&&e.call(n,t[r],r,t)}var a=t("is-function");e.exports=r;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},{"is-function":15}],12:[function(t,e,n){(function(n){var r=void 0!==n?n:"undefined"!=typeof window?window:{},o=t("min-document");if("undefined"!=typeof document)e.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":8}],13:[function(t,e,n){(function(t){"undefined"!=typeof window?e.exports=window:void 0!==t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(t){"use strict";function n(){c=!0;for(var t,e,n=p.length;n;){for(e=p,p=[],t=-1;++t<n;)e[t]();n=p.length}c=!1}function r(t){1!==p.push(t)||c||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var s=0,a=new i(n),l=t.document.createTextNode("");a.observe(l,{characterData:!0}),o=function(){l.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var u=new t.MessageChannel;u.port1.onmessage=n,o=function(){u.port2.postMessage(0)}}var c,p=[];e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,n){function r(t){var e=o.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=r;var o=Object.prototype.toString},{}],16:[function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){f(function(){var r;try{r=e(n)}catch(e){return y.reject(t,e)}r===t?y.reject(t,new TypeError("Cannot resolve promise with itself")):y.resolve(t,r)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function n(e){i||(i=!0,y.reject(t,e))}function r(e){i||(i=!0,y.resolve(t,e))}function o(){e(r,n)}var i=!1,s=u(o);"error"===s.status&&n(s.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function c(t){return t instanceof this?t:y.resolve(new this(r),t)}function p(t){var e=new this(r);return y.reject(e,t)}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),s=0,a=-1,l=new this(r);++a<n;)!function(t,r){function a(t){i[r]=t,++s!==n||o||(o=!0,y.resolve(l,i))}e.resolve(t).then(a,function(t){o||(o=!0,y.reject(l,t))})}(t[a],a);return l}function h(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,s=new this(r);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,y.resolve(s,t))},function(t){o||(o=!0,y.reject(s,t))})}(t[i]);return s}var f=t("immediate"),y={},v=["REJECTED"],m=["FULFILLED"],g=["PENDING"];e.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===m||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(r);if(this.state!==g){s(n,this.state===m?t:e,this.outcome)}else this.queue.push(new i(n,t,e));return n},i.prototype.callFulfilled=function(t){y.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){y.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},y.resolve=function(t,e){var n=u(a,e);if("error"===n.status)return y.reject(t,n.value);var r=n.value;if(r)l(t,r);else{t.state=m,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},y.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},o.resolve=c,o.reject=p,o.all=d,o.race=h},{immediate:14}],17:[function(t,e,n){!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.objectPath=n()}(this,function(){"use strict";function t(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;for(var e in t)if(p.call(t,e))return!1;return!0}function e(t){return c.call(t)}function n(t){return"number"==typeof t||"[object Number]"===e(t)}function r(t){return"string"==typeof t||"[object String]"===e(t)}function o(t){return"object"==typeof t&&"[object Object]"===e(t)}function i(t){return"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===e(t)}function s(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function a(t){var e=parseInt(t);return e.toString()===t?e:t}function l(e,o,i,s){if(n(o)&&(o=[o]),t(o))return e;if(r(o))return l(e,o.split("."),i,s);var u=a(o[0]);if(1===o.length){var c=e[u];return void 0!==c&&s||(e[u]=i),c}return void 0===e[u]&&(n(u)?e[u]=[]:e[u]={}),l(e[u],o.slice(1),i,s)}function u(e,o){if(n(o)&&(o=[o]),!t(e)){if(t(o))return e;if(r(o))return u(e,o.split("."));var s=a(o[0]),l=e[s];if(1===o.length)void 0!==l&&(i(e)?e.splice(s,1):delete e[s]);else if(void 0!==e[s])return u(e[s],o.slice(1));return e}}var c=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d={};return d.ensureExists=function(t,e,n){return l(t,e,n,!0)},d.set=function(t,e,n,r){return l(t,e,n,r)},d.insert=function(t,e,n,r){var o=d.get(t,e);r=~~r,i(o)||(o=[],d.set(t,e,o)),o.splice(r,0,n)},d.empty=function(e,a){if(t(a))return e;if(!t(e)){var l,u;if(!(l=d.get(e,a)))return e;if(r(l))return d.set(e,a,"");if(s(l))return d.set(e,a,!1);if(n(l))return d.set(e,a,0);if(i(l))l.length=0;else{if(!o(l))return d.set(e,a,null);for(u in l)p.call(l,u)&&delete l[u]}}},d.push=function(t,e){var n=d.get(t,e);i(n)||(n=[],d.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},d.coalesce=function(t,e,n){for(var r,o=0,i=e.length;o<i;o++)if(void 0!==(r=d.get(t,e[o])))return r;return n},d.get=function(e,o,i){if(n(o)&&(o=[o]),t(o))return e;if(t(e))return i;if(r(o))return d.get(e,o.split("."),i);var s=a(o[0]);return 1===o.length?void 0===e[s]?i:e[s]:d.get(e[s],o.slice(1),i)},d.del=function(t,e){return u(t,e)},d})},{}],18:[function(t,e,n){var r=t("trim"),o=t("for-each"),i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return o(r(t).split("\n"),function(t){var n=t.indexOf(":"),o=r(t.slice(0,n)).toLowerCase(),s=r(t.slice(n+1));void 0===e[o]?e[o]=s:i(e[o])?e[o].push(s):e[o]=[e[o],s]}),e}},{"for-each":11,trim:30}],19:[function(t,e,n){function r(){}var o=e.exports={};o.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){n.shift()()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],20:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var c,p,d,h,f=t[u].replace(/\+/g,"%20"),y=f.indexOf(n);y>=0?(c=f.substr(0,y),p=f.substr(y+1)):(c=f,p=""),d=decodeURIComponent(c),h=decodeURIComponent(p),r(s,d)?o(s[d])?s[d].push(h):s[d]=[s[d],h]:s[d]=h}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],21:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(r){var s=encodeURIComponent(o(r))+n;return i(t[r])?t[r].map(function(t){return s+encodeURIComponent(o(t))}).join(e):s+encodeURIComponent(o(t[r]))}).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],22:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":20,"./encode":21}],23:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,o=t.length,i=3==arguments.length?n:t[r++];r<o;)i=e.call(null,i,t[r],++r,t);return i}},{}],24:[function(t,e,n){function r(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(t){r=t}return[r,n]}e.exports=r},{}],25:[function(t,e,n){var r,o,i,s=t("object-path");i=function(t){return function(e){return typeof e===t}},o=function(t,e){var n=1,r=e||function(t,e){return e};return"-"===t[0]&&(n=-1,t=t.substr(1)),function(e,o){var i,a=r(t,s.get(e,t)),l=r(t,s.get(o,t));return a<l&&(i=-1),a>l&&(i=1),a===l&&(i=0),i*n}},r=function(){var t=Array.prototype.slice.call(arguments),e=t.filter(i("string")),n=t.filter(i("function"))[0];return function(t,r){for(var i=e.length,s=0,a=0;0===s&&a<i;)s=o(e[a],n)(t,r),a++;return s}},e.exports=r},{"object-path":17}],26:[function(t,e,n){function r(){}function o(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(t){if(!_(t))return t;var e=[];for(var n in t)null!=t[n]&&s(e,n,t[n]);return e.join("&")}function s(t,e,n){if(Array.isArray(n))return n.forEach(function(n){s(t,e,n)});t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function a(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;i<s;++i)n=o[i],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function l(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,l=i.length;a<l;++a)n=i[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=w(n.slice(e+1)),s[r]=o;return s}function u(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function p(t){return m(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function d(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new d(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var r=new Error(e.statusText||"Unsuccessful HTTP response");r.original=t,r.response=e,r.status=e.status,n.callback(r,e)})}function f(t,e){var n=b("DELETE",t);return e&&n.end(e),n}var y,v=t("emitter"),m=t("reduce"),g=t("./request-base"),_=t("./is-object");y="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var b=e.exports=t("./request").bind(null,h);b.getXHR=function(){if(!(!y.XMLHttpRequest||y.location&&"file:"==y.location.protocol&&y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var w="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=i,b.parseString=a,b.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},d.prototype.get=function(t){return this.header[t.toLowerCase()]},d.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=p(e);for(var r in n)this[r]=n[r]},d.prototype.parseBody=function(t){var e=b.parse[this.type];return!e&&u(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},d.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},d.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},b.Response=d,v(h.prototype);for(var T in g)h.prototype[T]=g[T];h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},h.prototype.responseType=function(t){return this._responseType=t,this},h.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},h.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(t+":"+e);this.set("Authorization","Basic "+r);break;case"auto":this.username=t,this.password=e}return this},h.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},h.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},h.prototype._getFormData=function(){return this._formData||(this._formData=new y.FormData),this._formData},h.prototype.send=function(t){var e=_(t),n=this._header["content-type"];if(e&&_(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||o(t)?this:(n||this.type("json"),this)},d.prototype.parse=function(t){return y.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},d.prototype.serialize=function(t){return this._parser=t,this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=b.getXHR(),i=this._query.join("&");this._timeout=15e3;var s=this._timeout,a=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(e){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var l=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),i&&(i=b.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),n.withCredentials=!0,"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var c=this._header["content-type"],p=this._parser||b.serialize[c?c.split(";")[0]:""];!p&&u(c)&&(p=b.serialize["application/json"]),p&&(a=p(a))}for(var d in this.header)null!=this.header[d]&&n.setRequestHeader(d,this.header[d]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==a?a:null),this},b.Request=h,b.get=function(t,e,n){var r=b("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.head=function(t,e,n){var r=b("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.del=f,b.delete=f,b.patch=function(t,e,n){var r=b("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.post=function(t,e,n){var r=b("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.put=function(t,e,n){var r=b("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},{"./is-object":27,"./request":29,"./request-base":28,emitter:9,reduce:23}],27:[function(t,e,n){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],28:[function(t,e,n){var r=t("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(t){return this._parser=t,this},n.timeout=function(t){return this._timeout=t,this},n.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},n.use=function(t){return t(this),this},n.get=function(t){return this._header[t.toLowerCase()]},n.getHeader=n.get,n.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.field=function(t,e){return this._getFormData().append(t,e),this}},{"./is-object":27}],29:[function(t,e,n){function r(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}e.exports=r},{}],30:[function(t,e,n){function r(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=r,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],31:[function(t,e,n){function r(t){return t.replace(/\n\r?\s*/g,"")}e.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=r(t[n])+(arguments[n+1]||"");return e}},{}],32:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],33:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],34:[function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),l(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,e,r){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return _(o)||(o=l(t,o,r)),o}var i=u(t,e);if(i)return i;var s=Object.keys(e),y=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),E(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(C(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(T(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(k(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return c(e)}var m="",g=!1,b=["{","}"];if(f(e)&&(g=!0,b=["[","]"]),C(e)){m=" [Function"+(e.name?": "+e.name:"")+"]"}if(T(e)&&(m=" "+RegExp.prototype.toString.call(e)),k(e)&&(m=" "+Date.prototype.toUTCString.call(e)),E(e)&&(m=" "+c(e)),0===s.length&&(!g||0==e.length))return b[0]+m+b[1];if(r<0)return T(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=g?p(t,e,r,y,s):s.map(function(n){return d(t,e,r,y,n,g)}),t.seen.pop(),h(w,m,b)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)A(e,String(s))?i.push(d(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(t,e,n,r,o,!0))}),i}function d(t,e,n,r,o,i){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=v(n)?l(t,u.value,null):l(t,u.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function h(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function T(t){return j(t)&&"[object RegExp]"===S(t)}function j(t){return"object"==typeof t&&null!==t}function k(t){return j(t)&&"[object Date]"===S(t)}function E(t){return j(t)&&("[object Error]"===S(t)||t instanceof Error)}function C(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function S(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])v(a)||!j(a)?s+=" "+a:s+=" "+o(a);return s},n.deprecate=function(t,o){function i(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),s=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return i};var M,I={};n.debuglog=function(t){if(w(M)&&(M=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var r=e.pid;I[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else I[t]=function(){};return I[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=y,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=g,n.isString=_,n.isSymbol=b,n.isUndefined=w,n.isRegExp=T,n.isObject=j,n.isDate=k,n.isError=E,n.isFunction=C,n.isPrimitive=x,n.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("pBGvAp"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":33,inherits:32,pBGvAp:19}],35:[function(t,e,n){e.exports=t("./lib/VASTPlayer")},{"./lib/VASTPlayer":39}],36:[function(t,e,n){"use strict";function r(t,e,n){e.on(t,function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];n.emit.apply(n,[t].concat(e))})}function o(t,e,n){n.forEach(function(n){e.listeners(n).length>0&&r(n,t,e)}),e.on("newListener",function(o){n.indexOf(o)>-1&&e.listeners(o).length<1&&r(o,t,e)})}function i(t){this.events=t.slice(),this.__private__={target:null,source:null}}i.prototype.from=function(t){
return this.__private__.source=t,this.__private__.target&&o(t,this.__private__.target,this.events),this},i.prototype.to=function(t){return this.__private__.target=t,this.__private__.source&&o(this.__private__.source,t,this.events),this},e.exports=i},{}],37:[function(t,e,n){"use strict";function r(t){var e=this;o.call(this,Math.floor(t.duration||0)),this.video=t,[s.PLAYING,s.PAUSE,s.TIMEUPDATE].forEach(function(n){return t.addEventListener(n,function(){return e.tick()},!1)})}var o=t("./VideoTracker"),i=t("util").inherits,s=t("./enums/HTML_MEDIA_EVENTS");i(r,o),r.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}},e.exports=r},{"./VideoTracker":41,"./enums/HTML_MEDIA_EVENTS":42,util:34}],38:[function(t,e,n){"use strict";function r(t){return t}function o(t,e){(t||[]).forEach(function(t){(new Image).src=e(t)})}function i(t,e){this.pixels=t.reduce(function(t,e){return(t[e.event]||(t[e.event]=[])).push(e.uri),t},{}),this.__private__={mapper:e||r}}var s=t("./enums/VPAID_EVENTS");i.prototype.track=function(t){function e(t,e,s){function l(t){return a((e||r)(t))}return function(){if(!s||s()){i.PlayToBridge(t,n[t])&&o(n[t],l)}}}var n=this.pixels,i=this,a=this.__private__.mapper,l=t.adVolume;t.on(s.AdSkipped,e("skip")),t.on(s.AdStarted,e("creativeView")),t.on(s.AdVolumeChange,e("unmute",null,function(){return 0===l&&t.adVolume>0})),t.on(s.AdVolumeChange,e("mute",null,function(){return l>0&&0===t.adVolume})),t.on(s.AdImpression,e("impression")),t.on(s.AdVideoStart,e("start")),t.on(s.AdVideoFirstQuartile,e("firstQuartile")),t.on(s.AdVideoMidpoint,e("midpoint")),t.on(s.AdVideoThirdQuartile,e("thirdQuartile")),t.on(s.AdVideoComplete,e("complete")),t.on(s.AdClickThru,e("clickThrough")),t.on(s.AdUserAcceptInvitation,e("acceptInvitationLinear")),t.on(s.AdUserMinimize,e("collapse")),t.on(s.AdUserClose,e("closeLinear")),t.on(s.AdPaused,e("pause")),t.on(s.AdPlaying,e("resume")),t.on(s.AdError,e("error",function(t){return t.replace(/\[ERRORCODE\]/g,901)})),t.on(s.AdVolumeChange,function(){l=t.adVolume})},e.exports=i},{"./enums/VPAID_EVENTS":44}],39:[function(t,e,n){"use strict";function r(){var t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!1}function o(){var t=!1;if(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])t=!0;else if(void 0!==window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(t){}return t}function i(){var t,e,n,r,o={},s=arguments.length;for(t=0;t<s;t++){e=arguments[t]||{};for(n in e)r=e[n],void 0===o[n]&&(o[n]=r),"object"==typeof r&&(o[n]=i(o[n],r))}return o}function s(t){return t}function a(){return new Error("VASTPlayer not ready.")}function l(t){return function(){var e=this,n=this.__private__.player;return this.ready?n[t].apply(n,arguments).then(function(){return e}):T.reject(a())}}function u(t){return{get:function(){if(!this.ready)throw a();return this.__private__.player[t]},set:function(e){if(!this.ready)throw a();return this.__private__.player[t]=e}}}function c(t,e){var n=this;p.call(this),this.__private__={container:t,config:i(e,{vast:{withCredentials:!0,resolveWrappers:!0,maxRedirects:7},tracking:{mapper:s}}),vast:null,ready:!1,player:null,pType:0},this.on(b.AdClickThru,function(t,e,r){if(this.chekcClicked())return!0;var o=t||n.vast.get("ads[0].creatives[0].videoClicks.clickThrough");r&&o&&window.open(o)})}var p=t("events").EventEmitter,d=t("util").inherits,h=t("vastacular").VAST,f=t("./players/JavaScriptVPAID"),y=t("./players/FlashVPAID"),v=t("./players/HTMLVideo"),m=t("./players/ANDROIDVideo"),g=t("./players/IOSVideo"),_=t("./enums/MIME"),b=t("./enums/VPAID_EVENTS"),w=t("./EventProxy"),T=t("lie"),j=t("./PixelReporter");d(c,p),Object.defineProperties(c.prototype,{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},adRemainingTime:u("adRemainingTime"),adDuration:u("adDuration"),adVolume:u("adVolume")}),c.prototype.chekcClicked=function(){return 4!=this.pType||this.__private__.player.privateStarted?0:(this.__private__.player.privateStarted=1,1)},c.prototype.load=function(t){var e=this,n=this.config.vast;return h.fetch(t,n).then(function(t){var n=r(),i=/(android)/i.test(navigator.userAgent),s=function(){var r=t.filter("ads[0].creatives[0].mediaFiles",function(t){return(t.type===_.JAVASCRIPT||"application/x-javascript"===t.type)&&"VPAID"===t.apiFramework}),s=t.filter("ads[0].creatives[0].mediaFiles",function(t){return t.type===_.FLASH&&"VPAID"===t.apiFramework&&o()}),a=t.filter("ads[0].creatives[0].mediaFiles",function(){return!0});return r.length>0?(e.pType=1,{player:new f(e.container),mediaFiles:r}):s.length>0?(e.pType=2,{player:new y(e.container,c.vpaidSWFLocation),mediaFiles:s}):(e.pType=3,n?{player:new g(e.container),mediaFiles:a}:i?(e.pType=4,console.log("андрои !"),{player:new m(e.container),mediaFiles:a}):{player:new v(e.container),mediaFiles:a})}(),a=t.get("ads[0].creatives[0].parameters"),l=[].concat(t.map("ads[0].impressions",function(t){return{event:"impression",uri:t.uri}}),t.map("ads[0].errors",function(t){return{event:"error",uri:t}}),t.get("ads[0].creatives[0].trackingEvents"),t.map("ads[0].creatives[0].videoClicks.clickTrackings",function(t){return{event:"clickThrough",uri:t}})),u=s.player,p=s.mediaFiles,d=new w(b),h=new j(l,e.config.tracking.mapper);return h.PlayToBridge=function(t,e){return 1},"function"==typeof e.config.bidgeFn&&(h.PlayToBridge=function(t,n){return e.config.bidgeFn(e.id_local_source,t,n),1}),d.from(u).to(e),e.__private__.vast=t,e.__private__.player=u,u.id1=e.id_local_source,u.load(p,a).then(function(){h.track(u)})}).then(function(){return e.__private__.ready=!0,e.emit("ready"),e}).catch(function(t){throw e.emit("error",t),t})},c.prototype.startAd=l("startAd"),c.prototype.stopAd=l("stopAd"),c.prototype.pauseAd=l("pauseAd"),c.prototype.resumeAd=l("resumeAd"),c.vpaidSWFLocation="https://cdn.jsdelivr.net/vast-player/0.2.9/vast-player--vpaid.swf",e.exports=c},{"./EventProxy":36,"./PixelReporter":38,"./enums/MIME":43,"./enums/VPAID_EVENTS":44,"./players/ANDROIDVideo":46,"./players/FlashVPAID":47,"./players/HTMLVideo":48,"./players/IOSVideo":49,"./players/JavaScriptVPAID":50,events:10,lie:16,util:34,vastacular:54}],40:[function(t,e,n){"use strict";function r(t){var e=t.split(".").map(parseFloat);this.string=t,this.major=e[0],this.minor=e[1],this.patch=e[2],Object.freeze(this)}r.prototype.toString=function(){return this.string},e.exports=r},{}],41:[function(t,e,n){"use strict";function r(t,e){e.fired[t]||(e.emit(t),e.fired[t]=!0)}function o(t){i.apply(this,arguments),this.duration=t,this.seconds=Array.apply([],new Array(t)).map(function(){return!1}),this.fired=[a.AdVideoStart,a.AdVideoFirstQuartile,a.AdVideoMidpoint,a.AdVideoThirdQuartile,a.AdVideoComplete].reduce(function(t,e){return t[e]=!1,t},{})}var i=t("events").EventEmitter,s=t("util").inherits,a=t("./enums/VPAID_EVENTS");s(o,i),o.prototype.tick=function(){function t(t){var n=i[t-1];return e.slice(0,n).every(function(t){return t===!0})}var e=this.seconds,n=this._getState(),o=Math.round(n.currentTime)-1;o>-1&&this.emit(a.AdRemainingTimeChange,{sec:o,dur:this.duration});var i=[1,2,3,4].map(function(t){return Math.floor(this.duration/4*t)},this);n.playing&&(r(a.AdVideoStart,this),o>-1&&(this.seconds[o]=!0)),t(1)&&r(a.AdVideoFirstQuartile,this),t(2)&&r(a.AdVideoMidpoint,this),t(3)&&r(a.AdVideoThirdQuartile,this),t(4)&&r(a.AdVideoComplete,this)},e.exports=o},{"./enums/VPAID_EVENTS":44,events:10,util:34}],42:[function(t,e,n){"use strict";var r=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];r.forEach(function(t){this[t.toUpperCase()]=t},r),Object.freeze(r),e.exports=r},{}],43:[function(t,e,n){var r={JAVASCRIPT:"application/javascript",FLASH:"application/x-shockwave-flash"};Object.freeze(r),e.exports=r},{}],44:[function(t,e,n){"use strict";var r=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"];r.forEach(function(t){r[t]=t}),Object.freeze(r),e.exports=r},{}],45:[function(t,e,n){"use strict";var r=t("./window"),o=document.createElement("video"),i=t("./enums/MIME");n.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(r.navigator.userAgent),n.canPlay=function(t){var e=r.navigator.mimeTypes,n=r.ActiveXObject;switch(t){case i.FLASH:try{return new n("ShockwaveFlash.ShockwaveFlash")?2:0}catch(t){return e&&e[i.FLASH]?2:0}return 0;case i.JAVASCRIPT:case"application/x-javascript":return 2;default:if(o.canPlayType)switch(o.canPlayType(t)){case"probably":return 2;case"maybe":return 1;default:return 0}}return 0},Object.freeze(n)},{"./enums/MIME":43,"./window":53}],46:[function(t,e,n){"use strict";function r(t,e,n){return t.addEventListener(e,n,!1)}function o(t,e,n){return t.removeEventListener(e,n,!1)}function i(t,e,n){return r(t,e,function r(){return o(t,e,r),n.apply(this,arguments)})}function s(t,e){function n(){return new Error("The <video> has not been loaded.")}return function(){if(!this.video){if(e)return p.reject(n());throw n()}return t.apply(this,arguments)}}function a(t,e){var n=e.width,r=t.map(function(t){return{mediaFile:t,playability:d(t.type)}}).filter(function(t){return t.playability>0}).sort(h("-playability","-mediaFile.bitrate")),o=r.map(function(t){return t.mediaFile.hasOwnProperty("width")&&t.mediaFile.width||(t.mediaFile.width=1e3),Math.abs(n-t.mediaFile.width)}),i=r[o.indexOf(Math.min.apply(Math,o))];return!i||i.playability<1?null:i.mediaFile}function l(t){this.container=t,this.video=null,this.privateStarted=0,this.__private__={hasPlayed:!1}}var u=t("events").EventEmitter,c=t("util").inherits,p=t("lie"),d=t("../environment").canPlay,h=t("sort-by"),f=t("../enums/VPAID_EVENTS"),y=t("../enums/HTML_MEDIA_EVENTS"),v=t("../HTMLVideoTracker"),m=t("../EventProxy");c(l,u),Object.defineProperties(l.prototype,{adRemainingTime:{get:s(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:s(function(){return this.video.duration})},adVolume:{get:s(function(){return this.video.volume}),set:s(function(t){this.video.volume=t})}}),l.prototype.load=function(t){var e=this;return new p(function(n,o){var s=document.createElement("video"),l=a(t,e.container.getBoundingClientRect());if(!l)return o(new Error("There are no playable <MediaFile>s."));s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.src=l.uri,s.preload="auto",s.style.display="block",s.style.width="100%",s.style.height="100%",s.style.objectFit="contain",i(s,y.LOADEDMETADATA,function(){var t=new v(s);new m(f).from(t).to(e),e.video=s,n(e),e.emit(f.AdLoaded),r(s,y.DURATIONCHANGE,function(){e.emit(f.AdDurationChange)}),r(s,y.VOLUMECHANGE,function(){e.emit(f.AdVolumeChange)})}),i(s,y.ERROR,function(){var t=s.error;e.emit(f.AdError,t.message),o(t)}),i(s,y.PLAYING,function(){e.__private__.hasPlayed=!0,e.emit(f.AdImpression)}),i(s,y.ENDED,function(){e.stopAd()}),r(s,"click",function(){e.privateStarted,e.emit(f.AdClickThru,null,null,!0)}),e.container.appendChild(s)})},l.prototype.startAd=s(function(){var t=this;this.video;return this.__private__.hasPlayed?p.reject(new Error("The ad has already been started.")):new p(function(e){return e(t),!0})},!0),l.prototype.stopAd=s(function(){return this.container.removeChild(this.video),this.emit(f.AdStopped),p.resolve(this)},!0),l.prototype.pauseAd=s(function(){var t=this,e=this.video;return this.video.paused?p.resolve(this):new p(function(n){return i(e,y.PAUSE,function(){n(t),t.emit(f.AdPaused)}),n(t),e.pause()})},!0),l.prototype.resumeAd=s(function(){var t=this,e=this.video;return this.__private__.hasPlayed?this.video.paused?new p(function(n){return i(e,y.PLAY,function(){n(t),t.emit(f.AdPlaying)}),e.play()}):p.resolve(this):p.reject(new Error("The ad has not been started yet."))},!0),e.exports=l},{"../EventProxy":36,"../HTMLVideoTracker":37,"../enums/HTML_MEDIA_EVENTS":42,"../enums/VPAID_EVENTS":44,"../environment":45,events:10,lie:16,"sort-by":25,util:34}],47:[function(t,e,n){"use strict";function r(t,e){o.apply(this,arguments),this.swfURI=e,this.object=null}var o=t("./VPAID"),i=t("util").inherits,s=t("lie"),a=t("../uuid"),l=t("querystring"),u=t("../enums/VPAID_EVENTS"),c=t("../VPAIDVersion");i(r,o),r.prototype.load=function(t,e){var n=this,r=t[0].uri,o=t[0].bitrate;return new s(function(t,i){function s(t){n.container.removeChild(p),n.api=null,n.object=null,delete window[d],t&&i(t)}var p=document.createElement("object"),d="vast_player__"+a(20),h=l.stringify({vpaidURI:r,eventCallback:d});p.type="application/x-shockwave-flash",p.data=n.swfURI+"?"+h,p.style.display="block",p.style.width="100%",p.style.height="100%",p.style.border="none",p.style.opacity="0",p.innerHTML=['<param name="movie" value="'+n.swfURI+'">','<param name="flashvars" value="'+h+'">','<param name="quality" value="high">','<param name="play" value="false">','<param name="loop" value="false">','<param name="wmode" value="opaque">','<param name="scale" value="noscale">','<param name="salign" value="lt">','<param name="allowScriptAccess" value="always">'].join("\n"),n.object=p,window[d]=function(t){switch(t.type){case u.AdClickThru:return n.emit(t.type,t.url,t.Id,t.playerHandles);case u.AdInteraction:case u.AdLog:return n.emit(t.type,t.Id);case u.AdError:return n.emit(t.type,t.message);default:return n.emit(t.type)}},n.once("VPAIDInterfaceReady",function(){var t=p.getBoundingClientRect(),r=n.vpaidVersion=new c(p.handshakeVersion("2.0"));if(r.major>2)return i(new Error("VPAID version "+r+" is not supported."));n.on("VPAIDInterfaceResize",function(){var t=p.getBoundingClientRect();n.resizeAd(t.width,t.height,"normal")}),p.initAd(t.width,t.height,"normal",o,e,null)}),n.once(u.AdLoaded,function(){n.api=p,p.style.opacity="1",t(n)}),n.once(u.AdError,function(t){s(new Error(t))}),n.once(u.AdStopped,s),n.container.appendChild(p)})},e.exports=r},{"../VPAIDVersion":40,"../enums/VPAID_EVENTS":44,"../uuid":52,"./VPAID":51,lie:16,querystring:22,util:34}],48:[function(t,e,n){"use strict";function r(t,e,n){return t.addEventListener(e,n,!1)}function o(t,e,n){return t.removeEventListener(e,n,!1)}function i(t,e,n){return r(t,e,function r(){return o(t,e,r),n.apply(this,arguments)})}function s(t,e){function n(){return new Error("The <video> has not been loaded.")}return function(){if(!this.video){if(e)return p.reject(n());throw n()}return t.apply(this,arguments)}}function a(t,e){var n=e.width,r=t.map(function(t){return{mediaFile:t,playability:d(t.type)}}).filter(function(t){return t.playability>0}).sort(h("-playability","-mediaFile.bitrate")),o=r.map(function(t){return t.mediaFile.hasOwnProperty("width")&&t.mediaFile.width||(t.mediaFile.width=1e3),Math.abs(n-t.mediaFile.width)}),i=r[o.indexOf(Math.min.apply(Math,o))];return!i||i.playability<1?null:i.mediaFile}function l(t){this.container=t,this.video=null,this.__private__={hasPlayed:!1}}var u=t("events").EventEmitter,c=t("util").inherits,p=t("lie"),d=t("../environment").canPlay,h=t("sort-by"),f=t("../enums/VPAID_EVENTS"),y=t("../enums/HTML_MEDIA_EVENTS"),v=t("../HTMLVideoTracker"),m=t("../EventProxy");c(l,u),Object.defineProperties(l.prototype,{adRemainingTime:{get:s(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:s(function(){return this.video.duration})},adVolume:{get:s(function(){return this.video.volume}),set:s(function(t){this.video.volume=t})}}),l.prototype.load=function(t){var e=this;return new p(function(n,o){var s=document.createElement("video"),l=a(t,e.container.getBoundingClientRect());if(!l)return o(new Error("There are no playable <MediaFile>s."));s.setAttribute("webkit-playsinline",!0),s.src=l.uri,s.preload="auto",s.style.display="block",s.style.width="100%",s.style.height="100%",s.style.objectFit="contain",i(s,y.LOADEDMETADATA,function(){var t=new v(s);new m(f).from(t).to(e),e.video=s,n(e),e.emit(f.AdLoaded),r(s,y.DURATIONCHANGE,function(){e.emit(f.AdDurationChange)}),r(s,y.VOLUMECHANGE,function(){e.emit(f.AdVolumeChange)})}),i(s,y.ERROR,function(){var t=s.error;e.emit(f.AdError,t.message),o(t)}),i(s,y.PLAYING,function(){e.__private__.hasPlayed=!0,e.emit(f.AdImpression)}),i(s,y.ENDED,function(){e.stopAd()}),r(s,"click",function(){e.emit(f.AdClickThru,null,null,!0)}),e.container.appendChild(s)})},l.prototype.startAd=s(function(){var t=this,e=this.video;return e.volume=.1,this.__private__.hasPlayed?p.reject(new Error("The ad has already been started.")):new p(function(n){return i(e,y.PLAYING,function(){n(t),t.emit(f.AdStarted)}),e.play()})},!0),l.prototype.stopAd=s(function(){return this.container.removeChild(this.video),this.emit(f.AdStopped),p.resolve(this)},!0),l.prototype.pauseAd=s(function(){var t=this,e=this.video;return this.video.paused?p.resolve(this):new p(function(n){return i(e,y.PAUSE,function(){n(t),t.emit(f.AdPaused)}),e.pause()})},!0),l.prototype.resumeAd=s(function(){var t=this,e=this.video;return this.__private__.hasPlayed?this.video.paused?new p(function(n){return i(e,y.PLAY,function(){n(t),t.emit(f.AdPlaying)}),e.play()}):p.resolve(this):p.reject(new Error("The ad has not been started yet."))},!0),e.exports=l},{"../EventProxy":36,"../HTMLVideoTracker":37,"../enums/HTML_MEDIA_EVENTS":42,"../enums/VPAID_EVENTS":44,"../environment":45,events:10,lie:16,"sort-by":25,util:34}],49:[function(t,e,n){"use strict";function r(t,e,n){return t.addEventListener(e,n,!1)}function o(t,e,n){return t.removeEventListener(e,n,!1)}function i(t,e,n){return r(t,e,function r(){return o(t,e,r),n.apply(this,arguments)})}function s(t,e){function n(){return new Error("The <video> has not been loaded.")}return function(){if(!this.video){if(e)return p.reject(n());throw n()}return t.apply(this,arguments)}}function a(t,e){var n=e.width,r=t.map(function(t){return{mediaFile:t,playability:d(t.type)}}).filter(function(t){return t.playability>0}).sort(h("-playability","-mediaFile.bitrate")),o=r.map(function(t){return t.mediaFile.hasOwnProperty("width")&&t.mediaFile.width||(t.mediaFile.width=1e3),Math.abs(n-t.mediaFile.width)}),i=r[o.indexOf(Math.min.apply(Math,o))];return!i||i.playability<1?null:i.mediaFile}function l(t){this.container=t,this.video=null,this.__private__={hasPlayed:!1}}var u=t("events").EventEmitter,c=t("util").inherits,p=t("lie"),d=t("../environment").canPlay,h=t("sort-by"),f=t("../enums/VPAID_EVENTS"),y=t("../enums/HTML_MEDIA_EVENTS"),v=t("../HTMLVideoTracker"),m=t("../EventProxy");c(l,u),Object.defineProperties(l.prototype,{adRemainingTime:{get:s(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:s(function(){return this.video.duration})},adVolume:{get:s(function(){return this.video.volume}),set:s(function(t){this.video.volume=t})}}),l.prototype.load=function(t){var e=this;return new p(function(n,o){var s=document.createElement("video"),l=a(t,e.container.getBoundingClientRect());if(!l)return o(new Error("There are no playable <MediaFile>s."));s.setAttribute("muted",!0),s.setAttribute("playsinline",!0),s.setAttribute("webkit-playsinline",!0),s.src=l.uri,s.preload="auto",s.style.display="block",s.style.width="100%",s.style.height="100%",s.style.objectFit="contain",i(s,y.LOADEDMETADATA,function(){var t=new v(s);new m(f).from(t).to(e),e.video=s,n(e),e.emit(f.AdLoaded),r(s,y.DURATIONCHANGE,function(){e.emit(f.AdDurationChange)}),r(s,y.VOLUMECHANGE,function(){e.emit(f.AdVolumeChange)})}),i(s,y.ERROR,function(){var t=s.error;e.emit(f.AdError,t.message),o(t)}),i(s,y.PLAYING,function(){e.__private__.hasPlayed=!0,e.emit(f.AdImpression)}),i(s,y.ENDED,function(){e.stopAd()}),r(s,"click",function(){e.emit(f.AdClickThru,null,null,!0)}),e.container.appendChild(s)})},l.prototype.startAd=s(function(){var t=this,e=this.video;return this.__private__.hasPlayed?p.reject(new Error("The ad has already been started.")):new p(function(n){return i(e,y.PLAYING,function(){n(t),t.emit(f.AdStarted)}),window.enableInlineVideo(e,{everywhere:!0}),e.play()})},!0),l.prototype.stopAd=s(function(){return this.emit(f.AdStopped),p.resolve(this)},!0),l.prototype.pauseAd=s(function(){var t=this,e=this.video;return this.video.paused?p.resolve(this):(e.className="",new p(function(n){return i(e,y.PAUSE,function(){n(t),t.emit(f.AdPaused)}),e.pause()}))},!0),l.prototype.resumeAd=s(function(){var t=this,e=this.video;return this.__private__.hasPlayed?(e.className="IIV",this.video.paused?new p(function(n){return i(e,y.PLAY,function(){n(t),t.emit(f.AdPlaying)}),e.play()}):p.resolve(this)):p.reject(new Error("The ad has not been started yet."))},!0),e.exports=l},{"../EventProxy":36,"../HTMLVideoTracker":37,"../enums/HTML_MEDIA_EVENTS":42,"../enums/VPAID_EVENTS":44,"../environment":45,events:10,lie:16,"sort-by":25,util:34}],50:[function(t,e,n){"use strict";function r(){i.apply(this,arguments),this.playDelay=1,this.playClean=0,this.mypaused=1,this.frame=null}var o=t("util").inherits,i=t("./VPAID"),s=t("lie"),a=t("../enums/VPAID_EVENTS"),l=t("../environment").isDesktop,u=t("../VPAIDVersion");o(r,i),r.prototype.load=function(t,e){var n=this,r=t[0].uri,o=t[0].bitrate;return new s(function(t,i){function s(t){}function c(t){n.playClean=1;try{n.container.removeChild(h)}catch(t){console.log(["iframe error"])}n.frame=null,n.api=null,t&&i(t)}function p(t){if(!n.playClean){if(s(n.vpaApi),console.log(["граница vpaid",t]),t>0)return void setTimeout(function(){p(t-1)},5e3);n.stopAd()}}function d(t){if(n.playDelay){if(console.log(["times",t,n.playDelay,"log vpaid"]),t>0)return void setTimeout(function(){d(t-1)},1e3);c(new Error("vpaid не загрузился в течении 18 сек"))}}var h=document.createElement("iframe");h.scrolling="no";var f=document.createElement("script"),y=document.createElement("video");d(14),h.src="about:blank",h.style.width="100%",h.style.height="100%",h.style.display="block",h.style.opacity="0",h.style.border="none",y.setAttribute("webkit-playsinline","true"),y.style.display="block",y.style.width="100%",y.style.height="100%",y.style.objectFit="contain",n.container.appendChild(h),h.contentWindow.document.open(),h.contentWindow.document.close(),h.contentWindow.document.body.style.margin="0",n.frame=h,f.src=r,f.onload=function(){function r(){var t=h.getBoundingClientRect();n.resizeAd(t.width,t.height,"normal")}var s=h.contentWindow.getVPAIDAd(),d=h.getBoundingClientRect(),f=h.contentWindow.document.body,v=n.vpaidVersion=new u(s.handshakeVersion("2.0"));if(v.major>2)return i(new Error("VPAID version "+v+" is not supported."));h.contentWindow.addEventListener("resize",r,!1),a.forEach(function(t){return s.subscribe(function(){for(var e=new Array(arguments.length),r=arguments.length;r--;)e[r]=arguments[r];return n.emit.apply(n,[t].concat(e))},t)}),n.once(a.AdLoaded,function(){n.playDelay=0,h.style.opacity="1",n.api=s,31==n.id1||32==n.id1||p(15),t(n)}),n.once(a.AdError,function(t){c(new Error(t))}),n.once(a.AdStopped,c),n.vpaApi=s,31!=n.id1&&32!=n.id1||n.once(a.AdPlaying,function(){p(6)}),console.log(["style args",e]),s.initAd(d.width,d.height,"normal",o,{AdParameters:e},{slot:f,videoSlot:y,videoSlotCanAutoPlay:l})},f.onerror=function(){c(new Error("Failed to load MediaFile ["+r+"]."))},h.contentWindow.document.body.appendChild(y),h.contentWindow.document.head.appendChild(f)})},e.exports=r},{"../VPAIDVersion":40,"../enums/VPAID_EVENTS":44,"../environment":45,"./VPAID":51,lie:16,util:34}],51:[function(t,e,n){"use strict";function r(t,e){return function(){function n(){return new Error("Ad has not been loaded.")}function r(){return i[t].apply(i,o)}var o=arguments,i=this.api,s=this;if(!e){if(!i)throw n();return r()}return new a(function(t,o){return i?(s.once(e,function(){t(s)}),r()):o(n())})}}function o(t){this.container=t,this.api=null,this.vpaidVersion=null}var i=t("util").inherits,s=t("events").EventEmitter,a=t("lie"),l=t("../enums/VPAID_EVENTS");i(o,s),Object.defineProperties(o.prototype,{adLinear:{get:r("getAdLinear")},adWidth:{get:r("getAdWidth")},adHeight:{get:r("getAdHeight")},adExpanded:{get:r("getAdExpanded")},adSkippableState:{get:r("getAdSkippableState")},adRemainingTime:{get:r("getAdRemainingTime")},adDuration:{get:r("getAdDuration")},adVolume:{get:r("getAdVolume"),set:r("setAdVolume")},adCompanions:{get:r("getAdCompanions")},adIcons:{get:r("getAdIcons")}}),o.prototype.load=function(){throw new Error("VPAID subclass must implement load() method.")},o.prototype.resizeAd=r("resizeAd",l.AdSizeChange),o.prototype.startAd=r("startAd",l.AdStarted),o.prototype.stopAd=r("stopAd",l.AdStopped),o.prototype.pauseAd=r("pauseAd",l.AdPaused),o.prototype.resumeAd=r("resumeAd",l.AdPlaying),o.prototype.expandAd=r("expandAd",l.AdExpandedChange),o.prototype.collapseAd=r("collapseAd",l.AdExpandedChange),o.prototype.skipAd=r("skipAd",l.AdSkipped),e.exports=o},{"../enums/VPAID_EVENTS":44,events:10,lie:16,util:34}],52:[function(t,e,n){"use strict";var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=r.length;e.exports=function(t){for(var e="";t--;)e+=r.charAt(Math.floor(Math.random()*o));return e}},{}],53:[function(t,e,n){e.exports=window},{}],54:[function(t,e,n){n.VAST=t("./lib/VAST")},{"./lib/VAST":55}],55:[function(t,e,n){"use strict";function r(){}function o(t){h({description:null,survey:null},t)}function i(){}function s(t){h({trackingEvents:[],parameters:null,videoClicks:null},t),(t.mediaFiles||[]).forEach(function(t){h({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},t)})}function a(t){t.companions.forEach(function(t){h({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},t)})}function l(t){h({trackingEvents:[]},t),t.ads.forEach(function(t){h({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,clickThrough:null,parameters:null},t)})}function u(t){d(t,this,!0),this.ads.forEach(function(t){h({system:{version:null},errors:[]},t),t.creatives.forEach(function(t){h({id:null,sequence:null,adID:null},t),_[t.type](t)}),g[t.type](t)}),this.__private__={wrappers:[],inlines:[]}}var c=t("lie"),p=t("superagent"),d=t("./utils/copy"),h=t("./utils/defaults"),f=t("./utils/extend"),y=t("./utils/nodeify_promise"),v=Array.prototype.push,m=t("./xml_from_vast"),g={inline:o,wrapper:i},_={linear:s,companions:a,nonLinear:l};Object.defineProperties(u.prototype,{wrappers:{get:function(){var t=this.__private__.wrappers;return t.length=0,v.apply(t,this.filter("ads",function(t){return"wrapper"===t.type})),t}},inlines:{get:function(){var t=this.__private__.inlines;return t.length=0,v.apply(t,this.filter("ads",function(t){return"inline"===t.type})),t}}}),u.prototype.get=function(t){return((t||"").match(/[^\[\]\.]+/g)||[]).reduce(function(t,e){return(t||void 0)&&t[e]},this)},u.prototype.set=function(t,e){function n(t,e){switch(t.input.charAt(e)){case".":return Object;case"[":return Array;case"]":return n(t,e+1);default:return null}}var r=function(){for(var e,r=/[^\[\]\.]+/g,o=[];e=r.exec(t);)o.push({token:e[0],type:n(e,e.index+e[0].length)});return o}(),o=r.pop(),i=r.reduce(function(t,e){return t[e.token]||(t[e.token]=new e.type)},this);if(!t)throw new Error("prop must be specified.");return i[o.token]=e},u.prototype.map=function(t,e){var n=this.get(t)||[],r=n.length,o=[];if(!(n instanceof Array))return o;for(var i=0;i<r;i++)o.push(e.call(this,n[i],i,n));return o},u.prototype.filter=function(t,e){var n=this.get(t)||[],r=n.length,o=[];if(!(n instanceof Array))return o;for(var i=0;i<r;i++)e.call(this,n[i],i,n)&&o.push(n[i]);return o},u.prototype.find=function(t,e){var n=this.get(t)||[],r=n.length;if(n instanceof Array)for(var o=0;o<r;o++)if(e.call(this,n[o],o,n))return n[o]},u.prototype.toPOJO=function(){var t=JSON.parse(JSON.stringify(this));return delete t.__private__,t},u.prototype.copy=function(){return new this.constructor(this.toPOJO())},u.prototype.resolveWrappers=function(){function t(t,e){function n(t){return function(e){return e.type===t}}var r=function(t){return{linear:t.filter(n("linear")),companions:t.filter(n("companions")),nonLinear:t.filter(n("nonLinear"))}}(t.creatives);return h(t.impressions,e.impressions),h(t.errors,e.errors),void 0!==t.extensions&&h(t.extensions,e.extensions),e.creatives.forEach(function(t){h(r[t.type].shift()||{},t)}),v.apply(e.creatives,"wrapper"!==e.type?[]:["linear","companions","nonLinear"].reduce(function(t,e){return t.concat(r[e])},[])),e}var e=isNaN(arguments[0])?1/0:arguments[0],n="function"==typeof arguments[0]?arguments[0]:arguments[1],r=this.constructor,o=this;return 0===e?c.reject(new Error("Too many redirects were made.")):y(c.all(this.map("wrappers",function(t){return c.resolve(p.get(t.vastAdTagURI)).then(function(e){return{wrapper:t,response:r.pojoFromXML(e.text).ads}})})).then(function(e){var n=e.map(function(t){return t.wrapper}),i=e.map(function(t){return t.response});return new r(f(o.toPOJO(),{ads:o.map("ads",function(e){var r=n.indexOf(e),o=n[r],s=i[r];return s?s.map(t.bind(null,o)):[e]}).reduce(function(t,e){return t.concat(e)})}))}).then(function(t){return t.get("wrappers.length")>0?t.resolveWrappers(e-1):t}),n)},u.prototype.toXML=function(){var t=this.validate();if(!t.valid)throw new Error("VAST is invalid: "+t.reasons.join(", "));return m(this)},u.prototype.validate=function(){function t(t,e){t||s.push(e)}function e(e){t(i.get(e),e+" is required")}function n(e){t(i.get(e+".length")>0,e+" must contain at least one value")}function o(t,r){r.exists.map(t).forEach(e),r.atLeastOne.map(t).forEach(n)}var i=this,s=[],a={inline:function(t){var e={linear:function(t){o(t,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(t){i.get(t("companions")).forEach(function(e,n){function r(e){return t("companions["+n+"]."+e)}o(r,{exists:[],atLeastOne:["resources"]})})},nonLinear:function(t){i.get(t("ads")).forEach(function(e,n){function r(e){return t("ads["+n+"]."+e)}o(r,{exists:[],atLeastOne:["resources"]})})}};o(t,{exists:["title"],atLeastOne:["creatives"]}),i.get(t("creatives")).forEach(function(n,i){function s(e){return t("creatives["+i+"]."+e)}o(s,{exists:["type"],atLeastOne:[]}),(e[n.type]||r)(s)})},wrapper:function(t){o(t,{exists:["vastAdTagURI"],atLeastOne:[]})}};return o(function(t){return t},{exists:[],atLeastOne:["ads"]}),this.get("ads").forEach(function(t,e){function n(t){return"ads["+e+"]."+t}o(n,{exists:["type","system.name"],atLeastOne:["impressions"]}),(a[t.type]||r)(n)}),{valid:0===s.length,reasons:0===s.length?null:s}},u.pojoFromXML=t("./pojo_from_xml"),u.fetch=function(t){var e="object"==typeof arguments[1]?arguments[1]||{}:{},n="function"==typeof arguments[2]?arguments[2]:arguments[1],r=this;return y(c.resolve(p.get(t).set(e.headers||{})).then(function(t){var n=new r(r.pojoFromXML(t.text));return e.resolveWrappers?n.resolveWrappers(e.maxRedirects):n}),n)},e.exports=u},{"./pojo_from_xml":56,"./utils/copy":58,"./utils/defaults":59,"./utils/extend":60,"./utils/nodeify_promise":61,"./xml_from_vast":68,lie:16,superagent:26}],56:[function(t,e,n){"use strict";function r(t){return t[0]||{attributes:{}}}function o(t){return t.find("StaticResource,IFrameResource,HTMLResource").map(function(t){return{type:t.tag.replace(/Resource$/,"").toLowerCase(),creativeType:t.attributes.creativeType,data:t.value}})}function i(t){
var e=r(t.find("Duration")),n=t.find("Tracking"),o=r(t.find("AdParameters")),i=t.find("VideoClicks")[0],s=t.find("MediaFile");return{type:"linear",duration:p(e.value)||void 0,trackingEvents:n.map(function(t){return{event:t.attributes.event,uri:t.value}}),parameters:o.value,videoClicks:i&&function(){var t=r(i.find("ClickThrough")),e=i.find("ClickTracking"),n=i.find("CustomClick");return{clickThrough:t.value,clickTrackings:e.map(function(t){return t.value}),customClicks:n.map(function(t){return{id:t.attributes.id,uri:t.value}})}}(),mediaFiles:s.map(function(t){var e=t.attributes;return{id:e.id,delivery:e.delivery,type:e.type,uri:t.value,bitrate:y(e.bitrate),width:y(e.width),height:y(e.height),scalable:d(e.scalable),maintainAspectRatio:d(e.maintainAspectRatio),apiFramework:e.apiFramework}})}}function s(t){return{type:"companions",companions:t.find("Companion").map(function(t){var e=t.find("Tracking"),n=r(t.find("CompanionClickThrough")),i=r(t.find("AltText")),s=r(t.find("AdParameters"));return{id:t.attributes.id,width:y(t.attributes.width),height:y(t.attributes.height),expandedWidth:y(t.attributes.expandedWidth),expandedHeight:y(t.attributes.expandedHeight),apiFramework:t.attributes.apiFramework,resources:o(t),trackingEvents:e.map(function(t){return{event:t.attributes.event,uri:t.value}}),clickThrough:n.value,altText:i.value,parameters:s.value}})}}function a(t){var e=t.find("NonLinear"),n=t.find("Tracking");return{type:"nonLinear",ads:e.map(function(t){var e=r(t.find("NonLinearClickThrough")),n=r(t.find("AdParameters"));return{id:t.attributes.id,width:y(t.attributes.width),height:y(t.attributes.height),expandedWidth:y(t.attributes.expandedWidth),expandedHeight:y(t.attributes.expandedHeight),scalable:d(t.attributes.scalable),maintainAspectRatio:d(t.attributes.maintainAspectRatio),minSuggestedDuration:p(t.attributes.minSuggestedDuration)||void 0,apiFramework:t.attributes.apiFramework,resources:o(t),clickThrough:e.value,parameters:n.value}}),trackingEvents:n.map(function(t){return{event:t.attributes.event,uri:t.value}})}}function l(t){var e=r(t.find("AdTitle")),n=r(t.find("Description")),o=r(t.find("Survey"));return{type:"inline",title:e.value,description:n.value,survey:o.value}}function u(t){return{type:"wrapper",vastAdTagURI:r(t.find("VASTAdTagURI")).value}}var c=t("./utils/parse_xml"),p=t("./utils/timestamp_to_seconds"),d=t("./utils/string_to_boolean"),h=t("./utils/extend"),f=t("./utils/trim_object"),y=t("./utils/numberify"),v={linear:i,companions:s,nonLinear:a},m={inline:l,wrapper:u};e.exports=function(t){var e=c(t);if(!e("VAST")[0])throw new Error("["+t+"] is not a valid VAST document.");return f({version:r(e("VAST")).attributes.version,ads:e("Ad").map(function(t){var e=r(t.find("Wrapper,InLine")).tag.toLowerCase(),n=r(t.find("AdSystem")),o=t.find("Error"),i=t.find("Impression"),s=t.find("Creative"),a=t.find("Extension"),l=a.map(function(t){if(t&&t.attributes)return t.value?t.value=t.value.replace(/^\s+|\s+$/,""):t.value="",{type:t.attributes.type,value:t.value}});return h({id:t.attributes.id,system:{name:n.value,version:n.attributes.version},errors:o.map(function(t){return t.value}),impressions:i.map(function(t){return{uri:t.value,id:t.attributes.id}}),extensions:l,creatives:s.map(function(t){var e=function(){switch(r(t.find("Linear,CompanionAds,NonLinearAds")).tag){case"Linear":return"linear";case"CompanionAds":return"companions";case"NonLinearAds":return"nonLinear"}}();return h({id:t.attributes.id,sequence:y(t.attributes.sequence),adID:t.attributes.AdID},v[e](t))})},m[e](t))})},!0)}},{"./utils/extend":60,"./utils/numberify":62,"./utils/parse_xml":63,"./utils/string_to_boolean":65,"./utils/timestamp_to_seconds":66,"./utils/trim_object":67}],57:[function(t,e,n){"use strict";function r(t){return null!==t&&void 0!==t}function o(t){return void 0!==t?String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function i(t){for(var e="";t--;)e+=" ";return e}function s(t){return(void 0!==t?function(t){for(var e,n,r=[],o=/]]>/g,i=0;e=o.exec(t);)n=e.index+2,r.push(e.input.substring(i,n)),i=n;return r.push(t.substring(i,t.length)),r}(String(t)):[""]).reduce(function(t,e){return t+"<![CDATA["+e+"]]>"},"")}function a(t){return t.cdata?s(t.value):o(t.value)}function l(t,e,n){var s=t.tag,u=t.attributes||{},c=Object.keys(u),p=t.children||[],d=t.value,h=p.length>0,f=c.every(function(t){return r(u[t])})&&c.length>0,y=r(d)||h||f,v=i(e),m="<"+s+Object.keys(u).reduce(function(t,e){return n&&!r(u[e])?t:t+" "+e+'="'+o(u[e])+'"'},"")+">",g="</"+s+">";return!n||y||t.required?h?[v+m].concat(t.children.reduce(function(t,r){return t.concat(l(r,e+4,n))},[]),[v+g]):[v+m+a(t)+g]:[]}e.exports=function(t,e){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(l(t,0,e)).join("\n")}},{}],58:[function(t,e,n){"use strict";function r(t,e,n){return Object.keys(t).reduce(function(e,r){return e[r]=n?i(t[r],null,!0):t[r],e},e||{})}function o(t,e,n){var r=e||[];return s.apply(r,n?t.map(function(t){return i(t,null,!0)}):t),r}function i(t){var e=("object"==typeof arguments[1]||null)&&arguments[1],n="boolean"==typeof arguments[1]?arguments[1]:arguments[2];return Object(t)!==t?t:t instanceof Array?o(t,e,n):r(t,e,n)}var s=Array.prototype.push;e.exports=i},{}],59:[function(t,e,n){"use strict";function r(t){return Object(t)===t}function o(t){return t instanceof Array}var i=Array.prototype.push;e.exports=function t(e,n){return[e,n].every(o)?(i.apply(n,e.filter(function(t){return n.indexOf(t)<0})),n):Object.keys(e).reduce(function(n,o){return[e[o],n[o]].every(r)&&t(e[o],n[o]),o in n||(n[o]=e[o]),n},n)}},{}],60:[function(t,e,n){"use strict";e.exports=function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){return Object.keys(e||{}).reduce(function(t,n){return t[n]=e[n],t},t)},{})}},{}],61:[function(t,e,n){"use strict";e.exports=function(t,e){return"function"!=typeof e?t:(t.then(function(t){e(null,t)},function(t){e(t)}),t)}},{}],62:[function(t,e,n){"use strict";e.exports=function(t){if(/string|number|boolean/.test(typeof t))return isNaN(t)?void 0:Number(t)}},{}],63:[function(t,e,n){"use strict";function r(t){var e=t.childElementCount>0;return{tag:t.tagName,value:e?null:t.textContent,attributes:a.call(t.attributes,function(t,e){return t[e.name]=e.value,t},{}),find:function(e){return o(t.querySelectorAll(e))},children:function(){return s.call(t.childNodes,function(t){return t instanceof Element}).map(r)}}}function o(t){return i.call(t,r)}var i=Array.prototype.map,s=Array.prototype.filter,a=Array.prototype.reduce,l=new DOMParser;e.exports=function(t){var e=l.parseFromString(t,"application/xml");return function(t){return o(e.querySelectorAll(t))}}},{}],64:[function(t,e,n){"use strict";function r(t){return(t>9?"":"0")+t.toString()}e.exports=function(t){return Number(t)!==t?null:[Math.floor(t/60/60),Math.floor(t/60%60),Math.floor(t%60%60)].map(r).join(":")}},{}],65:[function(t,e,n){"use strict";e.exports=function(t){switch((t||"").toLowerCase()){case"true":return!0;case"false":return!1}}},{}],66:[function(t,e,n){"use strict";e.exports=function(t){var e=(t||"").match(/^(\d\d):(\d\d):(\d\d)$/);return e&&e.slice(1,4).map(parseFloat).reduce(function(t,e,n){return t+e*Math.pow(60,Math.abs(n-2))},0)}},{}],67:[function(t,e,n){"use strict";e.exports=function t(e,n){return Object(e)!==e?e:Object.keys(e).reduce(function(r,o){return n&&e[o]instanceof Array?r[o]=e[o].filter(function(t){return void 0!==t}).map(function(e){return t(e,!0)}):n&&e[o]instanceof Object?r[o]=t(e[o],!0):void 0!==e[o]&&(r[o]=e[o]),r},{})}},{}],68:[function(t,e,n){"use strict";function r(t){return{tag:"TrackingEvents",children:t.map(function(t){return{tag:"Tracking",attributes:{event:t.event},value:t.uri,cdata:!0}})}}function o(t){return t.map(function(t){return{tag:function(t){switch(t){case"static":return"StaticResource";case"iframe":return"IFrameResource";case"html":return"HTMLResource"}}(t.type),attributes:{creativeType:t.creativeType},value:t.data,cdata:!0}})}function i(t){return{tag:"AdParameters",value:t.parameters}}function s(t){return{tag:"Linear",children:[{tag:"Duration",value:u(t.duration)},r(t.trackingEvents),i(t)].concat(t.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:t.videoClicks.clickThrough,cdata:!0}].concat(t.videoClicks.clickTrackings.map(function(t){return{tag:"ClickTracking",value:t,cdata:!0}}),t.videoClicks.customClicks.map(function(t){return{tag:"CustomClick",attributes:{id:t.id},value:t.uri,cdata:!0}}))}]:[],[{tag:"MediaFiles",children:t.mediaFiles.map(function(t){return{tag:"MediaFile",attributes:{id:t.id,width:t.width,height:t.height,bitrate:t.bitrate,type:t.type,delivery:t.delivery,scalable:t.scalable,maintainAspectRatio:t.maintainAspectRatio,apiFramework:t.apiFramework},value:t.uri,cdata:!0}})}])}}function a(t){return{tag:"CompanionAds",children:t.companions.map(function(t){return{tag:"Companion",attributes:{id:t.id,width:t.width,height:t.height,expandedWidth:t.expandedWidth,expandedHeight:t.expandedHeight,apiFramework:t.apiFramework},children:o(t.resources).concat([r(t.trackingEvents),{tag:"CompanionClickThrough",value:t.clickThrough,cdata:!0},{tag:"AltText",value:t.altText},i(t)])}})}}function l(t){return{tag:"NonLinearAds",children:t.ads.map(function(t){return{tag:"NonLinear",attributes:{id:t.id,width:t.width,height:t.height,expandedWidth:t.expandedWidth,expandedHeight:t.expandedHeight,scalable:t.scalable,maintainAspectRatio:t.maintainAspectRatio,minSuggestedDuration:u(t.minSuggestedDuration),apiFramework:t.apiFramework},children:o(t.resources).concat([{tag:"NonLinearClickThrough",value:t.clickThrough,cdata:!0},i(t)])}}).concat([r(t.trackingEvents)])}}var u=t("./utils/seconds_to_timestamp"),c=t("./utils/compile_xml"),p={linear:s,companions:a,nonLinear:l};e.exports=function(t){return c({tag:"VAST",attributes:{version:t.get("version")},children:t.map("ads",function(t){return{tag:"Ad",attributes:{id:t.id},children:[{tag:function(){switch(t.type){case"inline":return"InLine";case"wrapper":return"Wrapper"}}(),children:[{tag:"AdSystem",attributes:{version:t.system.version},value:t.system.name},{tag:"AdTitle",value:t.title},{tag:"Description",value:t.description},{tag:"Survey",value:t.survey,cdata:!0},{tag:"VASTAdTagURI",value:t.vastAdTagURI,cdata:!0}].concat(t.errors.map(function(t){return{tag:"Error",value:t,cdata:!0}}),t.impressions.map(function(t){return{tag:"Impression",value:t.uri,cdata:!0,attributes:{id:t.id}}}),[{tag:"Creatives",children:t.creatives.map(function(t){return{tag:"Creative",attributes:{id:t.id,sequence:t.sequence,AdID:t.adID},children:[function(e){return p[e](t)}(t.type)]}}),required:!0}])}]}})},!0)}},{"./utils/compile_xml":57,"./utils/seconds_to_timestamp":64}],69:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./button.js"),l=r(a),u=t("./component.js"),c=r(u),p=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){this.player_.play();var e=this.player_.getChild("controlBar"),n=e&&e.getChild("playToggle");if(!n)return void this.player_.focus();this.setTimeout(function(){n.focus()},1)},e}(l.default);p.prototype.controlText_="Play Video",c.default.registerComponent("BigPlayButton",p),n.default=p},{"./button.js":70,"./component.js":73}],70:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./clickable-component.js"),l=r(a),u=t("./component"),c=r(u),p=t("./utils/log.js"),d=r(p),h=t("./utils/obj"),f=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,h.assign)({className:this.buildCSSClass()},e),"button"!==t&&(d.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),e=(0,h.assign)({tabIndex:0},e),n=(0,h.assign)({role:"button"},n)),n=(0,h.assign)({type:"button","aria-live":"polite"},n);var r=c.default.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(r),r},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return d.default.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c.default.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(l.default);c.default.registerComponent("Button",f),n.default=f},{"./clickable-component.js":71,"./component":73,"./utils/log.js":154,"./utils/obj":156}],71:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("./component"),u=o(l),c=t("./utils/dom.js"),p=r(c),d=t("./utils/events.js"),h=r(d),f=t("./utils/fn.js"),y=r(f),v=t("./utils/log.js"),m=o(v),g=t("global/document"),_=o(g),b=t("./utils/obj"),w=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r));return o.emitTapEvents(),o.enable(),o}return a(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&m.default.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=(0,b.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,r);return this.createControlTextEl(o),o},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=p.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!t)return this.controlText_||"Need Text";var n=this.localize(t);return this.controlText_=t,this.controlTextEl_.innerHTML=n,this.nonIconControl||e.setAttribute("title",n),this},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},e.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){h.on(_.default,"keydown",y.bind(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleClick(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){h.off(_.default,"keydown",y.bind(this,this.handleKeyPress))},e}(u.default);u.default.registerComponent("ClickableComponent",w),n.default=w},{"./component":73,"./utils/dom.js":149,"./utils/events.js":150,"./utils/fn.js":151,"./utils/log.js":154,"./utils/obj":156,"global/document":12}],72:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./button"),l=r(a),u=t("./component"),c=r(u),p=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.controlText(r&&r.controlText||s.localize("Close")),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(l.default);c.default.registerComponent("CloseButton",p),n.default=p},{"./button":70,"./component":73}],73:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=t("global/window"),a=o(s),l=t("./utils/dom.js"),u=r(l),c=t("./utils/fn.js"),p=r(c),d=t("./utils/guid.js"),h=r(d),f=t("./utils/events.js"),y=r(f),v=t("./utils/log.js"),m=o(v),g=t("./utils/to-title-case.js"),_=o(g),b=t("./utils/merge-options.js"),w=o(b),T=function(){function t(e,n,r){if(i(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=(0,w.default)({},this.options_),n=this.options_=(0,w.default)(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=e&&e.id&&e.id()||"no_player";this.id_=o+"_component_"+h.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return m.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=(0,w.default)(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return u.createEl(t,e,n)},t.prototype.localize=function(t){var e=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!e||!n)return t;var r=n[e];if(r&&r[t])return r[t];var o=e.split("-")[0],i=n[o];return i&&i[t]?i[t]:t},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=(0,_.default)(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,o=void 0,i=void 0;if("string"==typeof e){i=(0,_.default)(e),n||(n={}),n===!0&&(m.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var s=n.componentClass||i;n.name=i;var a=t.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;o=new a(this.player_||this,n)}else o=e;if(this.children_.splice(r,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),i=i||o.name&&(0,_.default)(o.name()),i&&(this.childNameIndex_[i]=o),"function"==typeof o.el&&o.el()){var l=this.contentEl().children,u=l[r]||null;this.contentEl().insertBefore(o.el(),u)}return o},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;if(n){var r=this.options_,o=function(t){var n=t.name,o=t.opts;if(void 0!==r[n]&&(o=r[n]),o!==!1){o===!0&&(o={}),o.playerOptions=e.options_.playerOptions;var i=e.addChild(n,o);i&&(e[n]=i)}},i=void 0,s=t.getComponent("Tech");i=Array.isArray(n)?n:Object.keys(n),i.concat(Object.keys(this.options_).filter(function(t){return!i.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var r=void 0,o=void 0;return"string"==typeof t?(r=t,o=n[r]||e.options_[r]||{}):(r=t.name,o=t),{name:r,opts:o}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||(0,_.default)(e.name));return n&&!s.isTech(n)}).forEach(o)}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,e,n){var r=this;if("string"==typeof t||Array.isArray(t))y.on(this.el_,t,p.bind(this,e));else{var o=t,i=e,s=p.bind(this,n),a=function(){return r.off(o,i,s)};a.guid=s.guid,this.on("dispose",a);var l=function(){return r.off("dispose",a)};l.guid=s.guid,t.nodeName?(y.on(o,i,s),y.on(o,"dispose",l)):"function"==typeof t.on&&(o.on(i,s),o.on("dispose",l))}return this},t.prototype.off=function(t,e,n){if(!t||"string"==typeof t||Array.isArray(t))y.off(this.el_,t,e);else{var r=t,o=e,i=p.bind(this,n);this.off("dispose",i),t.nodeName?(y.off(r,o,i),y.off(r,"dispose",i)):(r.off(o,i),r.off("dispose",i))}return this},t.prototype.one=function(t,e,n){var r=this,o=arguments;if("string"==typeof t||Array.isArray(t))y.one(this.el_,t,p.bind(this,e));else{var i=t,s=e,a=p.bind(this,n),l=function t(){r.off(i,s,t),a.apply(null,o)};l.guid=a.guid,this.on(i,s,l)}return this},t.prototype.trigger=function(t,e){return y.trigger(this.el_,t,e),this},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.isReady_?e?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t))),this},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return u.$(t,e||this.contentEl())},t.prototype.$$=function(t,e){return u.$$(t,e||this.contentEl())},t.prototype.hasClass=function(t){return u.hasElClass(this.el_,t)},t.prototype.addClass=function(t){return u.addElClass(this.el_,t),this},t.prototype.removeClass=function(t){return u.removeElClass(this.el_,t),this},t.prototype.toggleClass=function(t,e){return u.toggleElClass(this.el_,t,e),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return u.getAttribute(this.el_,t)},t.prototype.setAttribute=function(t,e){return u.setAttribute(this.el_,t,e),this},t.prototype.removeAttribute=function(t){return u.removeAttribute(this.el_,t),this},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[t],o=r.indexOf("px");return o!==-1?parseInt(r.slice(0,o),10):parseInt(this.el_["offset"+(0,_.default)(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof a.default.getComputedStyle){var n=a.default.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var r="offset"+(0,_.default)(t);e=this.el_[r]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,n=void 0;this.on("touchstart",function(r){1===r.touches.length&&(e={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=(new Date).getTime(),n=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)n=!1;else if(e){var r=t.touches[0].pageX-e.pageX,o=t.touches[0].pageY-e.pageY,i=Math.sqrt(r*r+o*o);i>10&&(n=!1)}});var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){if(e=null,n===!0){(new Date).getTime()-t<200&&(r.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=p.bind(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){t=p.bind(this,t);var n=a.default.setTimeout(t,e),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},t.prototype.clearTimeout=function(t){a.default.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=p.bind(this,t);var n=a.default.setInterval(t,e),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},t.prototype.clearInterval=function(t){a.default.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.registerComponent=function(e,n){if(e){if(e=(0,_.default)(e),t.components_||(t.components_={}),"Player"===e&&t.components_[e]){var r=t.components_[e];if(r.players&&Object.keys(r.players).length>0&&Object.keys(r.players).map(function(t){return r.players[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return t.components_[e]=n,n}},t.getComponent=function(e){if(e)return e=(0,_.default)(e),t.components_&&t.components_[e]?t.components_[e]:a.default&&a.default.videojs&&a.default.videojs[e]?(m.default.warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),a.default.videojs[e]):void 0},t.extend=function(e){e=e||{},m.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=e.init||e.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=t.extend;for(var o in e)e.hasOwnProperty(o)&&(r.prototype[o]=e[o]);return r},t}();T.registerComponent("Component",T),n.default=T},{"./utils/dom.js":149,"./utils/events.js":150,"./utils/fn.js":151,"./utils/guid.js":153,"./utils/log.js":154,"./utils/merge-options.js":155,"./utils/to-title-case.js":159,"global/window":13}],74:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("./audio-track-menu-item.js"),d=r(p),h=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),r.tracks=n.audioTracks&&n.audioTracks();var s=i(this,t.call(this,n,r));return s.el_.setAttribute("aria-label","Audio Menu"),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var e=this.player_.audioTracks&&this.player_.audioTracks();if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];t.push(new d.default(this.player_,{track:r,selectable:!0}))}return t},e}(l.default);h.prototype.controlText_="Audio Track",c.default.registerComponent("AudioTrackButton",h),n.default=h},{"../../component.js":73,"../track-button.js":104,"./audio-track-menu-item.js":75}],75:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){
if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../menu/menu-item.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("../../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=function(t){function e(n,r){o(this,e);var s=r.track,a=n.audioTracks();r.label=s.label||s.language||"Unknown",r.selected=s.enabled;var l=i(this,t.call(this,n,r));if(l.track=s,a){var u=d.bind(l,l.handleTracksChange);a.addEventListener("change",u),l.on("dispose",function(){a.removeEventListener("change",u)})}return l}return s(e,t),e.prototype.handleClick=function(e){var n=this.player_.audioTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var o=n[r];o.enabled=o===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(l.default);c.default.registerComponent("AudioTrackMenuItem",h),n.default=h},{"../../component.js":73,"../../menu/menu-item.js":116,"../../utils/fn.js":151}],76:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s);t("./play-toggle.js"),t("./time-controls/current-time-display.js"),t("./time-controls/duration-display.js"),t("./time-controls/time-divider.js"),t("./time-controls/remaining-time-display.js"),t("./live-display.js"),t("./progress-control/progress-control.js"),t("./fullscreen-toggle.js"),t("./volume-control/volume-control.js"),t("./volume-menu-button.js"),t("./mute-toggle.js"),t("./text-track-controls/chapters-button.js"),t("./text-track-controls/descriptions-button.js"),t("./text-track-controls/subtitles-button.js"),t("./text-track-controls/captions-button.js"),t("./audio-track-controls/audio-track-button.js"),t("./playback-rate-menu/playback-rate-menu-button.js"),t("./spacer-controls/custom-control-spacer.js");var l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},e}(a.default);l.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},a.default.registerComponent("ControlBar",l),n.default=l},{"../component.js":73,"./audio-track-controls/audio-track-button.js":74,"./fullscreen-toggle.js":77,"./live-display.js":78,"./mute-toggle.js":79,"./play-toggle.js":80,"./playback-rate-menu/playback-rate-menu-button.js":81,"./progress-control/progress-control.js":86,"./spacer-controls/custom-control-spacer.js":89,"./text-track-controls/captions-button.js":92,"./text-track-controls/chapters-button.js":93,"./text-track-controls/descriptions-button.js":95,"./text-track-controls/subtitles-button.js":97,"./time-controls/current-time-display.js":100,"./time-controls/duration-display.js":101,"./time-controls/remaining-time-display.js":102,"./time-controls/time-divider.js":103,"./volume-control/volume-control.js":106,"./volume-menu-button.js":108}],77:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../button.js"),l=r(a),u=t("../component.js"),c=r(u),p=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"fullscreenchange",s.handleFullscreenChange),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(l.default);p.prototype.controlText_="Fullscreen",c.default.registerComponent("FullscreenToggle",p),n.default=p},{"../button.js":70,"../component.js":73}],78:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=t("../utils/dom.js"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=function(t){function e(n,i){r(this,e);var s=o(this,t.call(this,n,i));return s.updateShowing(),s.on(s.player(),"durationchange",s.updateShowing),s}return i(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=u.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(t){1/0===this.player().duration()?this.show():this.hide()},e}(a.default);a.default.registerComponent("LiveDisplay",c),n.default=c},{"../component":73,"../utils/dom.js":149}],79:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../button"),l=r(a),u=t("../component"),c=r(u),p=t("../utils/dom.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"volumechange",s.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&s.addClass("vjs-hidden"),s.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){var e=this.player_.volume(),n=3;0===e||this.player_.muted()?n=0:e<.33?n=1:e<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var o=0;o<4;o++)d.removeElClass(this.el_,"vjs-vol-"+o);d.addElClass(this.el_,"vjs-vol-"+n)},e}(l.default);h.prototype.controlText_="Mute",c.default.registerComponent("MuteToggle",h),n.default=h},{"../button":70,"../component":73,"../utils/dom.js":149}],80:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../button.js"),l=r(a),u=t("../component.js"),c=r(u),p=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"play",s.handlePlay),s.on(n,"pause",s.handlePause),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e}(l.default);p.prototype.controlText_="Play",c.default.registerComponent("PlayToggle",p),n.default=p},{"../button.js":70,"../component.js":73}],81:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../menu/menu-button.js"),l=r(a),u=t("../../menu/menu.js"),c=r(u),p=t("./playback-rate-menu-item.js"),d=r(p),h=t("../../component.js"),f=r(h),y=t("../../utils/dom.js"),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(y),m=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.updateVisibility(),s.updateLabel(),s.on(n,"loadstart",s.updateVisibility),s.on(n,"ratechange",s.updateLabel),s}return s(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.createMenu=function(){var t=new c.default(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new d.default(this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),r=n[0],o=0;o<n.length;o++)if(n[o]>e){r=n[o];break}this.player().playbackRate(r)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(l.default);m.prototype.controlText_="Playback Rate",f.default.registerComponent("PlaybackRateMenuButton",m),n.default=m},{"../../component.js":73,"../../menu/menu-button.js":115,"../../menu/menu.js":117,"../../utils/dom.js":149,"./playback-rate-menu-item.js":82}],82:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../menu/menu-item.js"),l=r(a),u=t("../../component.js"),c=r(u),p=function(t){function e(n,r){o(this,e);var s=r.rate,a=parseFloat(s,10);r.label=s,r.selected=1===a,r.selectable=!0;var l=i(this,t.call(this,n,r));return l.label=s,l.rate=a,l.on(n,"ratechange",l.update),l}return s(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(l.default);p.prototype.contentElType="button",c.default.registerComponent("PlaybackRateMenuItem",p),n.default=p},{"../../component.js":73,"../../menu/menu-item.js":116}],83:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=t("../../utils/dom.js"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=function(t){function e(n,i){r(this,e);var s=o(this,t.call(this,n,i));return s.partEls_=[],s.on(n,"progress",s.update),s}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),o=this.partEls_,i=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(r,n);for(var s=0;s<e.length;s++){var a=e.start(s),l=e.end(s),c=o[s];c||(c=this.el_.appendChild(u.createEl()),o[s]=c),c.style.left=i(a,r),c.style.width=i(l-a,r)}for(var p=o.length;p>e.length;p--)this.el_.removeChild(o[p-1]);o.length=e.length},e}(a.default);a.default.registerComponent("LoadProgressBar",c),n.default=c},{"../../component.js":73,"../../utils/dom.js":149}],84:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("../../component.js"),u=o(l),c=t("../../utils/dom.js"),p=r(c),d=t("../../utils/fn.js"),h=r(d),f=t("../../utils/format-time.js"),y=o(f),v=t("../../utils/computed-style.js"),m=o(v),g=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(o.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),o.keepTooltipsInside&&(o.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),o.el().appendChild(o.tooltip),o.addClass("vjs-keep-tooltips-inside")),o.update(0,0),n.on("ready",function(){o.on(n.controlBar.progressControl.el(),"mousemove",h.throttle(h.bind(o,o.handleMouseMove),25))}),o}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.handleMouseMove=function(t){var e=this.player_.duration(),n=this.calculateDistance(t)*e,r=t.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,r)},e.prototype.update=function(t,e){var n=(0,y.default)(t,this.player_.duration());if(this.el().style.left=e+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(e),o=e-r+1,i=parseFloat((0,m.default)(this.tooltip,"width")),s=i/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(s-o)+"px"}},e.prototype.calculateDistance=function(t){return p.getPointerPosition(this.el().parentNode,t).x},e.prototype.clampPosition_=function(t){if(!this.keepTooltipsInside)return t;var e=parseFloat((0,m.default)(this.player().el(),"width")),n=parseFloat((0,m.default)(this.tooltip,"width")),r=n/2,o=t;return t<r?o=Math.ceil(r):t>e-r&&(o=Math.floor(e-r)),o},e}(u.default);u.default.registerComponent("MouseTimeDisplay",g),n.default=g},{"../../component.js":73,"../../utils/computed-style.js":148,"../../utils/dom.js":149,"../../utils/fn.js":151,"../../utils/format-time.js":152}],85:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),l=r(a),u=t("../../utils/fn.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("../../utils/format-time.js"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.updateDataAttr(),s.on(n,"timeupdate",s.updateDataAttr),n.ready(c.bind(s,s.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(s.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),s.keepTooltipsInside&&s.addClass("vjs-keep-tooltips-inside"),s}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d.default)(e,this.player_.duration()))},e}(l.default);l.default.registerComponent("PlayProgressBar",h),n.default=h},{"../../component.js":73,"../../utils/fn.js":151,"../../utils/format-time.js":152}],86:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s);t("./seek-bar.js"),t("./mouse-time-display.js");var l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e}(a.default);l.prototype.options_={children:["seekBar"]},a.default.registerComponent("ProgressControl",l),n.default=l},{"../../component.js":73,"./mouse-time-display.js":84,"./seek-bar.js":87}],87:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../slider/slider.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("../../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=t("../../utils/format-time.js"),f=r(h),y=t("../../utils/computed-style.js"),v=r(y);t("./load-progress-bar.js"),t("./play-progress-bar.js"),t("./tooltip-progress-bar.js");var m=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"timeupdate",s.updateProgress),s.on(n,"ended",s.updateProgress),n.ready(d.bind(s,s.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(s.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),s.keepTooltipsInside&&(s.tooltipProgressBar=s.addChild("TooltipProgressBar")),s}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},e.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat((0,v.default)(this.player().el(),"width")),n=parseFloat((0,v.default)(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(e-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},e.prototype.updateAriaAttributes=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,f.default)(e,this.player_.duration()))},e.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e}(l.default);m.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",c.default.registerComponent("SeekBar",m),n.default=m},{"../../component.js":73,"../../slider/slider.js":125,"../../utils/computed-style.js":148,"../../utils/fn.js":151,"../../utils/format-time.js":152,"./load-progress-bar.js":83,"./play-progress-bar.js":85,"./tooltip-progress-bar.js":88}],88:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),l=r(a),u=t("../../utils/fn.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("../../utils/format-time.js"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.updateDataAttr(),s.on(n,"timeupdate",s.updateDataAttr),n.ready(c.bind(s,s.updateDataAttr)),s}return s(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,d.default)(e,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},e}(l.default);l.default.registerComponent("TooltipProgressBar",h),n.default=h},{"../../component.js":73,"../../utils/fn.js":151,"../../utils/format-time.js":152}],89:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./spacer.js"),l=r(a),u=t("../../component.js"),c=r(u),p=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(l.default);c.default.registerComponent("CustomControlSpacer",p),n.default=p},{"../../component.js":73,"./spacer.js":90}],90:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(a.default);a.default.registerComponent("Spacer",l),n.default=l},{"../../component.js":73}],91:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-menu-item.js"),l=r(a),u=t("../../component.js"),c=r(u),p=function(t){function e(n,r){o(this,e),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1;var s=i(this,t.call(this,n,r));return s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+r.kind+" settings dialog"),s}return s(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},e}(l.default);c.default.registerComponent("CaptionSettingsMenuItem",p),n.default=p},{"../../component.js":73,"./text-track-menu-item.js":99}],92:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("./caption-settings-menu-item.js"),d=r(p),h=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));return a.el_.setAttribute("aria-label","Captions Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new d.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(l.default);h.prototype.kind_="captions",h.prototype.controlText_="Captions",c.default.registerComponent("CaptionsButton",h),n.default=h},{"../../component.js":73,"./caption-settings-menu-item.js":91,"./text-track-button.js":98}],93:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("./chapters-track-menu-item.js"),d=r(p),h=t("../../utils/to-title-case.js"),f=r(h),y=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));return a.el_.setAttribute("aria-label","Chapters Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,f.default)(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var o=e[n],i=new d.default(this.player_,{track:this.track_,cue:o});t.push(i)}return t},e}(l.default);y.prototype.kind_="chapters",y.prototype.controlText_="Chapters",c.default.registerComponent("ChaptersButton",y),n.default=y},{"../../component.js":73,"../../utils/to-title-case.js":159,"./chapters-track-menu-item.js":94,"./text-track-button.js":98}],94:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../menu/menu-item.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("../../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=function(t){function e(n,r){o(this,e);var s=r.track,a=r.cue,l=n.currentTime();r.selectable=!0,r.label=a.text,r.selected=a.startTime<=l&&l<a.endTime;var u=i(this,t.call(this,n,r));return u.track=s,u.cue=a,s.addEventListener("cuechange",d.bind(u,u.update)),u}return s(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(l.default);c.default.registerComponent("ChaptersTrackMenuItem",h),n.default=h},{"../../component.js":73,"../../menu/menu-item.js":116,"../../utils/fn.js":151}],95:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("../../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));a.el_.setAttribute("aria-label","Descriptions Menu");var l=n.textTracks();if(l){var u=d.bind(a,a.handleTracksChange);l.addEventListener("change",u),a.on("dispose",function(){l.removeEventListener("change",u)})}return a}return s(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,r=0,o=e.length;r<o;r++){var i=e[r];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e}(l.default);h.prototype.kind_="descriptions",h.prototype.controlText_="Descriptions",c.default.registerComponent("DescriptionsButton",h),n.default=h},{"../../component.js":73,"../../utils/fn.js":151,"./text-track-button.js":98}],96:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-menu-item.js"),l=r(a),u=t("../../component.js"),c=r(u),p=function(t){function e(n,r){o(this,e),r.track={player:n,kind:r.kind,label:r.kind+" off",default:!1,mode:"disabled"},r.selectable=!0;var s=i(this,t.call(this,n,r));return s.selected(!0),s}return s(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,o=e.length;r<o;r++){var i=e[r];if(i.kind===this.track.kind&&"showing"===i.mode){n=!1;break}}this.selected(n)},e}(l.default);c.default.registerComponent("OffTextTrackMenuItem",p),n.default=p},{"../../component.js":73,"./text-track-menu-item.js":99}],97:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./text-track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));return a.el_.setAttribute("aria-label","Subtitles Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e}(l.default);p.prototype.kind_="subtitles",p.prototype.controlText_="Subtitles",c.default.registerComponent("SubtitlesButton",p),n.default=p},{"../../component.js":73,"./text-track-button.js":98}],98:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../track-button.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("./text-track-menu-item.js"),d=r(p),h=t("./off-text-track-menu-item.js"),f=r(h),y=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),r.tracks=n.textTracks(),i(this,t.call(this,n,r))}return s(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new f.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var e=this.player_.textTracks();if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];r.kind===this.kind_&&t.push(new d.default(this.player_,{track:r,selectable:!0}))}return t},e}(l.default);c.default.registerComponent("TextTrackButton",y),n.default=y},{"../../component.js":73,"../track-button.js":104,"./off-text-track-menu-item.js":96,"./text-track-menu-item.js":99}],99:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=t("../../menu/menu-item.js"),u=r(l),c=t("../../component.js"),p=r(c),d=t("../../utils/fn.js"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),f=t("global/window"),y=r(f),v=t("global/document"),m=r(v),g=function(t){function e(n,r){o(this,e);var s=r.track,l=n.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var u=i(this,t.call(this,n,r));if(u.track=s,l){var c=h.bind(u,u.handleTracksChange);n.on(["loadstart","texttrackchange"],c),l.addEventListener("change",c),u.on("dispose",function(){l.removeEventListener("change",c)})}if(l&&void 0===l.onchange){var p=void 0;u.on(["tap","click"],function(){if("object"!==a(y.default.Event))try{p=new y.default.Event("change")}catch(t){}p||(p=m.default.createEvent("Event"),p.initEvent("change",!0,!0)),l.dispatchEvent(p)})}return u}return s(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,r=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),r)for(var o=0;o<r.length;o++){var i=r[o];i.kind===n&&(i===this.track?i.mode="showing":i.mode="disabled")}},e.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},e}(u.default);p.default.registerComponent("TextTrackMenuItem",g),n.default=g},{"../../component.js":73,"../../menu/menu-item.js":116,"../../utils/fn.js":151,"global/document":12,"global/window":13}],100:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),l=r(a),u=t("../../utils/dom.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("../../utils/format-time.js"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"timeupdate",s.updateContent),s}return s(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,d.default)(e,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},e}(l.default);l.default.registerComponent("CurrentTimeDisplay",h),n.default=h},{"../../component.js":73,"../../utils/dom.js":149,"../../utils/format-time.js":152}],101:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),l=r(a),u=t("../../utils/dom.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("../../utils/format-time.js"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"durationchange",s.updateContent),s.on(n,"timeupdate",s.updateContent),s.on(n,"loadedmetadata",s.updateContent),s}return s(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var n=this.localize("Duration Time"),r=(0,d.default)(e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},e}(l.default);l.default.registerComponent("DurationDisplay",h),n.default=h},{"../../component.js":73,"../../utils/dom.js":149,"../../utils/format-time.js":152}],102:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../component.js"),l=r(a),u=t("../../utils/dom.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("../../utils/format-time.js"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"timeupdate",s.updateContent),s.on(n,"durationchange",s.updateContent),s}return s(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){if(this.player_.duration()){var e=this.localize("Remaining Time"),n=(0,d.default)(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+n)}},e}(l.default);l.default.registerComponent("RemainingTimeDisplay",h),n.default=h},{"../../component.js":73,"../../utils/dom.js":149,"../../utils/format-time.js":152}],103:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(a.default);a.default.registerComponent("TimeDivider",l),n.default=l},{"../../component.js":73}],104:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../menu/menu-button.js"),l=r(a),u=t("../component.js"),c=r(u),p=t("../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=function(t){function e(n,r){o(this,e);var s=r.tracks,a=i(this,t.call(this,n,r));if(a.items.length<=1&&a.hide(),!s)return i(a);var l=d.bind(a,a.update);return s.addEventListener("removetrack",l),s.addEventListener("addtrack",l),a.player_.on("dispose",function(){s.removeEventListener("removetrack",l),s.removeEventListener("addtrack",l)}),a}return s(e,t),e}(l.default);c.default.registerComponent("TrackButton",h),n.default=h},{"../component.js":73,"../menu/menu-button.js":115,"../utils/fn.js":151}],105:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../../slider/slider.js"),l=r(a),u=t("../../component.js"),c=r(u),p=t("../../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p);t("./volume-level.js");var h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"volumechange",s.updateARIAAttributes),n.ready(d.bind(s,s.updateARIAAttributes)),s}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},e.prototype.handleMouseMove=function(t){this.checkMuted(),this.player_.volume(this.calculateDistance(t))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e}(l.default);h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},h.prototype.playerEvent="volumechange",c.default.registerComponent("VolumeBar",h),n.default=h},{"../../component.js":73,"../../slider/slider.js":125,"../../utils/fn.js":151,"./volume-level.js":107}],106:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s);t("./volume-bar.js");var l=function(t){function e(n,i){r(this,e);var s=o(this,t.call(this,n,i));return n.tech_&&n.tech_.featuresVolumeControl===!1&&s.addClass("vjs-hidden"),s.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),s}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},e}(a.default);l.prototype.options_={children:["volumeBar"]},a.default.registerComponent("VolumeControl",l),n.default=l},{"../../component.js":73,"./volume-bar.js":105}],107:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(a.default);a.default.registerComponent("VolumeLevel",l),n.default=l},{"../../component.js":73}],108:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../utils/fn.js"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),u=t("../component.js"),c=r(u),p=t("../popup/popup.js"),d=r(p),h=t("../popup/popup-button.js"),f=r(h),y=t("./mute-toggle.js"),v=r(y),m=t("./volume-control/volume-bar.js"),g=r(m),_=function(t){function e(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),void 0===s.inline&&(s.inline=!0),void 0===s.vertical&&(s.inline?s.vertical=!1:s.vertical=!0),s.volumeBar=s.volumeBar||{},s.volumeBar.vertical=!!s.vertical;var a=i(this,t.call(this,n,s));return a.on(n,"volumechange",a.volumeUpdate),a.on(n,"loadstart",a.volumeUpdate),r.call(a),a.on(n,"loadstart",r),a.on(a.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),a.on(a.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),a.on(a.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),a.on(a.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),a}return s(e,t),e.prototype.buildCSSClass=function(){var e="";return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+e},e.prototype.createPopup=function(){var t=new d.default(this.player_,{contentElType:"div"}),e=new g.default(this.player_,this.options_.volumeBar);return t.addChild(e),this.menuContent=t,this.volumeBar=e,this.attachVolumeBarEvents(),t},e.prototype.handleClick=function(e){v.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},e.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},e.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},e.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},e}(f.default);_.prototype.volumeUpdate=v.default.prototype.update,_.prototype.controlText_="Mute",c.default.registerComponent("VolumeMenuButton",_),n.default=_},{"../component.js":73,"../popup/popup-button.js":121,"../popup/popup.js":122,"../utils/fn.js":151,"./mute-toggle.js":79,"./volume-control/volume-bar.js":105}],109:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./component"),l=r(a),u=t("./modal-dialog"),c=r(u),p=t("./utils/merge-options"),d=r(p),h=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.on(n,"error",s.open),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(c.default);h.prototype.options_=(0,d.default)(c.default.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),l.default.registerComponent("ErrorDisplay",h),n.default=h},{"./component":73,"./modal-dialog":118,"./utils/merge-options":155}],110:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./utils/events.js"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),i=function(){};i.prototype.allowedEvents_={},i.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,t,e),this.addEventListener=n},i.prototype.addEventListener=i.prototype.on,i.prototype.off=function(t,e){o.off(this,t,e)},i.prototype.removeEventListener=i.prototype.off,i.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,t,e),this.addEventListener=n},i.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=o.fixEvent(t),
this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),o.trigger(this,t)},i.prototype.dispatchEvent=i.prototype.trigger,n.default=i},{"./utils/events.js":150}],111:[function(t,e,n){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./utils/log"),i=function(t){return t&&t.__esModule?t:{default:t}}(o),s=t("./utils/obj"),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},r={};(0,s.isObject)(e)?("function"==typeof e.init&&(i.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),e.constructor=e.init),e.constructor!==Object.prototype.constructor&&(n=e.constructor),r=e):"function"==typeof e&&(n=e),a(n,t);for(var o in r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n};n.default=l},{"./utils/log":154,"./utils/obj":156}],112:[function(t,e,n){"use strict";n.__esModule=!0;for(var r=t("global/document"),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=s[0],l=void 0,u=0;u<s.length;u++)if(s[u][1]in o.default){l=s[u];break}if(l)for(var c=0;c<l.length;c++)i[a[c]]=l[c];n.default=i},{"global/document":12}],113:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("./component"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},e}(a.default);a.default.registerComponent("LoadingSpinner",l),n.default=l},{"./component":73}],114:[function(t,e,n){"use strict";function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,o.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,o.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}n.__esModule=!0;var o=t("./utils/obj");r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var i=0;i<r.errorTypes.length;i++)r[r.errorTypes[i]]=i,r.prototype[r.errorTypes[i]]=i;n.default=r},{"./utils/obj":156}],115:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("../clickable-component.js"),u=o(l),c=t("../component.js"),p=o(c),d=t("./menu.js"),h=o(d),f=t("../utils/dom.js"),y=r(f),v=t("../utils/fn.js"),m=r(v),g=t("../utils/to-title-case.js"),_=o(g),b=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var o=s(this,t.call(this,n,r));return o.update(),o.enabled_=!0,o.el_.setAttribute("aria-haspopup","true"),o.el_.setAttribute("role","menuitem"),o.on("keydown",o.handleSubmenuKeyPress),o}return a(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new h.default(this.player_);if(this.hideThreshold_=0,this.options_.title){var e=y.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),y.insertElFirst(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",m.bind(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault()):38===e.which||40===e.which?this.buttonPressed_||(this.pressButton(),e.preventDefault()):t.prototype.handleKeyPress.call(this,e)},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault())},e.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},e.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,t.prototype.disable.call(this)},e.prototype.enable=function(){return this.enabled_=!0,t.prototype.enable.call(this)},e}(u.default);p.default.registerComponent("MenuButton",b),n.default=b},{"../clickable-component.js":71,"../component.js":73,"../utils/dom.js":149,"../utils/fn.js":151,"../utils/to-title-case.js":159,"./menu.js":117}],116:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../clickable-component.js"),l=r(a),u=t("../component.js"),c=r(u),p=t("../utils/obj"),d=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.selectable=r.selectable,s.selected(r.selected),s.selectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitem"),s}return s(e,t),e.prototype.createEl=function(e,n,r){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",(0,p.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},e}(l.default);c.default.registerComponent("MenuItem",d),n.default=d},{"../clickable-component.js":71,"../component.js":73,"../utils/obj":156}],117:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../component.js"),l=function(t){return t&&t.__esModule?t:{default:t}}(a),u=t("../utils/dom.js"),c=r(u),p=t("../utils/fn.js"),d=r(p),h=t("../utils/events.js"),f=r(h),y=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.focusedChild_=-1,s.on("keydown",s.handleKeyPress),s}return s(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",d.bind(this,function(t){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=c.createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),f.on(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(l.default);l.default.registerComponent("Menu",y),n.default=y},{"../component.js":73,"../utils/dom.js":149,"../utils/events.js":150,"../utils/fn.js":151}],118:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./utils/dom"),l=r(a),u=t("./utils/fn"),c=r(u),p=t("./component"),d=function(t){return t&&t.__esModule?t:{default:t}}(p),h="vjs-modal-dialog",f=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=l.createEl("div",{className:h+"-content"},{role:"document"}),s.descEl_=l.createEl("p",{className:h+"-description vjs-offscreen",id:s.el().getAttribute("aria-describedby")}),l.textContent(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.buildCSSClass=function(){return h+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},e.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},e.prototype.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){return this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,r=e.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),l.insertContent(e,t),this.trigger("modalfill"),r?n.insertBefore(e,r):n.appendChild(e),this},e.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},e.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e}(d.default);f.prototype.options_={pauseOnOpen:!0,temporary:!0},d.default.registerComponent("ModalDialog",f),n.default=f},{"./component":73,"./utils/dom":149,"./utils/fn":151}],119:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("./component.js"),u=o(l),c=t("global/document"),p=o(c),d=t("global/window"),h=o(d),f=t("./utils/events.js"),y=r(f),v=t("./utils/dom.js"),m=r(v),g=t("./utils/fn.js"),_=r(g),b=t("./utils/guid.js"),w=r(b),T=t("./utils/browser.js"),j=r(T),k=t("./utils/log.js"),E=o(k),C=t("./utils/to-title-case.js"),x=o(C),S=t("./utils/time-ranges.js"),O=t("./utils/buffer.js"),P=t("./utils/stylesheet.js"),A=r(P),M=t("./fullscreen-api.js"),I=o(M),R=t("./media-error.js"),L=o(R),D=t("safe-json-parse/tuple"),N=o(D),F=t("./utils/obj"),V=t("./utils/merge-options.js"),B=o(V),H=t("./tracks/text-track-list-converter.js"),U=o(H),z=t("./modal-dialog"),q=o(z),W=t("./tech/tech.js"),G=o(W),X=t("./tracks/audio-track-list.js"),$=o(X),Y=t("./tracks/video-track-list.js"),Q=o(Y);t("./tech/loader.js"),t("./tech/flash.js"),t("./poster-image.js"),t("./tracks/text-track-display.js"),t("./loading-spinner.js"),t("./big-play-button.js"),t("./close-button.js"),t("./control-bar/control-bar.js"),t("./error-display.js"),t("./tracks/text-track-settings.js"),t("./tech/html5.js");var J=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function e(n,r,o){if(i(this,e),n.id=n.id||"vjs_video_"+w.newGUID(),r=(0,F.assign)(e.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(m.getElAttributes(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}var u=s(this,t.call(this,null,r,o));if(!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&m.getElAttributes(n),u.language(u.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(t){c[t.toLowerCase()]=r.languages[t]}),u.languages_=c}else u.languages_=e.prototype.options_.languages;u.cache_={},u.poster_=r.poster||"",u.controls_=!!r.controls,n.controls=!1,u.scrubbing_=!1,u.el_=u.createEl();var p=(0,B.default)(u.options_);if(r.plugins){var d=r.plugins;Object.getOwnPropertyNames(d).forEach(function(t){"function"==typeof this[t]?this[t](d[t]):E.default.error("Unable to find plugin:",t)},u)}return u.options_.playerOptions=p,u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label","audio player"):u.el_.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),j.IS_IOS||u.addClass("vjs-workinghover"),e.players[u.id_]=u,u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u}return a(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,n=void 0,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");n=this.el_=r?e.parentNode:t.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var o=m.getElAttributes(e);if(Object.getOwnPropertyNames(o).forEach(function(t){"class"===t?n.className+=" "+o[t]:n.setAttribute(t,o[t])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),h.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=A.createStyleElement("vjs-styles-dimensions");var i=m.$(".vjs-styles-defaults"),s=m.$("head");s.insertBefore(this.styleEl_,i?i.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),l=0;l<a.length;l++){var u=a.item(l);m.addElClass(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),m.insertElFirst(e,n),this.children_.unshift(e),this.el_=n,n},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)this[n]=void 0;else{var r=parseFloat(e);if(isNaN(r))return E.default.error('Improper value "'+e+'" supplied for for '+t),this;this[n]=r}return this.updateStyleEl_(),this},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(h.default.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(t>=0&&(n.width=t),e>=0&&(n.height=e)))}var r=void 0,o=void 0,i=void 0,s=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var a=i.split(":"),l=a[1]/a[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,o=void 0!==this.height_?this.height_:r*l,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),A.setTextContent(this.styleEl_,"\n      ."+s+" {\n        width: "+r+"px;\n        height: "+o+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==t&&this.tag&&(G.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=t,this.isReady_=!1;var r=(0,F.assign)({source:e,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);this.tag&&(r.tag=this.tag),e&&(this.currentType_=e.type,e.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src);var o=G.default.getTech(t);o||(o=u.default.getComponent(t)),this.tech_=new o(r),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),U.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),J.forEach(function(t){n.on(n.tech_,t,n["handleTech"+(0,x.default)(t)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===t&&this.tag||m.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=U.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},e.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.tech_;var e="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw h.default.alert(e),new Error(e)},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,E.default)("deleting tag.poster throws in some browsers",t)}this.play()}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},e.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(E.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[t](e)},!0);else try{this.tech_&&this.tech_[t](e)}catch(t){throw(0,E.default)(t),t}},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?(0,E.default)("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,E.default)("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,E.default)(e),e}},e.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},e.prototype.pause=function(){return this.techCall_("pause"),this},e.prototype.paused=function(){return this.techGet_("paused")!==!1},e.prototype.scrubbing=function(t){return void 0!==t?(this.scrubbing_=!!t,
t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},e.prototype.currentTime=function(t){return void 0!==t?(this.techCall_("setCurrentTime",t),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){return void 0===t?this.cache_.duration||0:(t=parseFloat(t)||0,t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,1/0===t?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=(0,S.createTimeRange)(0,0)),t},e.prototype.bufferedPercent=function(){return(0,O.bufferedPercent)(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),this):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?(this.techCall_("setMuted",t),this):this.techGet_("muted")||!1},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=I.default;return this.isFullscreen(!0),t.requestFullscreen?(y.on(p.default,t.fullscreenchange,_.bind(this,function e(n){this.isFullscreen(p.default[t.fullscreenElement]),this.isFullscreen()===!1&&y.off(p.default,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.exitFullscreen=function(){var t=I.default;return this.isFullscreen(!1),t.requestFullscreen?p.default[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=p.default.documentElement.style.overflow,y.on(p.default,"keydown",_.bind(this,this.fullWindowOnEscKey)),p.default.documentElement.style.overflow="hidden",m.addElClass(p.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,y.off(p.default,"keydown",this.fullWindowOnEscKey),p.default.documentElement.style.overflow=this.docOrigOverflow,m.removeElClass(p.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var o=(0,x.default)(r[n]),i=G.default.getTech(o);if(i||(i=u.default.getComponent(o)),i){if(i.isSupported()&&(e=i.canPlayType(t)))return e}else E.default.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,n=this.options_.techOrder.map(x.default).map(function(t){return[t,G.default.getTech(t)||u.default.getComponent(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(E.default.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var r=void 0;return t.some(function(t){return e.some(function(e){if(r=n(t,e))return!0})}),r},o=function(t,n){var r=t[0];if(t[1].canPlaySource(n,e.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(t,n,function(t){return function(e,n){return t(n,e)}}(o)):r(n,t,o))||!1},e.prototype.src=function(t){if(void 0===t)return this.techGet_("src");var e=G.default.getTech(this.techName_);return e||(e=u.default.getComponent(this.techName_)),Array.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!e.canPlaySource(t,this.options_[this.techName_.toLowerCase()])?this.sourceList_([t]):(this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){e.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},e.prototype.sourceList_=function(t){var e=this.selectSource(t);e?(e.tech===this.techName_?this.src(e.source):this.loadTech_(e.tech,e.source),this.cache_.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},e.prototype.load=function(){return this.techCall_("load"),this},e.prototype.reset=function(){return this.loadTech_((0,x.default)(this.options_.techOrder[0]),null),this.techCall_("reset"),this},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){var t={},e=this.currentSrc();return e&&(t.src=e),this.cache_.source||t},e.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},e.prototype.currentType=function(){return this.currentType_||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),this.options_.preload=t,this):this.techGet_("preload")},e.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,this):this.techGet_("autoplay",t)},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),this.options_.loop=t,this):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange"),this)},e.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},e.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},e.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new L.default(t),this.addClass("vjs-error"),E.default.error("(CODE:"+this.error_.code+" "+L.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,r=_.bind(this,this.reportUserActivity),o=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())},i=function(){r(),this.clearInterval(t),t=this.setInterval(r,250)},s=function(e){r(),this.clearInterval(t)};this.on("mousedown",i),this.on("mousemove",o),this.on("mouseup",s),this.on("keydown",r),this.on("keyup",r);var a=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var t=this.options_.inactivityTimeout;t>0&&(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?(this.techCall_("setPlaybackRate",t),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):!!this.isAudio_},e.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Q.default,this.videoTracks_)},e.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new $.default,this.audioTracks_)},e.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},e.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},e.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},e.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,n=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:(this.language_=String(t).toLowerCase(),this)},e.prototype.languages=function(){return(0,B.default)(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=(0,B.default)(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];r=(0,B.default)(r),r.player=void 0,t.tracks[n]=r}return t},e.prototype.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var r=new q.default(this,e);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=m.getElAttributes(t),r=n["data-setup"];if(m.hasElClass(t,"vjs-fluid")&&(n.fluid=!0),null!==r){var o=(0,N.default)(r||"{}"),i=o[0],s=o[1];i&&E.default.error(i),(0,F.assign)(n,s)}if((0,F.assign)(e,n),t.hasChildNodes())for(var a=t.childNodes,l=0,u=a.length;l<u;l++){var c=a[l],p=c.nodeName.toLowerCase();"source"===p?e.sources.push(m.getElAttributes(c)):"track"===p&&e.tracks.push(m.getElAttributes(c))}return e},e.prototype.flexNotSupported_=function(){var t=p.default.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(u.default);K.players={};var Z=h.default.navigator;K.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this.techGet_(t)}}),J.forEach(function(t){K.prototype["handleTech"+(0,x.default)(t)+"_"]=function(){return this.trigger(t)}}),u.default.registerComponent("Player",K),n.default=K},{"./big-play-button.js":69,"./close-button.js":72,"./component.js":73,"./control-bar/control-bar.js":76,"./error-display.js":109,"./fullscreen-api.js":112,"./loading-spinner.js":113,"./media-error.js":114,"./modal-dialog":118,"./poster-image.js":123,"./tech/flash.js":127,"./tech/html5.js":128,"./tech/loader.js":129,"./tech/tech.js":130,"./tracks/audio-track-list.js":131,"./tracks/text-track-display.js":136,"./tracks/text-track-list-converter.js":137,"./tracks/text-track-settings.js":139,"./tracks/video-track-list.js":144,"./utils/browser.js":146,"./utils/buffer.js":147,"./utils/dom.js":149,"./utils/events.js":150,"./utils/fn.js":151,"./utils/guid.js":153,"./utils/log.js":154,"./utils/merge-options.js":155,"./utils/obj":156,"./utils/stylesheet.js":157,"./utils/time-ranges.js":158,"./utils/to-title-case.js":159,"global/document":12,"global/window":13,"safe-json-parse/tuple":24}],120:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./player.js"),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function(t,e){o.default.prototype[t]=e};n.default=i},{"./player.js":119}],121:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../clickable-component.js"),l=r(a),u=t("../component.js"),c=r(u),p=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var s=i(this,t.call(this,n,r));return s.update(),s}return s(e,t),e.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createPopup=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e}(l.default);c.default.registerComponent("PopupButton",p),n.default=p},{"../clickable-component.js":71,"../component.js":73}],122:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../component.js"),l=function(t){return t&&t.__esModule?t:{default:t}}(a),u=t("../utils/dom.js"),c=r(u),p=t("../utils/fn.js"),d=r(p),h=t("../utils/events.js"),f=r(h),y=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",d.bind(this,function(){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=c.createEl(e,{className:"vjs-menu-content"});var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),f.on(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e}(l.default);l.default.registerComponent("Popup",y),n.default=y},{"../component.js":73,"../utils/dom.js":149,"../utils/events.js":150,"../utils/fn.js":151}],123:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("./clickable-component.js"),u=o(l),c=t("./component.js"),p=o(c),d=t("./utils/fn.js"),h=r(d),f=t("./utils/dom.js"),y=r(f),v=t("./utils/browser.js"),m=r(v),g=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r));return o.update(),n.on("posterchange",h.bind(o,o.update)),o}return a(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=y.createEl("div",{className:"vjs-poster",tabIndex:-1});return m.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=y.createEl("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},e}(u.default);p.default.registerComponent("PosterImage",g),n.default=g},{"./clickable-component.js":71,"./component.js":73,"./utils/browser.js":146,"./utils/dom.js":149,"./utils/fn.js":151}],124:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){e&&(y=e),h.default.setTimeout(v,t)}n.__esModule=!0,n.hasLoaded=n.autoSetupTimeout=n.autoSetup=void 0;var s=t("./utils/dom"),a=o(s),l=t("./utils/events.js"),u=o(l),c=t("global/document"),p=r(c),d=t("global/window"),h=r(d),f=!1,y=void 0,v=function(){if(a.isReal()){var t=p.default.getElementsByTagName("video"),e=p.default.getElementsByTagName("audio"),n=[];if(t&&t.length>0)for(var r=0,o=t.length;r<o;r++)n.push(t[r]);if(e&&e.length>0)for(var s=0,l=e.length;s<l;s++)n.push(e[s]);if(n&&n.length>0)for(var u=0,c=n.length;u<c;u++){var d=n[u];if(!d||!d.getAttribute){i(1);break}if(void 0===d.player){var h=d.getAttribute("data-setup");null!==h&&y(d)}}else f||i(1)}};a.isReal()&&"complete"===p.default.readyState?f=!0:u.one(h.default,"load",function(){f=!0});var m=function(){return f};n.autoSetup=v,n.autoSetupTimeout=i,n.hasLoaded=m},{"./utils/dom":149,"./utils/events.js":150,"global/document":12,"global/window":13}],125:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=t("../utils/dom.js"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=t("../utils/obj"),p=function(t){function e(n,i){r(this,e);var s=o(this,t.call(this,n,i));return s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.on("mousedown",s.handleMouseDown),s.on("touchstart",s.handleMouseDown),s.on("focus",s.handleFocus),s.on("blur",s.handleBlur),s.on("click",s.handleClick),s.on(n,"controlsvisible",s.update),s.on(n,s.playerEvent,s.update),s}return i(e,t),e.prototype.createEl=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,c.assign)({tabIndex:0},n),r=(0,c.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),u.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;u.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||1/0===t)&&(t=0);var n=(100*t).toFixed(2)+"%";this.vertical()?e.el().style.height=n:e.el().style.width=n}}},e.prototype.calculateDistance=function(t){var e=u.getPointerPosition(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},e}(a.default);a.default.registerComponent("Slider",p),n.default=p},{"../component.js":73,"../utils/dom.js":149,"../utils/obj":156}],126:[function(t,e,n){"use strict";function r(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,e){return t+"&"+e},t.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n=t.search(/&(?!\w+=)/),r=void 0;return n!==-1?r=n+1:0===(n=r=t.lastIndexOf("/")+1)&&(n=r=t.length),e.connection=t.substring(0,n),e.stream=t.substring(r,t.length),e},t.isStreamingType=function(e){return e in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(e){return t.RTMP_RE.test(e)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(e){return t.isStreamingType(e)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(e,n){var r=t.rtmpSourceHandler.canPlayType(e.type);return r||(t.isStreamingSrc(e.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(e,n,r){var o=t.streamToParts(e.src);n.setRtmpConnection(o.connection),n.setRtmpStream(o.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}n.__esModule=!0,n.default=r},{}],127:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){E[t]=function(){return this.el_.vjs_getProperty(t)}}n.__esModule=!0;for(var u=t("./tech"),c=o(u),p=t("../utils/dom.js"),d=r(p),h=t("../utils/url.js"),f=r(h),y=t("../utils/time-ranges.js"),v=t("./flash-rtmp"),m=o(v),g=t("../component"),_=o(g),b=t("global/window"),w=o(b),T=t("../utils/obj"),j=w.default.navigator,k=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r));return n.source&&o.ready(function(){this.setSource(n.source)},!0),n.startTime&&o.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),w.default.videojs=w.default.videojs||{},w.default.videojs.Flash=w.default.videojs.Flash||{},w.default.videojs.Flash.onReady=e.onReady,w.default.videojs.Flash.onEvent=e.onEvent,w.default.videojs.Flash.onError=e.onError,o.on("seeked",function(){this.lastSeekTarget_=void 0}),o}return a(e,t),e.prototype.createEl=function(){var t=this.options_;if(!t.swf){t.swf="//vjs.zencdn.net/swf/5.3.0/video-js.swf"}var n=t.techId,r=(0,T.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),o=(0,T.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),i=(0,T.assign)({id:n,name:n,class:"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,r,o,i),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){var e=this;t=f.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return e.play()},0)},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var n=this.seekable();n.length&&(e=e>n.start(0)?e:n.start(0),e=e<n.end(n.length-1)?e:n.end(n.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.duration=function(){if(0===this.readyState())return 0/0;var t=this.el_.vjs_getProperty("duration");return t>=0?t:1/0},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?(0,y.createTimeRange)():(0,y.createTimeRange)(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?(0,y.createTimeRange)():(0,y.createTimeRange)(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e}(c.default),E=k.prototype,C="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),x="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),S=0;S<C.length;S++)l(C[S]),function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);E["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}(C[S]);for(var O=0;O<x.length;O++)l(x[O]);k.isSupported=function(){return k.version()[0]>=10},c.default.withSourceHandlers(k),k.nativeSourceHandler={},k.nativeSourceHandler.canPlayType=function(t){return t in k.formats?"maybe":""},k.nativeSourceHandler.canHandleSource=function(t,e){var n=void 0;return n=t.type?t.type.replace(/;.*/,"").toLowerCase():function(t){var e=f.getFileExtension(t);return e?"video/"+e:""}(t.src),k.nativeSourceHandler.canPlayType(n)},k.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},k.nativeSourceHandler.dispose=function(){},k.registerSourceHandler(k.nativeSourceHandler),k.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},k.onReady=function(t){var e=d.getEl(t),n=e&&e.tech;n&&n.el()&&k.checkReady(n)},k.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){k.checkReady(t)},50))},k.onEvent=function(t,e){var n=d.getEl(t).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(e,r)},1)},k.onError=function(t,e){var n=d.getEl(t).tech;if("srcnotfound"===e)return n.error(4);n.error("FLASH: "+e)},k.version=function(){var t="0,0,0";try{t=new w.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{j.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(j.plugins["Shockwave Flash 2.0"]||j.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},k.embed=function(t,e,n,r){var o=k.getEmbedCode(t,e,n,r);return d.createEl("div",{innerHTML:o}).childNodes[0]},k.getEmbedCode=function(t,e,n,r){var o="",i="",s="";return e&&Object.getOwnPropertyNames(e).forEach(function(t){o+=t+"="+e[t]+"&amp;"}),n=(0,T.assign)({movie:t,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(t){i+='<param name="'+t+'" value="'+n[t]+'" />'}),r=(0,T.assign)({data:t,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(t){s+=t+'="'+r[t]+'" '}),'<object type="application/x-shockwave-flash" '+s+">"+i+"</object>"},(0,m.default)(k),_.default.registerComponent("Flash",k),c.default.registerTech("Flash",k),n.default=k},{"../component":73,"../utils/dom.js":149,"../utils/obj":156,"../utils/time-ranges.js":158,"../utils/url.js":160,"./flash-rtmp":126,"./tech":130,"global/window":13}],128:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=function(t,e){return t.raw=e,t
}(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),u=t("./tech.js"),c=o(u),p=t("../component"),d=o(p),h=t("../utils/dom.js"),f=r(h),y=t("../utils/url.js"),v=r(y),m=t("../utils/fn.js"),g=r(m),_=t("../utils/log.js"),b=o(_),w=t("tsml"),T=o(w),j=t("../utils/browser.js"),k=r(j),E=t("global/document"),C=o(E),x=t("global/window"),S=o(x),O=t("../utils/obj"),P=t("../utils/merge-options.js"),A=o(P),M=t("../utils/to-title-case.js"),I=o(M),R=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r)),a=n.source,u=!1;if(a&&(o.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?o.setSource(a):o.handleLateInit_(o.el_),o.el_.hasChildNodes()){for(var c=o.el_.childNodes,p=c.length,d=[];p--;){var h=c[p];"track"===h.nodeName.toLowerCase()&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(h),o.remoteTextTracks().addTrack_(h.track),u||o.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(h.src)||(u=!0)):d.push(h))}for(var f=0;f<d.length;f++)o.el_.removeChild(d[f])}return["audio","video"].forEach(function(t){var e=o.el()[t+"Tracks"],n=o[t+"Tracks"](),r=(0,I.default)(t);o["featuresNative"+r+"Tracks"]&&e&&e.addEventListener&&(o["handle"+r+"TrackChange_"]=function(t){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},o["handle"+r+"TrackAdd_"]=function(t){return n.addTrack(t.track)},o["handle"+r+"TrackRemove_"]=function(t){return n.removeTrack(t.track)},e.addEventListener("change",o["handle"+r+"TrackChange_"]),e.addEventListener("addtrack",o["handle"+r+"TrackAdd_"]),e.addEventListener("removetrack",o["handle"+r+"TrackRemove_"]),o["removeOld"+r+"Tracks_"]=function(t){return o.removeOldTracks_(n,e)},o.on("loadstart",o["removeOld"+r+"Tracks_"]))}),o.featuresNativeTextTracks&&(u&&b.default.warn((0,T.default)(l)),o.handleTextTrackChange_=g.bind(o,o.handleTextTrackChange),o.handleTextTrackAdd_=g.bind(o,o.handleTextTrackAdd),o.handleTextTrackRemove_=g.bind(o,o.handleTextTrackRemove),o.proxyNativeTextTracks_()),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}return a(e,t),e.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(t){var e=(0,I.default)(t),r=n.el_[t+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+e+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+e+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+e+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+e+"Tracks_"])}),e.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=C.default.createElement("video");var r=this.options_.tag&&f.getElAttributes(this.options_.tag),o=(0,A.default)({},r);k.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete o.controls,f.setElAttributes(t,(0,O.assign)(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}for(var i=["autoplay","preload","loop","muted"],s=i.length-1;s>=0;s--){var a=i[s],l={};void 0!==this.options_[a]&&(l[a]=this.options_[a]),f.setElAttributes(t,l)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),t.readyState>=2&&o.push("loadeddata"),t.readyState>=3&&o.push("canplay"),t.readyState>=4&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(t){this.trigger(t)},this)})}},e.prototype.proxyNativeTextTracks_=function(){var t=this.el().textTracks;if(t){for(var e=0;e<t.length;e++)this.textTracks().addTrack_(t[e]);t.addEventListener&&(t.addEventListener("change",this.handleTextTrackChange_),t.addEventListener("addtrack",this.handleTextTrackAdd_),t.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},e.prototype.handleTextTrackChange=function(t){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},e.prototype.handleTextTrackAdd=function(t){this.textTracks().addTrack_(t.track)},e.prototype.handleTextTrackRemove=function(t){this.textTracks().removeTrack_(t.track)},e.prototype.removeOldTracks_=function(t,e){var n=[];if(e){for(var r=0;r<t.length;r++){for(var o=t[r],i=!1,s=0;s<e.length;s++)if(e[s]===o){i=!0;break}i||n.push(o)}for(var a=0;a<n.length;a++){var l=n[a];t.removeTrack_(l)}}},e.prototype.removeOldTextTracks_=function(t){var e=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(e,n)},e.prototype.play=function(){var t=this.el_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){(0,b.default)(t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(1/0===this.el_.duration&&k.IS_ANDROID&&k.IS_CHROME&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(1/0===t.el_.duration&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),0/0}return this.el_.duration||0/0},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=S.default.navigator&&S.default.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=C.default.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},e.prototype.addRemoteTextTrack=function(e,n){var r=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)e!==n[r]&&e!==n[r].track||this.el().removeChild(n[r])},e}(c.default);if(f.isReal()){R.TEST_VID=C.default.createElement("video");var L=C.default.createElement("track");L.kind="captions",L.srclang="en",L.label="English",R.TEST_VID.appendChild(L)}R.isSupported=function(){try{R.TEST_VID.volume=.5}catch(t){return!1}return!(!R.TEST_VID||!R.TEST_VID.canPlayType)},R.canControlVolume=function(){try{var t=R.TEST_VID.volume;return R.TEST_VID.volume=t/2+.1,t!==R.TEST_VID.volume}catch(t){return!1}},R.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME)return!1;try{var t=R.TEST_VID.playbackRate;return R.TEST_VID.playbackRate=t/2+.1,t!==R.TEST_VID.playbackRate}catch(t){return!1}},R.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},R.supportsNativeVideoTracks=function(){return!(!R.TEST_VID||!R.TEST_VID.videoTracks)},R.supportsNativeAudioTracks=function(){return!(!R.TEST_VID||!R.TEST_VID.audioTracks)},R.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],R.prototype.featuresVolumeControl=R.canControlVolume(),R.prototype.featuresPlaybackRate=R.canControlPlaybackRate(),R.prototype.movingMediaElementInDOM=!k.IS_IOS,R.prototype.featuresFullscreenResize=!0,R.prototype.featuresProgressEvents=!0,R.prototype.featuresTimeupdateEvents=!0,R.prototype.featuresNativeTextTracks=R.supportsNativeTextTracks(),R.prototype.featuresNativeVideoTracks=R.supportsNativeVideoTracks(),R.prototype.featuresNativeAudioTracks=R.supportsNativeAudioTracks();var D=R.TEST_VID&&R.TEST_VID.constructor.prototype.canPlayType,N=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,F=/^video\/mp4/i;R.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?R.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&N.test(t)?"maybe":D.call(this,t)}:k.IS_OLD_ANDROID&&(R.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&F.test(t)?"maybe":D.call(this,t)})},R.unpatchCanPlayType=function(){var t=R.TEST_VID.constructor.prototype.canPlayType;return R.TEST_VID.constructor.prototype.canPlayType=D,t},R.patchCanPlayType(),R.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},R.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){R.prototype[t]=function(){return this.el_[t]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(t){R.prototype["set"+(0,I.default)(t)]=function(e){this.el_[t]=e}}),["pause","load"].forEach(function(t){R.prototype[t]=function(){return this.el_[t]()}}),c.default.withSourceHandlers(R),R.nativeSourceHandler={},R.nativeSourceHandler.canPlayType=function(t){try{return R.TEST_VID.canPlayType(t)}catch(t){return""}},R.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return R.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=v.getFileExtension(t.src);return R.nativeSourceHandler.canPlayType("video/"+n)}return""},R.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},R.nativeSourceHandler.dispose=function(){},R.registerSourceHandler(R.nativeSourceHandler),d.default.registerComponent("Html5",R),c.default.registerTech("Html5",R),n.default=R},{"../component":73,"../utils/browser.js":146,"../utils/dom.js":149,"../utils/fn.js":151,"../utils/log.js":154,"../utils/merge-options.js":155,"../utils/obj":156,"../utils/to-title-case.js":159,"../utils/url.js":160,"./tech.js":130,"global/document":12,"global/window":13,tsml:31}],129:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../component.js"),l=r(a),u=t("./tech.js"),c=r(u),p=t("../utils/to-title-case.js"),d=r(p),h=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var u=0,p=r.playerOptions.techOrder;u<p.length;u++){var h=(0,d.default)(p[u]),f=c.default.getTech(h);if(h||(f=l.default.getComponent(h)),f&&f.isSupported()){n.loadTech_(h);break}}return a}return s(e,t),e}(l.default);l.default.registerComponent("MediaLoader",h),n.default=h},{"../component.js":73,"../utils/to-title-case.js":159,"./tech.js":130}],130:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=t.textTracks();o.kind=e,n&&(o.label=n),r&&(o.language=r),o.tech=t;var s=new m.default(o);return i.addTrack_(s),s}n.__esModule=!0;var l=t("../component"),u=r(l),c=t("../tracks/html-track-element"),p=r(c),d=t("../tracks/html-track-element-list"),h=r(d),f=t("../utils/merge-options.js"),y=r(f),v=t("../tracks/text-track"),m=r(v),g=t("../tracks/text-track-list"),_=r(g),b=t("../tracks/video-track-list"),w=r(b),T=t("../tracks/audio-track-list"),j=r(T),k=t("../utils/fn.js"),E=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(k),C=t("../utils/log.js"),x=r(C),S=t("../utils/time-ranges.js"),O=t("../utils/buffer.js"),P=t("../media-error.js"),A=r(P),M=t("global/window"),I=r(M),R=t("global/document"),L=r(R),D=t("../utils/obj"),N=function(e){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,n),t.reportTouchActivity=!1;var s=i(this,e.call(this,null,t,r));return s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),s.textTracks_=t.textTracks,s.videoTracks_=t.videoTracks,s.audioTracks_=t.audioTracks,s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){t["native"+e+"Tracks"]===!1&&(s["featuresNative"+e+"Tracks"]=!1)}),t.nativeCaptions===!1&&(s.featuresNativeTextTracks=!1),s.featuresNativeTextTracks||s.emulateTextTracks(),s.autoRemoteTextTracks_=new _.default,s.initTextTrackListeners(),s.initTrackListeners(),t.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}return s(n,e),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(E.bind(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.duration_=this.duration()},n.prototype.buffered=function(){return(0,S.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,O.bufferedPercent)(this.buffered(),this.duration_)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){for(var n=e[t+"Tracks"]()||[],r=n.length;r--;){var o=n[r];"text"===t&&e.removeRemoteTextTrack(o),n.removeTrack_(o)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.error_=new A.default(t),this.trigger("error")),this.error_},n.prototype.played=function(){return this.hasStarted_?(0,S.createTimeRange)(0,0):(0,S.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=E.bind(this,function(){this.trigger("texttrackchange")}),e=this.textTracks();e&&(e.addEventListener("removetrack",t),e.addEventListener("addtrack",t),this.on("dispose",E.bind(this,function(){e.removeEventListener("removetrack",t),e.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(e){var n=function(){t.trigger(e+"trackchange")},r=t[e+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},n.prototype.addWebVttScript_=function(){var e=this;if(!I.default.WebVTT)if(L.default.body.contains(this.el())){var n=t("videojs-vtt.js");if(!this.options_["vtt.js"]&&(0,D.isPlain)(n)&&Object.keys(n).length>0)return void this.trigger("vttjsloaded");var r=L.default.createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.3/vtt.min.js",r.onload=function(){e.trigger("vttjsloaded")},r.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),I.default.WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},n.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks();if(e){var n=this.remoteTextTracks(),r=function(t){return e.addTrack_(t.track)},o=function(t){return e.removeTrack_(t.track)};n.on("addtrack",r),n.on("removetrack",o),this.addWebVttScript_();var i=function(){return t.trigger("texttrackchange")},s=function(){i();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",i),"showing"===n.mode&&n.addEventListener("cuechange",i)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",o),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",i)}})}},n.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new w.default,this.videoTracks_},n.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new j.default,this.audioTracks_},n.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new _.default,this.textTracks_},n.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new _.default,this.remoteTextTracks_},n.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new h.default,this.remoteTextTrackEls_},n.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return a(this,t,e,n)},n.prototype.createRemoteTextTrack=function(t){var e=(0,y.default)(t,{tech:this});return new p.default(e)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=this.createRemoteTextTrack(t);return e!==!0&&e!==!1&&(x.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),e!==!0&&this.autoRemoteTextTracks_.addTrack_(n.track),n},n.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack_(t),this.autoRemoteTextTracks_.removeTrack_(t)},n.prototype.setPoster=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,e){if(n.techs_||(n.techs_={}),!n.isTech(e))throw new Error("Tech "+t+" must be a Tech");return n.techs_[t]=e,e},n.getTech=function(t){return n.techs_&&n.techs_[t]?n.techs_[t]:I.default&&I.default.videojs&&I.default.videojs[t]?(x.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),I.default.videojs[t]):void 0},n}(u.default);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_,N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],r=void 0,o=0;o<n.length;o++)if(r=n[o].canPlayType(e))return r;return""},t.selectSourceHandler=function(e,n){for(var r=t.sourceHandlers||[],o=0;o<r.length;o++)if(r[o].canHandleSource(e,n))return r[o];return null},t.canPlaySource=function(e,n){var r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);return n||(t.nativeSourceHandler?n=t.nativeSourceHandler:x.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e,this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",t.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},t.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},u.default.registerComponent("Tech",N),u.default.registerComponent("MediaTechController",N),N.registerTech("Tech",N),n.default=N},{"../component":73,"../media-error.js":114,"../tracks/audio-track-list":131,"../tracks/html-track-element":134,"../tracks/html-track-element-list":133,"../tracks/text-track":140,"../tracks/text-track-list":138,"../tracks/video-track-list":144,"../utils/buffer.js":147,"../utils/fn.js":151,"../utils/log.js":154,"../utils/merge-options.js":155,"../utils/obj":156,"../utils/time-ranges.js":158,"global/document":12,"global/window":13,"videojs-vtt.js":162}],131:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./track-list"),l=r(a),u=t("../utils/browser.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("global/document"),d=r(p),h=function(t,e){for(var n=0;n<t.length;n++)e.id!==t[n].id&&(t[n].enabled=!1)},f=function(t){function e(){var n,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);for(var a=void 0,u=s.length-1;u>=0;u--)if(s[u].enabled){h(s,s[u]);break}if(c.IS_IE8){a=d.default.createElement("custom");for(var p in l.default.prototype)"constructor"!==p&&(a[p]=l.default.prototype[p]);for(var f in e.prototype)"constructor"!==f&&(a[f]=e.prototype[f])}return a=n=i(this,t.call(this,s,a)),a.changing_=!1,r=a,i(n,r)}return s(e,t),e.prototype.addTrack_=function(e){var n=this;e.enabled&&h(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,h(n,e),n.changing_=!1,n.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(l.default);n.default=f},{"../utils/browser.js":146,"./track-list":142,"global/document":12}],132:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./track-enums"),l=t("./track"),u=r(l),c=t("../utils/merge-options"),p=r(c),d=t("../utils/browser.js"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),f=function(t){function e(){var n,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var l=(0,p.default)(s,{kind:a.AudioTrackKind[s.kind]||""}),u=n=i(this,t.call(this,l)),c=!1;if(h.IS_IE8)for(var d in e.prototype)"constructor"!==d&&(u[d]=e.prototype[d]);return Object.defineProperty(u,"enabled",{get:function(){return c},set:function(t){"boolean"==typeof t&&t!==c&&(c=t,this.trigger("enabledchange"))}}),l.enabled&&(u.enabled=l.enabled),u.loaded_=!0,r=u,i(n,r)}return s(e,t),e}(u.default);n.default=f},{"../utils/browser.js":146,"../utils/merge-options":155,"./track":143,"./track-enums":141}],133:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../utils/browser.js"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),s=t("global/document"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t);var n=this;if(i.IS_IE8){n=a.default.createElement("custom");for(var o in t.prototype)"constructor"!==o&&(n[o]=t.prototype[o])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var s=0,l=e.length;s<l;s++)n.addTrackElement_(e[s]);if(i.IS_IE8)return n}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}();n.default=l},{"../utils/browser.js":146,"global/document":12}],134:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../utils/browser.js"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),u=t("global/document"),c=r(u),p=t("../event-target"),d=r(p),h=t("../tracks/text-track"),f=r(h),y=0,v=2,m=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var r=i(this,t.call(this)),s=void 0,a=r;if(l.IS_IE8){a=c.default.createElement("custom");for(var u in e.prototype)"constructor"!==u&&(a[u]=e.prototype[u])}var p=new f.default(n);if(a.kind=p.kind,a.src=p.src,a.srclang=p.language,a.label=p.label,a.default=p.default,Object.defineProperty(a,"readyState",{get:function(){return s}}),
Object.defineProperty(a,"track",{get:function(){return p}}),s=y,p.addEventListener("loadeddata",function(){s=v,a.trigger({type:"load",target:a})}),l.IS_IE8){var d;return d=a,i(r,d)}return r}return s(e,t),e}(d.default);m.prototype.allowedEvents_={load:"load"},m.NONE=y,m.LOADING=1,m.LOADED=v,m.ERROR=3,n.default=m},{"../event-target":110,"../tracks/text-track":140,"../utils/browser.js":146,"global/document":12}],135:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../utils/browser.js"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),s=t("global/document"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(){function t(e){r(this,t);var n=this;if(i.IS_IE8){n=a.default.createElement("custom");for(var o in t.prototype)"constructor"!==o&&(n[o]=t.prototype[o])}if(t.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),i.IS_IE8)return n}return t.prototype.setCues_=function(t){var e=this.length||0,n=0,r=t.length;this.cues_=t,this.length_=t.length;var o=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<r)for(n=e;n<r;n++)o.call(this,n)},t.prototype.getCueById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var o=this[n];if(o.id===t){e=o;break}}return e},t}();n.default=l},{"../utils/browser.js":146,"global/document":12}],136:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function l(t,e,n){try{t.style[e]=n}catch(t){return}}n.__esModule=!0;var u=t("../component"),c=r(u),p=t("../utils/fn.js"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(p),h=t("global/window"),f=r(h),y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},v=function(t){function e(n,r,s){o(this,e);var a=i(this,t.call(this,n,r,s));return n.on("loadstart",d.bind(a,a.toggleDisplay)),n.on("texttrackchange",d.bind(a,a.updateDisplay)),n.ready(d.bind(a,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);var r={captions:1,subtitles:1},o=this.player_.textTracks(),i=void 0,s=void 0;if(o){for(var a=0;a<o.length;a++){var l=o[a];l.default&&("descriptions"!==l.kind||i?l.kind in r&&!s&&(s=l):i=l)}s?s.mode="showing":i&&(i.mode="showing")}})),a}return s(e,t),e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof f.default.WebVTT&&f.default.WebVTT.processCues(f.default,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();if(this.clearDisplay(),t){for(var e=null,n=null,r=t.length;r--;){var o=t[r];"showing"===o.mode&&("descriptions"===o.kind?e=o:n=o)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))}},e.prototype.updateForTrack=function(t){if("function"==typeof f.default.WebVTT&&t.activeCues){for(var e=this.player_.textTrackSettings.getValues(),n=[],r=0;r<t.activeCues.length;r++)n.push(t.activeCues[r]);f.default.WebVTT.processCues(f.default,n,this.el_);for(var o=n.length;o--;){var i=n[o];if(i){var s=i.displayState;if(e.color&&(s.firstChild.style.color=e.color),e.textOpacity&&l(s.firstChild,"color",a(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(s.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&l(s.firstChild,"backgroundColor",a(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?l(s,"backgroundColor",a(e.windowColor,e.windowOpacity)):s.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent){var u=f.default.parseFloat(s.style.fontSize);s.style.fontSize=u*e.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=y[e.fontFamily])}}}},e}(c.default);c.default.registerComponent("TextTrackDisplay",v),n.default=v},{"../component":73,"../utils/fn.js":151,"global/window":13}],137:[function(t,e,n){"use strict";n.__esModule=!0;var r=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,r){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},o=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=r(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return n.indexOf(t)===-1}).map(r))},i=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()};n.default={textTracksToJson:o,jsonToTextTracks:i,trackToJson_:r}},{}],138:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("./track-list"),u=o(l),c=t("../utils/fn.js"),p=r(c),d=t("../utils/browser.js"),h=r(d),f=t("global/document"),y=o(f),v=function(t){function e(){var n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e);var a=void 0;if(h.IS_IE8){a=y.default.createElement("custom");for(var l in u.default.prototype)"constructor"!==l&&(a[l]=u.default.prototype[l]);for(var c in e.prototype)"constructor"!==c&&(a[c]=e.prototype[c])}return a=n=s(this,t.call(this,o,a)),r=a,s(n,r)}return a(e,t),e.prototype.addTrack_=function(e){t.prototype.addTrack_.call(this,e),e.addEventListener("modechange",p.bind(this,function(){this.trigger("change")}))},e}(u.default);n.default=v},{"../utils/browser.js":146,"../utils/fn.js":151,"./track-list":142,"global/document":12}],139:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function u(t,e){return l(t.options[t.options.selectedIndex].value,e)}function c(t,e,n){if(e)for(var r=0;r<t.options.length;r++)if(l(t.options[r].value,n)===e){t.selectedIndex=r;break}}n.__esModule=!0;var p=t("global/window"),d=o(p),h=t("../component"),f=o(h),y=t("../utils/dom"),v=t("../utils/fn"),m=r(v),g=t("../utils/obj"),_=r(g),b=t("../utils/log"),w=o(b),T=["#000","Black"],j=["#00F","Blue"],k=["#0FF","Cyan"],E=["#0F0","Green"],C=["#F0F","Magenta"],x=["#F00","Red"],S=["#FFF","White"],O=["#FF0","Yellow"],P=["1","Opaque"],A=["0.5","Semi-Transparent"],M=["0","Transparent"],I={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[T,S,x,E,j,O,C,k]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[P,A,M]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[S,T,x,E,j,O,C,k]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[P,A]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[M,A,P]}};I.windowColor.options=I.backgroundColor.options;var R=function(t){function e(n,r){i(this,e);var o=s(this,t.call(this,n,r));return o.setDefaults(),o.hide(),o.updateDisplay=m.bind(o,o.updateDisplay),void 0===r.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.hide()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),_.each(I,function(t){o.on(o.$(t.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return a(e,t),e.prototype.createElSelect_=function(t){var e=this,n=I[t],r=n.id.replace("%s",this.id_);return[(0,y.createEl)("label",{className:"vjs-label",textContent:n.label},{for:r}),(0,y.createEl)("select",{id:r},void 0,n.options.map(function(t){return(0,y.createEl)("option",{textContent:e.localize(t[1]),value:t[0]})}))]},e.prototype.createElFgColor_=function(){var t=(0,y.createEl)("legend",{textContent:this.localize("Text")}),e=this.createElSelect_("color"),n=(0,y.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(e,n))},e.prototype.createElBgColor_=function(){var t=(0,y.createEl)("legend",{textContent:this.localize("Background")}),e=this.createElSelect_("backgroundColor"),n=(0,y.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(e,n))},e.prototype.createElWinColor_=function(){var t=(0,y.createEl)("legend",{textContent:this.localize("Window")}),e=this.createElSelect_("windowColor"),n=(0,y.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,y.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(e,n))},e.prototype.createElColors_=function(){return(0,y.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},e.prototype.createElFont_=function(){var t=(0,y.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),e=(0,y.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,y.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,y.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,e,n])},e.prototype.createElControls_=function(){var t=(0,y.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),e=(0,y.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,y.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,e])},e.prototype.createEl=function(){var t=(0,y.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),e=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,y.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,y.createEl)("div",void 0,{role:"document"},[e,n,t]);return(0,y.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":e.id,"aria-describedby":n.id},r)},e.prototype.getValues=function(){var t=this;return _.reduce(I,function(e,n,r){var o=u(t.$(n.selector),n.parser);return void 0!==o&&(e[r]=o),e},{})},e.prototype.setValues=function(t){var e=this;_.each(I,function(n,r){c(e.$(n.selector),t[r],n.parser)})},e.prototype.setDefaults=function(){var t=this;_.each(I,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(d.default.localStorage.getItem("vjs-text-track-settings"))}catch(t){w.default.warn(t)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?d.default.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):d.default.localStorage.removeItem("vjs-text-track-settings")}catch(t){w.default.warn(t)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e}(f.default);f.default.registerComponent("TextTrackSettings",R),n.default=R},{"../component":73,"../utils/dom":149,"../utils/fn":151,"../utils/log":154,"../utils/obj":156,"global/window":13}],140:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("./text-track-cue-list"),u=o(l),c=t("../utils/fn.js"),p=r(c),d=t("./track-enums"),h=t("../utils/log.js"),f=o(h),y=t("global/window"),v=o(y),m=t("./track.js"),g=o(m),_=t("../utils/url.js"),b=t("xhr"),w=o(b),T=t("../utils/merge-options"),j=o(T),k=t("../utils/browser.js"),E=r(k),C=function(t,e){var n=new v.default.WebVTT.Parser(v.default,v.default.vttjs,v.default.WebVTT.StringDecoder()),r=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){r.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(v.default.console&&v.default.console.groupCollapsed&&v.default.console.groupCollapsed("Text Track parsing errors for "+e.src),r.forEach(function(t){return f.default.error(t)}),v.default.console&&v.default.console.groupEnd&&v.default.console.groupEnd()),n.flush()},x=function(t,e){var n={uri:t},r=(0,_.isCrossOrigin)(t);r&&(n.cors=r),(0,w.default)(n,p.bind(this,function(t,n,r){if(t)return f.default.error(t,n);if(e.loaded_=!0,"function"!=typeof v.default.WebVTT){if(e.tech_){var o=function(){return C(r,e)};e.tech_.on("vttjsloaded",o),e.tech_.on("vttjserror",function(){f.default.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",o)})}}else C(r,e)}))},S=function(t){function e(){var n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,e),!o.tech)throw new Error("A tech was not provided.");var a=(0,j.default)(o,{kind:d.TextTrackKind[o.kind]||"subtitles",language:o.language||o.srclang||""}),l=d.TextTrackMode[a.mode]||"disabled",c=a.default;"metadata"!==a.kind&&"chapters"!==a.kind||(l="hidden");var h=n=s(this,t.call(this,a));if(h.tech_=a.tech,E.IS_IE8)for(var f in e.prototype)"constructor"!==f&&(h[f]=e.prototype[f]);h.cues_=[],h.activeCues_=[];var y=new u.default(h.cues_),v=new u.default(h.activeCues_),m=!1,g=p.bind(h,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==l&&h.tech_.ready(function(){h.tech_.on("timeupdate",g)},!0),Object.defineProperty(h,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(h,"mode",{get:function(){return l},set:function(t){var e=this;d.TextTrackMode[t]&&(l=t,"showing"===l&&this.tech_.ready(function(){e.tech_.on("timeupdate",g)},!0),this.trigger("modechange"))}}),Object.defineProperty(h,"cues",{get:function(){return this.loaded_?y:null},set:function(){}}),Object.defineProperty(h,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return v;for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;n<r;n++){var o=this.cues[n];o.startTime<=t&&o.endTime>=t?e.push(o):o.startTime===o.endTime&&o.startTime<=t&&o.startTime+.5>=t&&e.push(o)}if(m=!1,e.length!==this.activeCues_.length)m=!0;else for(var i=0;i<e.length;i++)this.activeCues_.indexOf(e[i])===-1&&(m=!0);return this.activeCues_=e,v.setCues_(this.activeCues_),v},set:function(){}}),a.src?(h.src=a.src,x(a.src,h)):h.loaded_=!0,r=h,s(n,r)}return a(e,t),e.prototype.addCue=function(t){var e=t;if(v.default.vttjs&&!(t instanceof v.default.vttjs.VTTCue)){e=new v.default.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var n in t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}var r=this.tech_.textTracks();if(r)for(var o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(g.default);S.prototype.allowedEvents_={cuechange:"cuechange"},n.default=S},{"../utils/browser.js":146,"../utils/fn.js":151,"../utils/log.js":154,"../utils/merge-options":155,"../utils/url.js":160,"./text-track-cue-list":135,"./track-enums":141,"./track.js":143,"global/window":13,xhr:169}],141:[function(t,e,n){"use strict";n.__esModule=!0;n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],142:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("../event-target"),l=r(a),u=t("../utils/browser.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("global/document"),d=r(p),h=function(t){function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,e);var a=i(this,t.call(this));if(!s&&(s=a,c.IS_IE8)){s=d.default.createElement("custom");for(var l in e.prototype)"constructor"!==l&&(s[l]=e.prototype[l])}s.tracks_=[],Object.defineProperty(s,"length",{get:function(){return this.tracks_.length}});for(var u=0;u<r.length;u++)s.addTrack_(r[u]);return n=s,i(a,n)}return s(e,t),e.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack_=function(t){for(var e=void 0,n=0,r=this.length;n<r;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var o=this[n];if(o.id===t){e=o;break}}return e},e}(l.default);h.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var f in h.prototype.allowedEvents_)h.prototype["on"+f]=null;n.default=h},{"../event-target":110,"../utils/browser.js":146,"global/document":12}],143:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var l=t("../utils/browser.js"),u=o(l),c=t("global/document"),p=r(c),d=t("../utils/guid.js"),h=o(d),f=t("../event-target"),y=r(f),v=function(t){function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var o=s(this,t.call(this)),a=o;if(u.IS_IE8){a=p.default.createElement("custom");for(var l in e.prototype)"constructor"!==l&&(a[l]=e.prototype[l])}var c={id:r.id||"vjs_track_"+h.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""};for(var d in c)!function(t){Object.defineProperty(a,t,{get:function(){return c[t]},set:function(){}})}(d);return n=a,s(o,n)}return a(e,t),e}(y.default);n.default=v},{"../event-target":110,"../utils/browser.js":146,"../utils/guid.js":153,"global/document":12}],144:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./track-list"),l=r(a),u=t("../utils/browser.js"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=t("global/document"),d=r(p),h=function(t,e){for(var n=0;n<t.length;n++)e.id!==t[n].id&&(t[n].selected=!1)},f=function(t){function e(){var n,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);for(var a=void 0,u=s.length-1;u>=0;u--)if(s[u].selected){h(s,s[u]);break}if(c.IS_IE8){a=d.default.createElement("custom");for(var p in l.default.prototype)"constructor"!==p&&(a[p]=l.default.prototype[p]);for(var f in e.prototype)"constructor"!==f&&(a[f]=e.prototype[f])}return a=n=i(this,t.call(this,s,a)),a.changing_=!1,Object.defineProperty(a,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),r=a,i(n,r)}return s(e,t),e.prototype.addTrack_=function(e){var n=this;e.selected&&h(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,h(n,e),n.changing_=!1,n.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(l.default);n.default=f},{"../utils/browser.js":146,"./track-list":142,"global/document":12}],145:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=t("./track-enums"),l=t("./track"),u=r(l),c=t("../utils/merge-options"),p=r(c),d=t("../utils/browser.js"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),f=function(t){function e(){var n,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var l=(0,p.default)(s,{kind:a.VideoTrackKind[s.kind]||""}),u=n=i(this,t.call(this,l)),c=!1;if(h.IS_IE8)for(var d in e.prototype)"constructor"!==d&&(u[d]=e.prototype[d]);return Object.defineProperty(u,"selected",{get:function(){return c},set:function(t){"boolean"==typeof t&&t!==c&&(c=t,this.trigger("selectedchange"))}}),l.selected&&(u.selected=l.selected),r=u,i(n,r)}return s(e,t),e}(u.default);n.default=f},{"../utils/browser.js":146,"../utils/merge-options":155,"./track":143,"./track-enums":141}],146:[function(t,e,n){"use strict";n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var r=t("./dom"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),i=t("global/window"),s=function(t){return t&&t.__esModule?t:{default:t}}(i),a=s.default.navigator&&s.default.navigator.userAgent||"",l=/AppleWebKit\/([\d.]+)/i.exec(a),u=l?parseFloat(l.pop()):null,c=n.IS_IPAD=/iPad/i.test(a),p=n.IS_IPHONE=/iPhone/i.test(a)&&!c,d=n.IS_IPOD=/iPod/i.test(a),h=n.IS_IOS=p||c||d,f=(n.IOS_VERSION=function(){var t=a.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),n.IS_ANDROID=/Android/i.test(a)),y=n.ANDROID_VERSION=function(){var t=a.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),v=(n.IS_OLD_ANDROID=f&&/webkit/i.test(a)&&y<2.3,n.IS_NATIVE_ANDROID=f&&y<5&&u<537,n.IS_FIREFOX=/Firefox/i.test(a),n.IS_EDGE=/Edge/i.test(a)),m=n.IS_CHROME=!v&&/Chrome/i.test(a),g=(n.IS_IE8=/MSIE\s8\.0/.test(a),n.IE_VERSION=function(t){return t&&parseFloat(t[1])}(/MSIE\s(\d+)\.\d/.exec(a)),n.IS_SAFARI=/Safari/i.test(a)&&!m&&!f&&!v);n.IS_ANY_SAFARI=g||h,n.TOUCH_ENABLED=o.isReal()&&("ontouchstart"in s.default||s.default.DocumentTouch&&s.default.document instanceof s.default.DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED=o.isReal()&&"backgroundSize"in s.default.document.createElement("video").style},{"./dom":149,"global/window":13}],147:[function(t,e,n){"use strict";function r(t,e){var n=0,r=void 0,i=void 0;if(!e)return 0;t&&t.length||(t=(0,o.createTimeRange)(0,0));for(var s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}n.__esModule=!0,n.bufferedPercent=r;var o=t("./time-ranges.js")},{"./time-ranges.js":158}],148:[function(t,e,n){"use strict";function r(t,e){if(!t||!e)return"";if("function"==typeof i.default.getComputedStyle){var n=i.default.getComputedStyle(t);return n?n[e]:""}return t.currentStyle[e]||""}n.__esModule=!0,n.default=r;var o=t("global/window"),i=function(t){return t&&t.__esModule?t:{default:t}}(o)},{"global/window":13}],149:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return"string"==typeof t&&/\S/.test(t)}function i(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function s(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function a(){return N.default===V.default.document&&void 0!==N.default.createElement}function l(t){return(0,G.isObject)(t)&&1===t.nodeType}function u(t){
return function(e,n){if(!o(e))return N.default[t](null);o(n)&&(n=N.default.querySelector(n));var r=l(n)?n:N.default;return r[t]&&r[t](e)}}function c(t){return 0===t.indexOf("#")&&(t=t.slice(1)),N.default.getElementById(t)}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=N.default.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];t.indexOf("aria-")!==-1||"role"===t||"type"===t?(z.default.warn((0,W.default)(L,t,n)),o.setAttribute(t,n)):"textContent"===t?d(o,n):o[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){o.setAttribute(t,n[t])}),r&&I(o,r),o}function d(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function h(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function f(t){var e=t[$];return e||(e=t[$]=H.newGUID()),X[e]||(X[e]={}),X[e]}function y(t){var e=t[$];return!!e&&!!Object.getOwnPropertyNames(X[e]).length}function v(t){var e=t[$];if(e){delete X[e];try{delete t[$]}catch(e){t.removeAttribute?t.removeAttribute($):t[$]=null}}}function m(t,e){return i(e),t.classList?t.classList.contains(e):s(e).test(t.className)}function g(t,e){return t.classList?t.classList.add(e):m(t,e)||(t.className=(t.className+" "+e).trim()),t}function _(t,e){return t.classList?t.classList.remove(e):(i(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function b(t,e,n){var r=m(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!r),n!==r)return n?g(t,e):_(t,e),t}function w(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var r=e[n];null===r||void 0===r||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function T(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,i=n[r].value;"boolean"!=typeof t[o]&&",autoplay,controls,loop,muted,default,".indexOf(","+o+",")===-1||(i=null!==i),e[o]=i}return e}function j(t,e){return t.getAttribute(e)}function k(t,e,n){t.setAttribute(e,n)}function E(t,e){t.removeAttribute(e)}function C(){N.default.body.focus(),N.default.onselectstart=function(){return!1}}function x(){N.default.onselectstart=function(){return!0}}function S(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=N.default.documentElement,r=N.default.body,o=n.clientLeft||r.clientLeft||0,i=V.default.pageXOffset||r.scrollLeft,s=e.left+i-o,a=n.clientTop||r.clientTop||0,l=V.default.pageYOffset||r.scrollTop,u=e.top+l-a;return{left:Math.round(s),top:Math.round(u)}}function O(t,e){var n={},r=S(t),o=t.offsetWidth,i=t.offsetHeight,s=r.top,a=r.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+i)/i)),n.x=Math.max(0,Math.min(1,(u-a)/o)),n}function P(t){return(0,G.isObject)(t)&&3===t.nodeType}function A(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function M(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),l(t)||P(t)?t:"string"==typeof t&&/\S/.test(t)?N.default.createTextNode(t):void 0}).filter(function(t){return t})}function I(t,e){return M(e).forEach(function(e){return t.appendChild(e)}),t}function R(t,e){return I(A(t),e)}n.__esModule=!0,n.$$=n.$=void 0;var L=function(t,e){return t.raw=e,t}(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);n.isReal=a,n.isEl=l,n.getEl=c,n.createEl=p,n.textContent=d,n.insertElFirst=h,n.getElData=f,n.hasElData=y,n.removeElData=v,n.hasElClass=m,n.addElClass=g,n.removeElClass=_,n.toggleElClass=b,n.setElAttributes=w,n.getElAttributes=T,n.getAttribute=j,n.setAttribute=k,n.removeAttribute=E,n.blockTextSelection=C,n.unblockTextSelection=x,n.findElPosition=S,n.getPointerPosition=O,n.isTextNode=P,n.emptyEl=A,n.normalizeContent=M,n.appendContent=I,n.insertContent=R;var D=t("global/document"),N=r(D),F=t("global/window"),V=r(F),B=t("./guid.js"),H=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(B),U=t("./log.js"),z=r(U),q=t("tsml"),W=r(q),G=t("./obj"),X={},$="vdata"+(new Date).getTime();n.$=u("querySelector"),n.$$=u("querySelectorAll")},{"./guid.js":153,"./log.js":154,"./obj":156,"global/document":12,"global/window":13,tsml:31}],150:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){var n=h.getElData(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&h.removeElData(t)}function s(t,e,n,r){n.forEach(function(n){t(e,n,r)})}function a(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r=t||_.default.event;t={};for(var o in r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&r.preventDefault||(t[o]=r[o]));if(t.target||(t.target=t.srcElement||w.default),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var i=w.default.documentElement,s=w.default.body;t.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function l(t,e,n){if(Array.isArray(e))return s(l,t,e,n);var r=h.getElData(t);r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=y.newGUID()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,n){if(!r.disabled){e=a(e);var o=r.handlers[e.type];if(o)for(var i=o.slice(0),s=0,l=i.length;s<l&&!e.isImmediatePropagationStopped();s++)try{i[s].call(t,e,n)}catch(t){m.default.error(t)}}}),1===r.handlers[e].length&&(t.addEventListener?t.addEventListener(e,r.dispatcher,!1):t.attachEvent&&t.attachEvent("on"+e,r.dispatcher))}function u(t,e,n){if(h.hasElData(t)){var r=h.getElData(t);if(r.handlers){if(Array.isArray(e))return s(u,t,e,n);var o=function(e){r.handlers[e]=[],i(t,e)};if(e){var a=r.handlers[e];if(a){if(!n)return void o(e);if(n.guid)for(var l=0;l<a.length;l++)a[l].guid===n.guid&&a.splice(l--,1);i(t,e)}}else for(var c in r.handlers)o(c)}}}function c(t,e,n){var r=h.hasElData(t)?h.getElData(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=a(e),r.dispatcher&&r.dispatcher.call(t,e,n),o&&!e.isPropagationStopped()&&e.bubbles===!0)c.call(null,o,e,n);else if(!o&&!e.defaultPrevented){var i=h.getElData(e.target);e.target[e.type]&&(i.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),i.disabled=!1)}return!e.defaultPrevented}function p(t,e,n){if(Array.isArray(e))return s(p,t,e,n);var r=function r(){u(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||y.newGUID(),l(t,e,r)}n.__esModule=!0,n.fixEvent=a,n.on=l,n.off=u,n.trigger=c,n.one=p;var d=t("./dom.js"),h=o(d),f=t("./guid.js"),y=o(f),v=t("./log.js"),m=r(v),g=t("global/window"),_=r(g),b=t("global/document"),w=r(b)},{"./dom.js":149,"./guid.js":153,"./log.js":154,"global/document":12,"global/window":13}],151:[function(t,e,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=t("./guid.js");n.bind=function(t,e,n){e.guid||(e.guid=(0,r.newGUID)());var o=function(){return e.apply(t,arguments)};return o.guid=n?n+"_"+e.guid:e.guid,o},n.throttle=function(t,e){var n=Date.now();return function(){var r=Date.now();r-n>=e&&(t.apply(void 0,arguments),n=r)}}},{"./guid.js":153}],152:[function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var n=Math.floor(t%60),r=Math.floor(t/60%60),o=Math.floor(t/3600),i=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||1/0===t)&&(o=r=n="-"),o=o>0||s>0?o+":":"",r=((o||i>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,o+r+n}n.__esModule=!0,n.default=r},{}],153:[function(t,e,n){"use strict";function r(){return o++}n.__esModule=!0,n.newGUID=r;var o=1},{}],154:[function(t,e,n){"use strict";n.__esModule=!0,n.logByType=void 0;var r=t("global/window"),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=t("./browser"),s=t("./obj"),a=void 0,l=n.logByType=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!i.IE_VERSION&&i.IE_VERSION<11;"log"!==t&&e.unshift(t.toUpperCase()+":"),a.history.push(e),e.unshift("VIDEOJS:");var r=o.default.console&&o.default.console[t];r&&(n&&(e=e.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),r.apply?r[Array.isArray(e)?"apply":"call"](o.default.console,e):r(e))};a=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l("log",e)},a.history=[],a.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l("error",e)},a.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l("warn",e)},n.default=a},{"./browser":146,"./obj":156,"global/window":13}],155:[function(t,e,n){"use strict";function r(){for(var t={},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&(0,o.each)(e,function(e,n){if(!(0,o.isPlain)(e))return void(t[n]=e);(0,o.isPlain)(t[n])||(t[n]={}),t[n]=r(t[n],e)})}),t}n.__esModule=!0,n.default=r;var o=t("./obj")},{"./obj":156}],156:[function(t,e,n){"use strict";function r(t,e){c(t).forEach(function(n){return e(t[n],n)})}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(t).reduce(function(n,r){return e(n,t[r],r)},n)}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&r(e,function(e,n){t[n]=e})}),t)}function s(t){return!!t&&"object"===(void 0===t?"undefined":l(t))}function a(t){return s(t)&&"[object Object]"===u.call(t)&&t.constructor===Object}n.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.each=r,n.reduce=o,n.assign=i,n.isObject=s,n.isPlain=a;var u=Object.prototype.toString,c=function(t){return s(t)?Object.keys(t):[]}},{}],157:[function(t,e,n){"use strict";n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var r=t("global/document"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);n.createStyleElement=function(t){var e=o.default.createElement("style");return e.className=t,e},n.setTextContent=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}},{"global/document":12}],158:[function(t,e,n){"use strict";function r(t,e,n){if(e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is greater than or equal to the maximum bound ("+n+").")}function o(t,e,n,o){return void 0===o&&(l.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),o=0),r(t,o,n.length-1),n[o][e]}function i(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:o.bind(null,"start",0,t),end:o.bind(null,"end",1,t)}}function s(t,e){return Array.isArray(t)?i(t):void 0===t||void 0===e?i():i([[t,e]])}n.__esModule=!0,n.createTimeRange=void 0,n.createTimeRanges=s;var a=t("./log.js"),l=function(t){return t&&t.__esModule?t:{default:t}}(a);n.createTimeRange=s},{"./log.js":154}],159:[function(t,e,n){"use strict";function r(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}n.__esModule=!0,n.default=r},{}],160:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var o=t("global/document"),i=r(o),s=t("global/window"),a=r(s),l=n.parseUrl=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=i.default.createElement("a");n.href=t;var r=""===n.host&&"file:"!==n.protocol,o=void 0;r&&(o=i.default.createElement("div"),o.innerHTML='<a href="'+t+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),i.default.body.appendChild(o));for(var s={},a=0;a<e.length;a++)s[e[a]]=n[e[a]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),r&&i.default.body.removeChild(o),s};n.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var e=i.default.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},n.getFileExtension=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""},n.isCrossOrigin=function(t){var e=a.default.location,n=l(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host}},{"global/document":12,"global/window":13}],161:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),i.getPlayers()[t])return e&&V.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.getPlayers()[t].ready(n),i.getPlayers()[t];r=H.getEl(t)}else r=t;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||T.default.players[r.playerId])return r.player||T.default.players[r.playerId];e=e||{},i.hooks("beforesetup").forEach(function(t){var n=t(r,(0,C.default)(e));if(!(0,G.isObject)(n)||Array.isArray(n))return void V.default.error("please return an object in beforesetup hooks");e=(0,C.default)(e,n)});var o=v.default.getComponent("Player"),s=new o(r,e,n);return i.hooks("setup").forEach(function(t){return t(s)}),s}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("global/window"),l=o(a),u=t("global/document"),c=o(u),p=t("./setup"),d=r(p),h=t("./utils/stylesheet.js"),f=r(h),y=t("./component"),v=o(y),m=t("./event-target"),g=o(m),_=t("./utils/events.js"),b=r(_),w=t("./player"),T=o(w),j=t("./plugins.js"),k=o(j),E=t("./utils/merge-options.js"),C=o(E),x=t("./utils/fn.js"),S=r(x),O=t("./tracks/text-track.js"),P=o(O),A=t("./tracks/audio-track.js"),M=o(A),I=t("./tracks/video-track.js"),R=o(I),L=t("./utils/time-ranges.js"),D=t("./utils/format-time.js"),N=o(D),F=t("./utils/log.js"),V=o(F),B=t("./utils/dom.js"),H=r(B),U=t("./utils/browser.js"),z=r(U),q=t("./utils/url.js"),W=r(q),G=t("./utils/obj"),X=t("./utils/computed-style.js"),$=o(X),Y=t("./extend.js"),Q=o(Y),J=t("xhr"),K=o(J),Z=t("./tech/tech.js"),tt=o(Z);if("undefined"==typeof HTMLVideoElement&&H.isReal()&&(c.default.createElement("video"),c.default.createElement("audio"),c.default.createElement("track")),i.hooks_={},i.hooks=function(t,e){return i.hooks_[t]=i.hooks_[t]||[],e&&(i.hooks_[t]=i.hooks_[t].concat(e)),i.hooks_[t]},i.hook=function(t,e){i.hooks(t,e)},i.removeHook=function(t,e){var n=i.hooks(t).indexOf(e);return!(n<=-1)&&(i.hooks_[t]=i.hooks_[t].slice(),i.hooks_[t].splice(n,1),!0)},l.default.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&H.isReal()){var et=H.$(".vjs-styles-defaults");if(!et){et=f.createStyleElement("vjs-styles-defaults");var nt=H.$("head");nt&&nt.insertBefore(et,nt.firstChild),f.setTextContent(et,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,i),i.VERSION="5.19.1",i.options=T.default.prototype.options_,i.getPlayers=function(){return T.default.players},i.players=T.default.players,i.getComponent=v.default.getComponent,i.registerComponent=function(t,e){tt.default.isTech(e)&&V.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),v.default.registerComponent.call(v.default,t,e)},i.getTech=tt.default.getTech,i.registerTech=tt.default.registerTech,i.browser=z,i.TOUCH_ENABLED=z.TOUCH_ENABLED,i.extend=Q.default,i.mergeOptions=C.default,i.bind=S.bind,i.plugin=k.default,i.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),i.options.languages=(0,C.default)(i.options.languages,(n={},n[t]=e,n)),i.options.languages[t]},i.log=V.default,i.createTimeRange=i.createTimeRanges=L.createTimeRanges,i.formatTime=N.default,i.parseUrl=W.parseUrl,i.isCrossOrigin=W.isCrossOrigin,i.EventTarget=g.default,i.on=b.on,i.one=b.one,i.off=b.off,i.trigger=b.trigger,i.xhr=K.default,i.TextTrack=P.default,i.AudioTrack=M.default,i.VideoTrack=R.default,i.isEl=H.isEl,i.isTextNode=H.isTextNode,i.createEl=H.createEl,i.hasClass=H.hasElClass,i.addClass=H.addElClass,i.removeClass=H.removeElClass,i.toggleClass=H.toggleElClass,i.setAttributes=H.setElAttributes,i.getAttributes=H.getElAttributes,i.emptyEl=H.emptyEl,i.appendContent=H.appendContent,i.insertContent=H.insertContent,i.computedStyle=$.default,"function"==typeof define&&define.amd?define("videojs",[],function(){return i}):"object"===(void 0===n?"undefined":s(n))&&"object"===(void 0===e?"undefined":s(e))&&(e.exports=i),n.default=i},{"./component":73,"./event-target":110,"./extend.js":111,"./player":119,"./plugins.js":120,"./setup":124,"./tech/tech.js":130,"./tracks/audio-track.js":132,"./tracks/text-track.js":140,"./tracks/video-track.js":145,"./utils/browser.js":146,"./utils/computed-style.js":148,"./utils/dom.js":149,"./utils/events.js":150,"./utils/fn.js":151,"./utils/format-time.js":152,"./utils/log.js":154,"./utils/merge-options.js":155,"./utils/obj":156,"./utils/stylesheet.js":157,"./utils/time-ranges.js":158,"./utils/url.js":160,"global/document":12,"global/window":13,xhr:169}],162:[function(t,e,n){var r=e.exports={WebVTT:t("./vtt.js").WebVTT,VTTCue:t("./vttcue-extended.js").VTTCue,VTTRegion:t("./vttregion-extended.js").VTTRegion};window.vttjs=r,window.WebVTT=r.WebVTT;var o=r.VTTCue,i=r.VTTRegion,s=window.VTTCue,a=window.VTTRegion;r.shim=function(){window.VTTCue=o,window.VTTRegion=i},r.restore=function(){window.VTTCue=s,window.VTTRegion=a},window.VTTCue||r.shim()},{"./vtt.js":163,"./vttcue-extended.js":164,"./vttregion-extended.js":166}],163:[function(t,e,n){!function(t){function e(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function n(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function r(){this.values=y(null)}function o(t,e,n,r){var o=r?t.split(r):[t];for(var i in o)if("string"==typeof o[i]){var s=o[i].split(n);if(2===s.length){var a=s[0],l=s[1];e(a,l)}}}function i(t,i,s){function a(){var r=n(t);if(null===r)throw new e(e.Errors.BadTimeStamp,"Malformed timestamp: "+u);return t=t.replace(/^[^\sa-zA-Z-]+/,""),r}function l(){t=t.replace(/^\s+/,"")}var u=t;if(l(),i.startTime=a(),l(),"-->"!==t.substr(0,3))throw new e(e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);t=t.substr(3),l(),i.endTime=a(),l(),function(t,e){var n=new r;o(t,function(t,e){switch(t){case"region":for(var r=s.length-1;r>=0;r--)if(s[r].id===e){n.set(t,s[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),i=o[0];n.integer(t,i),n.percent(t,i)&&n.set("snapToLines",!1),n.alt(t,i,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,i)}function s(t,e){function r(t){return v[t]}for(var o,i=t.document.createElement("div"),s=i,a=[];null!==(o=function(){if(!e)return null;var t=e.match(/^([^<]*)(<[^>]+>?)?/);return function(t){return e=e.substr(t.length),t}(t[1]?t[1]:t[2])}());)if("<"!==o[0])s.appendChild(t.document.createTextNode(function(t){for(;c=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(c[0],r);return t}(o)));else{if("/"===o[1]){a.length&&a[a.length-1]===o.substr(2).replace(">","")&&(a.pop(),s=s.parentNode);continue}var l,u=n(o.substr(1,o.length-2));if(u){l=t.document.createProcessingInstruction("timestamp",u),s.appendChild(l);continue}var c=o.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(l=function(e,n){var r=m[e];if(!r)return null;var o=t.document.createElement(r);o.localName=r;var i=g[e];return i&&n&&(o[i]=n.trim()),o}(c[1],c[3])))continue;if(!function(t,e){return!_[e.localName]||_[e.localName]===t.localName}(s,l))continue;c[2]&&(l.className=c[2].substr(1).replace("."," ")),a.push(c[1]),s.appendChild(l),s=l}return i}function a(t){for(var e=0;e<b.length;e++){var n=b[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function l(t){function e(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function n(t){if(!t||!t.length)return null;var r=t.pop(),o=r.textContent||r.innerText;if(o){var i=o.match(/^.*(\n|\r)/);return i?(t.length=0,i[0]):o}return"ruby"===r.tagName?n(t):r.childNodes?(e(t,r),n(t)):void 0}var r,o=[],i="";if(!t||!t.childNodes)return"ltr";for(e(o,t);i=n(o);)for(var s=0;s<i.length;s++)if(r=i.charCodeAt(s),a(r))return"rtl";return"ltr"}function u(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,o=0;o<n.length&&n[o]!==e;o++)"showing"===n[o].mode&&r++;return++r*-1}function c(){}function p(t,e,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",i="rgba(0, 0, 0, 0.8)";r&&(o="rgb(255, 255, 255)",i="rgb(0, 0, 0)"),c.call(this),this.cue=e,this.cueDiv=s(t,e.text);var a={color:o,backgroundColor:i,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=t.document.createElement("div"),a={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=l(this.cueDiv),a.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var u=0;switch(e.positionAlign){case"start":u=e.position;break;case"middle":u=e.position-e.size/2;break;case"end":u=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function d(t){var e,n,r,o,i=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,o=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||n,this.bottom=t.bottom||o+(t.height||n),this.width=t.width||r,this.lineHeight=void 0!==e?e:t.lineHeight,i&&!this.lineHeight&&(this.lineHeight=13)}function h(t,e,n,r){var o=new d(e),i=e.cue,s=u(i),a=[];if(i.snapToLines){var l;switch(i.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=o.lineHeight,p=c*Math.round(s),h=n[l]+c,f=a[0];Math.abs(p)>h&&(p=p<0?-1:1,p*=Math.ceil(h/c)*c),s<0&&(p+=""===i.vertical?n.height:n.width,a=a.reverse()),o.move(f,p)}else{var y=o.lineHeight/n.height*100;switch(i.lineAlign){case"middle":s-=y/2;break;case"end":s-=y}switch(i.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],o=new d(e)}var v=function(t,e){for(var o,i=new d(t),s=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(n,e[a])||t.within(n)&&t.overlapsAny(r);)t.move(e[a]);if(t.within(n))return t;var l=t.intersectPercentage(n);s>l&&(o=new d(t),s=l),t=new d(i)}return o||i}(o,a);e.move(v.toCSSCompatValues(n))}function f(){}var y=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();e.prototype=y(Error.prototype),e.prototype.constructor=e,e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},m={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},_={rt:"ruby"},b=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];c.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},c.prototype.formatStyle=function(t,e){return 0===t?0:t+e},p.prototype=y(c.prototype),p.prototype.constructor=p,d.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},d.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},d.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},d.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},d.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},d.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},d.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t,{left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},f.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},f.convertCueToDOMTree=function(t,e){return t&&e?s(t,e):null};f.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var o=[],i=d.getSimpleBoxPosition(r),s=Math.round(.05*i.height*100)/100,a={font:s+"px sans-serif"};!function(){for(var n,s,l=0;l<e.length;l++)s=e[l],n=new p(t,s,a),r.appendChild(n.div),h(t,n,i,o),s.displayState=n.div,o.push(d.getSimpleBoxPosition(n))}()}else for(var l=0;l<e.length;l++)r.appendChild(e[l].displayState)},
f.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof e))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function s(){for(var t=u.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,u.buffer=t.substr(e),n}function a(t){var e=new r;if(o(t,function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var o=n.split(",");if(2!==o.length)break;var i=new r;if(i.percent("x",o[0]),i.percent("y",o[1]),!i.has("x")||!i.has("y"))break;e.set(t+"X",i.get("x")),e.set(t+"Y",i.get("y"));break;case"scroll":e.alt(t,n,["up"])}},/=/,/\s/),e.has("id")){var n=new(u.vttjs.VTTRegion||u.window.VTTRegion);n.width=e.get("width",100),n.lines=e.get("lines",3),n.regionAnchorX=e.get("regionanchorX",0),n.regionAnchorY=e.get("regionanchorY",100),n.viewportAnchorX=e.get("viewportanchorX",0),n.viewportAnchorY=e.get("viewportanchorY",100),n.scroll=e.get("scroll",""),u.onregion&&u.onregion(n),u.regionList.push({id:e.get("id"),region:n})}}function l(t){var e=new r;o(t,function(t,r){switch(t){case"MPEGT":e.integer(t+"S",r);break;case"LOCA":e.set(t+"L",n(r))}},/[^\d]:/,/,/),u.ontimestampmap&&u.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}var u=this;t&&(u.buffer+=u.decoder.decode(t,{stream:!0}));try{var c;if("INITIAL"===u.state){if(!/\r\n|\n/.test(u.buffer))return this;c=s();var p=c.match(/^WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new e(e.Errors.BadSignature);u.state="HEADER"}for(var d=!1;u.buffer;){if(!/\r\n|\n/.test(u.buffer))return this;switch(d?d=!1:c=s(),u.state){case"HEADER":/:/.test(c)?function(t){t.match(/X-TIMESTAMP-MAP/)?o(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":l(e)}},/=/):o(t,function(t,e){switch(t){case"Region":a(e)}},/:/)}(c):c||(u.state="ID");continue;case"NOTE":c||(u.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){u.state="NOTE";break}if(!c)continue;if(u.cue=new(u.vttjs.VTTCue||u.window.VTTCue)(0,0,""),u.state="CUE",c.indexOf("-->")===-1){u.cue.id=c;continue}case"CUE":try{i(c,u.cue,u.regionList)}catch(t){u.reportOrThrowError(t),u.cue=null,u.state="BADCUE";continue}u.state="CUETEXT";continue;case"CUETEXT":var h=c.indexOf("-->")!==-1;if(!c||h&&(d=!0)){u.oncue&&u.oncue(u.cue),u.cue=null,u.state="ID";continue}u.cue.text&&(u.cue.text+="\n"),u.cue.text+=c;continue;case"BADCUE":c||(u.state="ID");continue}}}catch(t){u.reportOrThrowError(t),"CUETEXT"===u.state&&u.cue&&u.oncue&&u.oncue(u.cue),u.cue=null,u.state="INITIAL"===u.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new e(e.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.WebVTT=f}(this,this.vttjs)},{}],164:[function(t,e,n){void 0!==e&&e.exports&&(this.VTTCue=this.VTTCue||t("./vttcue").VTTCue),function(t){t.VTTCue.prototype.toJSON=function(){var t={},e=this;return Object.keys(this).forEach(function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(t[n]=e[n])}),t},t.VTTCue.create=function(e){if(!e.hasOwnProperty("startTime")||!e.hasOwnProperty("endTime")||!e.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new t.VTTCue(e.startTime,e.endTime,e.text);for(var r in e)n.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.VTTCue.fromJSON=function(t){return this.create(JSON.parse(t))}}(this)},{"./vttcue":165}],165:[function(t,e,n){!function(t,e){function n(t){return"string"==typeof t&&(!!a[t.toLowerCase()]&&t.toLowerCase())}function r(t){return"string"==typeof t&&(!!l[t.toLowerCase()]&&t.toLowerCase())}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function i(t,e,i){var a=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?a=document.createElement("custom"):u.enumerable=!0,a.hasBeenReset=!1;var c="",p=!1,d=t,h=e,f=i,y=null,v="",m=!0,g="auto",_="start",b=50,w="middle",T=50,j="middle";if(Object.defineProperty(a,"id",o({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(a,"pauseOnExit",o({},u,{get:function(){return p},set:function(t){p=!!t}})),Object.defineProperty(a,"startTime",o({},u,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",o({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",o({},u,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",o({},u,{get:function(){return y},set:function(t){y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",o({},u,{get:function(){return v},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",o({},u,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",o({},u,{get:function(){return g},set:function(t){if("number"!=typeof t&&t!==s)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",o({},u,{get:function(){return _},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",o({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",o({},u,{get:function(){return w},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",o({},u,{get:function(){return T},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",o({},u,{get:function(){return j},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");j=e,this.hasBeenReset=!0}})),a.displayState=void 0,l)return a}var s="auto",a={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||i,e.VTTCue=i}(this,this.vttjs||{})},{}],166:[function(t,e,n){void 0!==e&&e.exports&&(this.VTTRegion=t("./vttregion").VTTRegion),function(t){t.VTTRegion.create=function(e){var n=new t.VTTRegion;for(var r in e)n.hasOwnProperty(r)&&(n[r]=e[r]);return n},t.VTTRegion.fromJSON=function(t){return this.create(JSON.parse(t))}}(this)},{"./vttregion":167}],167:[function(t,e,n){!function(t,e){function n(t){return"string"==typeof t&&(!!i[t.toLowerCase()]&&t.toLowerCase())}function r(t){return"number"==typeof t&&t>=0&&t<=100}function o(){var t=100,e=3,o=0,i=100,s=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");o=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}var i={"":!0,up:!0};t.VTTRegion=t.VTTRegion||o,e.VTTRegion=o}(this,this.vttjs||{})},{}],168:[function(t,e,n){!function(r,o){"object"==typeof n&&void 0!==e?e.exports=o(t("video.js")):"function"==typeof define&&define.amd?define(["videojs"],function(t){return r.Youtube=o(t)}):r.Youtube=o(r.videojs)}(this,function(t){"use strict";function e(){YT.ready(function(){o.isApiReady=!0;for(var t=0;t<o.apiReadyQueue.length;++t)o.apiReadyQueue[t].initYTPlayer()})}var n=t.browser.IS_IOS||t.browser.IS_ANDROID,r=t.getTech("Tech"),o=t.extend(r,{constructor:function(t,e){r.call(this,t,e),this.setPoster(t.poster),this.setSrc(this.options_.source,!0),setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube",n&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),o.isApiReady?this.initYTPlayer():o.apiReadyQueue.push(this)}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo(),this.ytPlayer.destroy();else{var t=o.apiReadyQueue.indexOf(this);t!==-1&&o.apiReadyQueue.splice(t,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),r.prototype.dispose.call(this)},createEl:function(){var t=document.createElement("div");t.setAttribute("id",this.options_.techId),t.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),t.setAttribute("class","vjs-tech");var e=document.createElement("div");if(e.appendChild(t),!n&&!this.options_.ytControls){var r=document.createElement("div");r.setAttribute("class","vjs-iframe-blocker"),r.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),r.onclick=function(){this.pause()}.bind(this),e.appendChild(r)}return e},initYTPlayer:function(){var t={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(void 0!==this.options_.autohide&&(t.autohide=this.options_.autohide),void 0!==this.options_.cc_load_policy&&(t.cc_load_policy=this.options_.cc_load_policy),void 0!==this.options_.ytControls&&(t.controls=this.options_.ytControls),void 0!==this.options_.disablekb&&(t.disablekb=this.options_.disablekb),void 0!==this.options_.end&&(t.end=this.options_.end),void 0!==this.options_.color&&(t.color=this.options_.color),t.controls?void 0!==this.options_.fs&&(t.fs=this.options_.fs):t.fs=0,void 0!==this.options_.end&&(t.end=this.options_.end),void 0!==this.options_.hl?t.hl=this.options_.hl:void 0!==this.options_.language&&(t.hl=this.options_.language.substr(0,2)),void 0!==this.options_.iv_load_policy&&(t.iv_load_policy=this.options_.iv_load_policy),void 0!==this.options_.list?t.list=this.options_.list:this.url&&void 0!==this.url.listId&&(t.list=this.url.listId),void 0!==this.options_.listType&&(t.listType=this.options_.listType),void 0!==this.options_.modestbranding&&(t.modestbranding=this.options_.modestbranding),void 0!==this.options_.playlist&&(t.playlist=this.options_.playlist),void 0!==this.options_.playsinline&&(t.playsinline=this.options_.playsinline),void 0!==this.options_.rel&&(t.rel=this.options_.rel),void 0!==this.options_.showinfo&&(t.showinfo=this.options_.showinfo),void 0!==this.options_.start&&(t.start=this.options_.start),void 0!==this.options_.theme&&(t.theme=this.options_.theme),void 0!==this.options_.customVars){var e=this.options_.customVars;Object.keys(e).forEach(function(n){t[n]=e[n]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=t.list,this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:t,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute(),this.ytPlayer.getAvailablePlaybackRates().length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(t){var e=t.data;if(e!==this.lastState&&!this.errorNumber)switch(this.lastState=e,e){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}},onPlayerError:function(t){this.errorNumber=t.data,this.trigger("pause"),this.trigger("error")},error:function(){var t=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:t,message:"Error while trying to play the video"};case 2:case 100:return{code:t,message:"Unable to find the video"};case 101:case 150:return{code:t,message:"Playback on other Websites has been disabled by the video owner."}}return{code:t,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(t){var e={videoId:t};this.options_.start&&(e.startSeconds=this.options_.start),this.options_.end&&(e.endEnd=this.options_.end),this.ytPlayer.loadVideoById(e)},cueVideoById_:function(t){var e={videoId:t};this.options_.start&&(e.startSeconds=this.options_.start),this.options_.end&&(e.endEnd=this.options_.end),this.ytPlayer.cueVideoById(e)},src:function(t){return t&&this.setSrc({src:t}),this.source},poster:function(){return n?null:this.poster_},setPoster:function(t){this.poster_=t},setSrc:function(t){t&&t.src&&(delete this.errorNumber,this.source=t,this.url=o.parseUrl(t.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!n?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(t){this.options_.autoplay=t},loop:function(){return this.options_.loop},setLoop:function(t){this.options_.loop=t},play:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(t){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(t,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==t&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?t.createTimeRange(0,this.ytPlayer.getDuration()):t.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(t){this.ytPlayer&&this.ytPlayer.setPlaybackRate(t)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(t){this.ytPlayer&&(this.ytPlayer.setVolume(100*t),this.setTimeout(function(){this.trigger("volumechange")},50))},muted:function(){return!!this.ytPlayer&&this.ytPlayer.isMuted()},setMuted:function(t){this.ytPlayer&&(this.muted(!0),t?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return t.createTimeRange();var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return t.createTimeRange(0,e)},preload:function(){},load:function(){},reset:function(){},supportsFullScreen:function(){return!0},checkHighResPoster:function(){var t="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var e=new Image;e.onload=function(){if("naturalHeight"in e){if(e.naturalHeight<=90||e.naturalWidth<=120)return}else if(e.height<=90||e.width<=120)return;this.poster_=t,this.trigger("posterchange")}.bind(this),e.onerror=function(){},e.src=t}catch(t){}}});o.isSupported=function(){return!0},o.canPlaySource=function(t){return o.canPlayType(t.type)},o.canPlayType=function(t){return"video/youtube"===t},o.parseUrl=function(t){var e={videoId:null},n=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);n&&11===n[2].length&&(e.videoId=n[2]);return n=t.match(/[?&]list=([^#\&\?]+)/),n&&n[1]&&(e.listId=n[1]),e},o.apiReadyQueue=[],function(t,e){var n=!1,r=document.createElement("script"),o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),r.onload=function(){n||(n=!0,e())},r.onreadystatechange=function(){n||"complete"!==this.readyState&&"loaded"!==this.readyState||(n=!0,e())},r.src=t}("https://www.youtube.com/iframe_api",e),function(){var t=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}(),void 0!==t.registerTech?t.registerTech("Youtube",o):t.registerComponent("Youtube",o)})},{"video.js":161}],169:[function(t,e,n){"use strict";function r(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,n){var r=t;return c(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=d(e,{uri:t}),r.callback=n,r}function i(t,e,n){return e=o(t,e,n),s(e)}function s(t){function e(){4===d.readyState&&s()}function n(){var t=void 0;if(t=d.response?d.response:d.responseText||a(d),w)try{t=JSON.parse(t)}catch(t){}return t}function o(t){return clearTimeout(y),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,u(t,c)}function s(){if(!f){var e;clearTimeout(y),e=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var r=c,o=null;return 0!==e?(r={body:n(),statusCode:e,method:m,headers:{},url:v,rawRequest:d},d.getAllResponseHeaders&&(r.headers=p(d.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),u(o,r,r.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var l=!1,u=function(e,n,r){l||(l=!0,t.callback(e,n,r))},c={body:void 0,headers:{},statusCode:0,method:m,url:v,rawRequest:d},d=t.xhr||null;d||(d=t.cors||t.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var h,f,y,v=d.url=t.uri||t.url,m=d.method=t.method||"GET",g=t.body||t.data||null,_=d.headers=t.headers||{},b=!!t.sync,w=!1;if("json"in t&&(w=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),g=JSON.stringify(t.json))),d.onreadystatechange=e,d.onload=s,d.onerror=o,d.onprogress=function(){},d.ontimeout=o,d.open(m,v,!b,t.username,t.password),b||(d.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(y=setTimeout(function(){f=!0,d.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)},t.timeout)),d.setRequestHeader)for(h in _)_.hasOwnProperty(h)&&d.setRequestHeader(h,_[h]);else if(t.headers&&!r(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(g),d}function a(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function l(){}var u=t("global/window"),c=t("is-function"),p=t("parse-headers"),d=t("xtend");e.exports=i,i.XMLHttpRequest=u.XMLHttpRequest||l,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:u.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){i["delete"===t?"del":t]=function(e,n,r){return n=o(e,n,r),n.method=t.toUpperCase(),s(n)}})},{"global/window":13,"is-function":15,"parse-headers":18,xtend:170}],170:[function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty},{}],171:[function(t,e,n){"use strict";var r=t("./../models/ContextVideo"),o=t("./../models/configurator"),i=t("./../models/TextSearch"),s=t("./../models/dispatcher"),a=(i.startSearch(),null),l=function(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,r){t[n]=r});return t}();void 0===l.pid?l={pid:"20",affiliate_id:"56015401b3da9",h1:"IPHONE 7"}:l.h1=unescape(l.h1),a=l.h1||"Sony";var u=document.querySelector("#container2");new o({auth:{affiliate_id:l.affiliate_id,pid:l.pid},successFn:function(t){var e=new r(t);e.searchYouTube(a,function(n){var r=JSON.parse(n);window.colorPixels=new s("mycontoller","container","placeholder");var o=window.colorPixels;e.playAds=function(n){o.setConfig(t,function(){n.play(),e.container.style.display="block",console.log("exec play")})};for(var i=0;i<r.length;i++)e.renderJsVideoPlayer(r[i],u)})}})},{"./../models/ContextVideo":1,"./../models/TextSearch":3,"./../models/configurator":5,"./../models/dispatcher":6}]},{},[171]);